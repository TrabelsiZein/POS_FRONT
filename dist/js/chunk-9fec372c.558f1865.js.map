{"version":3,"sources":["webpack:///./node_modules/core-js/modules/es.array.reduce.js","webpack:///./src/@core/components/toastification/ToastificationContent.vue?0408","webpack:///src/@core/components/toastification/ToastificationContent.vue","webpack:///./src/@core/components/toastification/ToastificationContent.vue?5e2e","webpack:///./src/@core/components/toastification/ToastificationContent.vue","webpack:///./src/@core/components/toastification/ToastificationContent.vue?b3fb","webpack:///./node_modules/core-js/modules/es.array.sort.js","webpack:///./src/views/pos/Payment.vue?0508","webpack:///./node_modules/core-js/internals/array-reduce.js","webpack:///./src/views/pos/Payment.vue?53de","webpack:///src/views/pos/Payment.vue","webpack:///./src/views/pos/Payment.vue?819e","webpack:///./src/views/pos/Payment.vue?447f"],"names":["$","$reduce","left","arrayMethodIsStrict","arrayMethodUsesToLength","CHROME_VERSION","IS_NODE","STRICT_METHOD","USES_TO_LENGTH","1","CHROME_BUG","target","proto","forced","reduce","callbackfn","this","arguments","length","undefined","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","variant","icon","class","domProps","_s","title","_e","text","on","$event","$emit","hideClose","staticRenderFns","components","BAvatar","props","type","String","default","Boolean","component","aFunction","toObject","fails","test","nativeSort","sort","FAILS_ON_UNDEFINED","FAILS_ON_NULL","FORCED","comparefn","call","IndexedObject","toLength","createMethod","IS_RIGHT","that","argumentsLength","memo","O","self","index","i","TypeError","module","exports","right","loading","scopedSlots","_u","key","fn","_v","proxy","goBack","selectedCustomer","name","passengerCustomer","customerCode","formatTunCurrency","orderSummary","totalAmount","headerDiscountAmount","discountPercent","discountAmount","toFixed","totalAfterDiscount","totalPaid","remainingBalance","Math","abs","_m","_l","method","id","active","selectedPaymentMethodId","selectPaymentMethod","getTotalPaidByMethod","paymentCards","card","selected","selectedCardIndex","selectCard","getPaymentMethodName","paymentMethodId","stopPropagation","removeCard","isReturnVoucherPayment","indexOf","_k","keyCode","validateVoucher","model","value","callback","$$v","$set","expression","voucherNumber","voucherRemainingAmount","ref","refInFor","updatePaymentTotal","_n","requiresTitleNumber","requiresDueDate","requiresDrawerName","requiresIssuingBank","num","handleKeyboardKey","cart","saveAsPending","openDiscountDialog","openCustomerDialog","canCompletePayment","completePayment","showDiscountDialog","discountType","updateDiscountPreview","discountValue","staticStyle","calculatePreviewDiscount","calculatePreviewTotal","clearHeaderDiscount","applyHeaderDiscount","data","paymentMethods","customers","selectedCustomerId","customerSearchTerm","customerSearchResults","showCustomerDropdown","searchingCustomers","selectedCustomerObj","searchTimeout","pendingTicketsCount","cardIdCounter","computed","pendingTicketId","$store","state","pos","_this","find","c","sum","amount","parseFloat","_this$$store$state$po","summary","total","_this$$store$state$po2","discount","max","isFullyPaid","_this2","allValid","every","paymentMethod","getPaymentMethodById","trim","requireTitleNumber","titleNumber","requireDueDate","dueDate","requireDrawerName","drawerName","requireIssuingBank","issuingBank","watch","handler","newSummary","_objectSpread","deep","immediate","mounted","_this3","_asyncToGenerator","_regeneratorRuntime","mark","_callee","wrap","_context","prev","next","loadCartData","loadPaymentMethods","loadPassengerCustomer","loadPendingTicketsCount","resetCustomerToPassenger","initializeDefaultPayment","document","addEventListener","handleKeyboardInput","stop","beforeDestroy","removeEventListener","clearTimeout","methods","_this4","console","error","$router","push","storeSummary","subtotal","taxAmount","log","$toast","ToastificationContent","setTimeout","_this5","_callee2","response","_context2","$http","get","sent","status","t0","dispatch","loadSelectedCustomerDetails","_this6","_callee3","_context3","abrupt","concat","searchCustomers","_this7","searchTerm","_callee4","_context4","params","q","finish","selectCustomer","customer","onCustomerChange","clearCustomerSelection","_this$$store$state$po3","discountPercentage","percentage","min","_this$orderSummary","_this$orderSummary2","$forceUpdate","_this8","_callee5","_context5","filter","pm","a","b","orderA","displayOrder","orderB","getClientEspecesPaymentMethod","clientEspeces","addOrUpdatePaymentCard","methodId","_this9","existingCard","cardMethod","newCard","unshift","$nextTick","focusAmountInput","splice","onPaymentMethodChange","_this10","_callee6","voucherData","errorMessage","_context6","isValid","remainingAmount","message","inputRef","$refs","focus","event","tagName","preventDefault","currentAmount","newAmount","slice","includes","formatted","toLocaleString","minimumFractionDigits","maximumFractionDigits","printReceipt","saleData","_this11","_callee7","Vue","ReceiptComponent","instance","printWindow","barcodeValue","svgElement","_context7","$root","constructor","$options","_base","extend","ReceiptTemplate","parent","propsData","$mount","window","open","Promise","resolve","salesNumber","$el","querySelector","JsBarcode","format","width","height","displayValue","margin","background","lineColor","write","outerHTML","close","print","$destroy","_this12","_callee8","_response$data","payments","saleRequest","isPendingTicket","_context8","map","reference","notes","paidAmount","changeAmount","customerId","lines","item","lineTotal","unitPrice","quantity","vatPercent","defaultVAT","originalLineTotalIncludingVat","lineTotalIncludingVat","discountedLineTotal","vatAmount","unitPriceIncludingVat","itemId","post","_this13","_callee9","_context9","_this14","_callee10","_context10"],"mappings":"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","file":"js/chunk-9fec372c.558f1865.js","sourcesContent":["'use strict';\nvar $ = require('../internals/export');\nvar $reduce = require('../internals/array-reduce').left;\nvar arrayMethodIsStrict = require('../internals/array-method-is-strict');\nvar arrayMethodUsesToLength = require('../internals/array-method-uses-to-length');\nvar CHROME_VERSION = require('../internals/engine-v8-version');\nvar IS_NODE = require('../internals/engine-is-node');\n\nvar STRICT_METHOD = arrayMethodIsStrict('reduce');\nvar USES_TO_LENGTH = arrayMethodUsesToLength('reduce', { 1: 0 });\n// Chrome 80-82 has a critical bug\n// https://bugs.chromium.org/p/chromium/issues/detail?id=1049982\nvar CHROME_BUG = !IS_NODE && CHROME_VERSION > 79 && CHROME_VERSION < 83;\n\n// `Array.prototype.reduce` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.reduce\n$({ target: 'Array', proto: true, forced: !STRICT_METHOD || !USES_TO_LENGTH || CHROME_BUG }, {\n  reduce: function reduce(callbackfn /* , initialValue */) {\n    return $reduce(this, callbackfn, arguments.length, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"toastification\"},[_c('div',{staticClass:\"d-flex align-items-start\"},[_c('b-avatar',{staticClass:\"mr-75 flex-shrink-0\",attrs:{\"variant\":_vm.variant,\"size\":\"1.8rem\"}},[_c('feather-icon',{attrs:{\"icon\":_vm.icon,\"size\":\"15\"}})],1),_c('div',{staticClass:\"d-flex flex-grow-1\"},[_c('div',[(_vm.title)?_c('h5',{staticClass:\"mb-0 font-weight-bolder toastification-title\",class:(\"text-\" + _vm.variant),domProps:{\"textContent\":_vm._s(_vm.title)}}):_vm._e(),(_vm.text)?_c('small',{staticClass:\"d-inline-block text-body\",domProps:{\"textContent\":_vm._s(_vm.text)}}):_vm._e()]),_c('span',{staticClass:\"cursor-pointer toastification-close-icon ml-auto \",on:{\"click\":function($event){return _vm.$emit('close-toast')}}},[(!_vm.hideClose)?_c('feather-icon',{staticClass:\"text-body\",attrs:{\"icon\":\"XIcon\"}}):_vm._e()],1)])],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"toastification\">\r\n    <div class=\"d-flex align-items-start\">\r\n      <b-avatar\r\n        :variant=\"variant\"\r\n        size=\"1.8rem\"\r\n        class=\"mr-75 flex-shrink-0\"\r\n      >\r\n        <feather-icon\r\n          :icon=\"icon\"\r\n          size=\"15\"\r\n        />\r\n      </b-avatar>\r\n      <div class=\"d-flex flex-grow-1\">\r\n        <div>\r\n          <h5\r\n            v-if=\"title\"\r\n            class=\"mb-0 font-weight-bolder toastification-title\"\r\n            :class=\"`text-${variant}`\"\r\n            v-text=\"title\"\r\n          />\r\n          <small\r\n            v-if=\"text\"\r\n            class=\"d-inline-block text-body\"\r\n            v-text=\"text\"\r\n          />\r\n        </div>\r\n        <span\r\n          class=\"cursor-pointer toastification-close-icon ml-auto \"\r\n          @click=\"$emit('close-toast')\"\r\n        >\r\n          <feather-icon\r\n            v-if=\"!hideClose\"\r\n            icon=\"XIcon\"\r\n            class=\"text-body\"\r\n          />\r\n        </span>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { BAvatar } from 'bootstrap-vue'\r\n\r\nexport default {\r\n  components: {\r\n    BAvatar,\r\n  },\r\n  props: {\r\n    variant: {\r\n      type: String,\r\n      default: 'primary',\r\n    },\r\n    icon: {\r\n      type: String,\r\n      default: null,\r\n    },\r\n    title: {\r\n      type: String,\r\n      default: null,\r\n    },\r\n    text: {\r\n      type: String,\r\n      default: null,\r\n    },\r\n    hideClose: {\r\n      type: Boolean,\r\n      default: false,\r\n    },\r\n  },\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.toastification-close-icon,\r\n.toastification-title {\r\n  line-height: 26px;\r\n}\r\n\r\n.toastification-title {\r\n  color: inherit;\r\n}\r\n</style>\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ToastificationContent.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ToastificationContent.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./ToastificationContent.vue?vue&type=template&id=55dd3057&scoped=true\"\nimport script from \"./ToastificationContent.vue?vue&type=script&lang=js\"\nexport * from \"./ToastificationContent.vue?vue&type=script&lang=js\"\nimport style0 from \"./ToastificationContent.vue?vue&type=style&index=0&id=55dd3057&prod&lang=scss&scoped=true\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"55dd3057\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ToastificationContent.vue?vue&type=style&index=0&id=55dd3057&prod&lang=scss&scoped=true\"","'use strict';\nvar $ = require('../internals/export');\nvar aFunction = require('../internals/a-function');\nvar toObject = require('../internals/to-object');\nvar fails = require('../internals/fails');\nvar arrayMethodIsStrict = require('../internals/array-method-is-strict');\n\nvar test = [];\nvar nativeSort = test.sort;\n\n// IE8-\nvar FAILS_ON_UNDEFINED = fails(function () {\n  test.sort(undefined);\n});\n// V8 bug\nvar FAILS_ON_NULL = fails(function () {\n  test.sort(null);\n});\n// Old WebKit\nvar STRICT_METHOD = arrayMethodIsStrict('sort');\n\nvar FORCED = FAILS_ON_UNDEFINED || !FAILS_ON_NULL || !STRICT_METHOD;\n\n// `Array.prototype.sort` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.sort\n$({ target: 'Array', proto: true, forced: FORCED }, {\n  sort: function sort(comparefn) {\n    return comparefn === undefined\n      ? nativeSort.call(toObject(this))\n      : nativeSort.call(toObject(this), aFunction(comparefn));\n  }\n});\n","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Payment.vue?vue&type=style&index=0&id=76d49d1c&prod&scoped=true&lang=css\"","var aFunction = require('../internals/a-function');\nvar toObject = require('../internals/to-object');\nvar IndexedObject = require('../internals/indexed-object');\nvar toLength = require('../internals/to-length');\n\n// `Array.prototype.{ reduce, reduceRight }` methods implementation\nvar createMethod = function (IS_RIGHT) {\n  return function (that, callbackfn, argumentsLength, memo) {\n    aFunction(callbackfn);\n    var O = toObject(that);\n    var self = IndexedObject(O);\n    var length = toLength(O.length);\n    var index = IS_RIGHT ? length - 1 : 0;\n    var i = IS_RIGHT ? -1 : 1;\n    if (argumentsLength < 2) while (true) {\n      if (index in self) {\n        memo = self[index];\n        index += i;\n        break;\n      }\n      index += i;\n      if (IS_RIGHT ? index < 0 : length <= index) {\n        throw TypeError('Reduce of empty array with no initial value');\n      }\n    }\n    for (;IS_RIGHT ? index >= 0 : length > index; index += i) if (index in self) {\n      memo = callbackfn(memo, self[index], index, O);\n    }\n    return memo;\n  };\n};\n\nmodule.exports = {\n  // `Array.prototype.reduce` method\n  // https://tc39.github.io/ecma262/#sec-array.prototype.reduce\n  left: createMethod(false),\n  // `Array.prototype.reduceRight` method\n  // https://tc39.github.io/ecma262/#sec-array.prototype.reduceright\n  right: createMethod(true)\n};\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"payment-container\"},[_c('b-overlay',{staticClass:\"loading-overlay\",attrs:{\"show\":_vm.loading,\"rounded\":\"sm\",\"opacity\":\"0.85\",\"no-wrap\":\"\"},scopedSlots:_vm._u([{key:\"overlay\",fn:function(){return [_c('div',{staticClass:\"text-center\"},[_c('b-spinner',{staticClass:\"mb-3\",attrs:{\"type\":\"grow\",\"variant\":\"primary\"}}),_c('p',{staticClass:\"h4\"},[_vm._v(\"Processing Payment...\")]),_c('p',[_vm._v(\"Creating ticket and printing receipt\")])],1)]},proxy:true}])},[_c('div')]),_c('div',{staticClass:\"panel-summary\"},[_c('div',{staticClass:\"summary-left\"},[_c('b-button',{staticClass:\"back-btn\",attrs:{\"variant\":\"outline-secondary\",\"disabled\":_vm.loading},on:{\"click\":_vm.goBack}},[_c('feather-icon',{staticClass:\"mr-50\",attrs:{\"icon\":\"ArrowLeftIcon\",\"size\":\"18\"}}),_vm._v(\" Back \")],1),_c('div',{staticClass:\"summary-customer\"},[_c('div',{staticClass:\"customer-info-display\"},[(_vm.selectedCustomer)?_c('strong',[_vm._v(_vm._s(_vm.selectedCustomer.name))]):(_vm.passengerCustomer)?_c('strong',[_vm._v(_vm._s(_vm.passengerCustomer.name))]):_vm._e(),(_vm.passengerCustomer && (!_vm.selectedCustomer || _vm.selectedCustomer.customerCode === 'PASSENGER'))?_c('b-badge',{staticClass:\"ml-2\",attrs:{\"variant\":\"info\"}},[_vm._v(\"Default\")]):_vm._e(),(_vm.selectedCustomer)?_c('small',{staticClass:\"text-muted d-block\"},[_vm._v(_vm._s(_vm.selectedCustomer.customerCode))]):(_vm.passengerCustomer)?_c('small',{staticClass:\"text-muted d-block\"},[_vm._v(_vm._s(_vm.passengerCustomer.customerCode))]):_vm._e()],1)])],1),_c('div',{staticClass:\"summary-totals\"},[_c('div',{staticClass:\"summary-item\"},[_c('span',{staticClass:\"summary-label\"},[_vm._v(\"Ticket Total:\")]),_c('span',{staticClass:\"summary-value\"},[_vm._v(_vm._s(_vm.formatTunCurrency(_vm.orderSummary.totalAmount)))])]),(_vm.headerDiscountAmount > 0)?_c('div',{staticClass:\"summary-item\"},[_c('span',{staticClass:\"summary-label\"},[_vm._v(\"Discount:\")]),_c('span',{staticClass:\"summary-value text-danger\"},[(_vm.orderSummary && (_vm.orderSummary.discountPercent > 0 || _vm.orderSummary.discountAmount > 0))?[(_vm.orderSummary.discountPercent > 0)?_c('span',[_vm._v(\" \"+_vm._s(_vm.orderSummary.discountPercent.toFixed(3))+\"% \")]):_vm._e(),(_vm.orderSummary.discountPercent > 0 && _vm.orderSummary.discountAmount > 0)?_c('span',[_vm._v(\" / \")]):_vm._e(),(_vm.orderSummary.discountAmount > 0)?_c('span',[_vm._v(\" \"+_vm._s(_vm.formatTunCurrency(_vm.orderSummary.discountAmount))+\" \")]):_vm._e()]:_vm._e()],2)]):_vm._e(),_c('div',{staticClass:\"summary-item\"},[_c('span',{staticClass:\"summary-label\"},[_vm._v(\"Total After Discount:\")]),_c('span',{staticClass:\"summary-value\"},[_vm._v(_vm._s(_vm.formatTunCurrency(_vm.totalAfterDiscount)))])]),_c('div',{staticClass:\"summary-item\"},[_c('span',{staticClass:\"summary-label\"},[_vm._v(\"Total Paid:\")]),_c('span',{staticClass:\"summary-value text-success\"},[_vm._v(_vm._s(_vm.formatTunCurrency(_vm.totalPaid)))])]),_c('div',{staticClass:\"summary-item\"},[_c('span',{staticClass:\"summary-label\"},[_vm._v(\"Remaining:\")]),_c('span',{staticClass:\"summary-value\",class:_vm.remainingBalance > 0 ? 'text-danger' : 'text-success'},[_vm._v(\" \"+_vm._s(_vm.formatTunCurrency(Math.abs(_vm.remainingBalance)))+\" \")])])])]),_c('div',{staticClass:\"payment-main-content\"},[_c('div',{staticClass:\"panel-payment-classes\"},[_vm._m(0),_c('div',{staticClass:\"payment-classes-list\"},_vm._l((_vm.paymentMethods),function(method){return _c('div',{key:method.id,staticClass:\"payment-class-item\",class:{ active: _vm.selectedPaymentMethodId === method.id },on:{\"click\":function($event){return _vm.selectPaymentMethod(method.id)}}},[_c('span',{staticClass:\"payment-class-name\"},[_vm._v(_vm._s(method.name))]),_c('span',{staticClass:\"payment-class-total\"},[_vm._v(_vm._s(_vm.formatTunCurrency(_vm.getTotalPaidByMethod(method.id))))])])}),0)]),_c('div',{staticClass:\"payment-right-content\"},[_c('div',{staticClass:\"panel-payment-cards\"},[_vm._m(1),_c('div',{staticClass:\"payment-cards-container\"},[(_vm.paymentCards.length === 0)?_c('div',{staticClass:\"empty-cards\"},[_c('feather-icon',{staticClass:\"mb-2 text-muted\",attrs:{\"icon\":\"CreditCardIcon\",\"size\":\"48\"}}),_c('p',{staticClass:\"mb-0 text-muted\"},[_vm._v(\"Select a payment method to add payment\")])],1):_c('div',{staticClass:\"payment-cards-list\"},_vm._l((_vm.paymentCards),function(card,index){return _c('div',{key:card.id || index,staticClass:\"payment-card\",class:{ selected: _vm.selectedCardIndex === index },on:{\"click\":function($event){return _vm.selectCard(index)}}},[_c('div',{staticClass:\"payment-card-header\"},[_c('div',{staticClass:\"payment-card-title\"},[_c('strong',[_vm._v(_vm._s(_vm.getPaymentMethodName(card.paymentMethodId) || 'Unknown Method'))])]),_c('b-button',{staticClass:\"card-delete-btn\",attrs:{\"variant\":\"link\",\"size\":\"sm\",\"disabled\":_vm.loading},on:{\"click\":function($event){$event.stopPropagation();return _vm.removeCard(index)}}},[_c('feather-icon',{attrs:{\"icon\":\"XIcon\",\"size\":\"16\"}})],1)],1),_c('div',{staticClass:\"payment-card-body\"},[(_vm.isReturnVoucherPayment(card))?_c('b-form-group',{staticClass:\"mb-2\",attrs:{\"label\":\"Voucher Number *\"}},[_c('b-input-group',[_c('b-form-input',{attrs:{\"placeholder\":\"Enter voucher number...\",\"disabled\":_vm.loading,\"size\":\"sm\"},on:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.validateVoucher(card)},\"click\":function($event){$event.stopPropagation();}},model:{value:(card.voucherNumber),callback:function ($$v) {_vm.$set(card, \"voucherNumber\", $$v)},expression:\"card.voucherNumber\"}}),_c('b-input-group-append',[_c('b-button',{attrs:{\"variant\":\"outline-primary\",\"disabled\":_vm.loading || !card.voucherNumber,\"size\":\"sm\"},on:{\"click\":function($event){return _vm.validateVoucher(card)}}},[_c('feather-icon',{attrs:{\"icon\":\"SearchIcon\",\"size\":\"12\"}})],1)],1)],1),(card.voucherRemainingAmount !== undefined)?_c('small',{staticClass:\"text-muted\"},[_vm._v(\" Remaining: \"+_vm._s(_vm.formatTunCurrency(card.voucherRemainingAmount))+\" \")]):_vm._e()],1):_vm._e(),_c('b-form-group',{staticClass:\"mb-2\",attrs:{\"label\":\"Amount *\"}},[_c('b-input-group',[_c('b-form-input',{ref:(\"amount-input-\" + index),refInFor:true,attrs:{\"type\":\"number\",\"step\":\"0.01\",\"min\":\"0.01\",\"placeholder\":\"0.00\",\"disabled\":_vm.isReturnVoucherPayment(card) || _vm.loading,\"readonly\":_vm.isReturnVoucherPayment(card),\"size\":\"\"},on:{\"input\":_vm.updatePaymentTotal,\"click\":function($event){$event.stopPropagation();}},model:{value:(card.amount),callback:function ($$v) {_vm.$set(card, \"amount\", _vm._n($$v))},expression:\"card.amount\"}}),_c('b-input-group-append',[_c('span',{staticClass:\"input-group-text\"},[_vm._v(\"TND\")])])],1),(_vm.isReturnVoucherPayment(card))?_c('small',{staticClass:\"text-muted\"},[_vm._v(\" Amount is automatically set from voucher \")]):_vm._e()],1),(_vm.requiresTitleNumber(card))?_c('b-form-group',{staticClass:\"mb-2\",attrs:{\"label\":\"N Titre *\"}},[_c('b-form-input',{attrs:{\"placeholder\":\"N du titre\",\"size\":\"sm\"},on:{\"click\":function($event){$event.stopPropagation();}},model:{value:(card.titleNumber),callback:function ($$v) {_vm.$set(card, \"titleNumber\", $$v)},expression:\"card.titleNumber\"}})],1):_vm._e(),(_vm.requiresDueDate(card))?_c('b-form-group',{staticClass:\"mb-2\",attrs:{\"label\":\"Date chance *\"}},[_c('b-form-input',{attrs:{\"type\":\"date\",\"size\":\"sm\"},on:{\"click\":function($event){$event.stopPropagation();}},model:{value:(card.dueDate),callback:function ($$v) {_vm.$set(card, \"dueDate\", $$v)},expression:\"card.dueDate\"}})],1):_vm._e(),(_vm.requiresDrawerName(card))?_c('b-form-group',{staticClass:\"mb-2\",attrs:{\"label\":\"Nom du tireur *\"}},[_c('b-form-input',{attrs:{\"placeholder\":\"Nom du tireur\",\"size\":\"sm\"},on:{\"click\":function($event){$event.stopPropagation();}},model:{value:(card.drawerName),callback:function ($$v) {_vm.$set(card, \"drawerName\", $$v)},expression:\"card.drawerName\"}})],1):_vm._e(),(_vm.requiresIssuingBank(card))?_c('b-form-group',{staticClass:\"mb-2\",attrs:{\"label\":\"Banque mettrice *\"}},[_c('b-form-input',{attrs:{\"placeholder\":\"Banque mettrice\",\"size\":\"sm\"},on:{\"click\":function($event){$event.stopPropagation();}},model:{value:(card.issuingBank),callback:function ($$v) {_vm.$set(card, \"issuingBank\", $$v)},expression:\"card.issuingBank\"}})],1):_vm._e()],1)])}),0)])]),_c('div',{staticClass:\"panel-keyboard\"},[_c('div',{staticClass:\"keyboard-grid\"},_vm._l(([1, 2, 3, 4, 5, 6, 7, 8, 9, '.', 0, '']),function(num){return _c('button',{key:num,staticClass:\"keyboard-key\",class:{ 'key-decimal': num === '.', 'key-backspace': num === '' },attrs:{\"disabled\":_vm.loading},on:{\"click\":function($event){return _vm.handleKeyboardKey(num)}}},[_vm._v(\" \"+_vm._s(num)+\" \")])}),0)])])]),_c('div',{staticClass:\"panel-actions\"},[_c('b-button',{staticClass:\"action-btn\",attrs:{\"variant\":\"warning\",\"size\":\"lg\",\"disabled\":_vm.cart.length === 0 || _vm.loading},on:{\"click\":_vm.saveAsPending}},[_c('feather-icon',{staticClass:\"mr-50\",attrs:{\"icon\":\"SaveIcon\",\"size\":\"18\"}}),(_vm.loading)?_c('span',[_vm._v(\"Saving...\")]):_c('span',[_vm._v(\"Save as Pending\")])],1),_c('b-button',{staticClass:\"action-btn\",attrs:{\"variant\":\"info\",\"size\":\"lg\",\"disabled\":_vm.loading},on:{\"click\":_vm.openDiscountDialog}},[_c('feather-icon',{staticClass:\"mr-50\",attrs:{\"icon\":\"PercentIcon\",\"size\":\"18\"}}),_vm._v(\" Discount \")],1),_c('b-button',{staticClass:\"action-btn\",attrs:{\"variant\":\"info\",\"size\":\"lg\",\"disabled\":_vm.loading},on:{\"click\":_vm.openCustomerDialog}},[_c('feather-icon',{staticClass:\"mr-50\",attrs:{\"icon\":\"UsersIcon\",\"size\":\"18\"}}),_vm._v(\" Customer \")],1),_c('b-button',{staticClass:\"action-btn\",attrs:{\"variant\":\"success\",\"size\":\"lg\",\"disabled\":!_vm.canCompletePayment || _vm.loading},on:{\"click\":_vm.completePayment}},[_c('feather-icon',{staticClass:\"mr-50\",attrs:{\"icon\":\"CheckCircleIcon\",\"size\":\"18\"}}),(_vm.loading)?_c('span',[_vm._v(\"Processing...\")]):_c('span',[_vm._v(\"Complete Payment\")])],1)],1),_c('b-modal',{attrs:{\"title\":\"Apply Header Discount\",\"hide-footer\":\"\",\"centered\":\"\",\"size\":\"md\",\"no-close-on-backdrop\":\"\"},on:{\"hide\":function($event){_vm.showDiscountDialog = false}},model:{value:(_vm.showDiscountDialog),callback:function ($$v) {_vm.showDiscountDialog=$$v},expression:\"showDiscountDialog\"}},[_c('div',{staticClass:\"discount-dialog\"},[_c('b-form-group',{staticClass:\"mb-3\",attrs:{\"label\":\"Discount Type\"}},[_c('b-form-radio-group',{staticClass:\"discount-type-radio\",attrs:{\"options\":[\n            { text: 'Percentage (%)', value: 'percentage' },\n            { text: 'Amount (TND)', value: 'amount' }\n          ]},model:{value:(_vm.discountType),callback:function ($$v) {_vm.discountType=$$v},expression:\"discountType\"}})],1),_c('b-form-group',{staticClass:\"mb-3\",attrs:{\"label\":_vm.discountType === 'percentage' ? 'Discount Percentage' : 'Discount Amount'}},[_c('b-input-group',[_c('b-form-input',{attrs:{\"type\":\"number\",\"step\":_vm.discountType === 'percentage' ? 0.01 : 0.01,\"min\":0,\"max\":_vm.discountType === 'percentage' ? 100 : _vm.orderSummary.totalAmount,\"placeholder\":_vm.discountType === 'percentage' ? 'Enter percentage...' : 'Enter amount...'},on:{\"input\":_vm.updateDiscountPreview},model:{value:(_vm.discountValue),callback:function ($$v) {_vm.discountValue=_vm._n($$v)},expression:\"discountValue\"}}),(_vm.discountType === 'percentage')?_c('b-input-group-append',[_c('span',{staticClass:\"input-group-text\"},[_vm._v(\"%\")])]):_c('b-input-group-append',[_c('span',{staticClass:\"input-group-text\"},[_vm._v(\"TND\")])])],1)],1),(_vm.discountValue)?_c('div',{staticClass:\"discount-preview mb-3 p-3\",staticStyle:{\"background\":\"#f8f9fa\",\"border-radius\":\"8px\"}},[_c('div',{staticClass:\"d-flex justify-content-between mb-2\"},[_c('span',[_vm._v(\"Ticket Total:\")]),_c('strong',[_vm._v(_vm._s(_vm.formatTunCurrency(_vm.orderSummary.totalAmount)))])]),_c('div',{staticClass:\"d-flex justify-content-between mb-2\"},[_c('span',[_vm._v(\"Discount:\")]),_c('strong',{staticClass:\"text-danger\"},[_vm._v(\" \"+_vm._s(_vm.formatTunCurrency(_vm.calculatePreviewDiscount()))+\" \"),(_vm.discountType === 'percentage')?_c('span',[_vm._v(\"(\"+_vm._s(_vm.discountValue)+\"%)\")]):_vm._e()])]),_c('hr'),_c('div',{staticClass:\"d-flex justify-content-between\"},[_c('span',[_c('strong',[_vm._v(\"Total After Discount:\")])]),_c('strong',{staticClass:\"text-success\"},[_vm._v(_vm._s(_vm.formatTunCurrency(_vm.calculatePreviewTotal())))])])]):_vm._e(),_c('div',{staticClass:\"d-flex justify-content-end\"},[_c('b-button',{staticClass:\"mr-2\",attrs:{\"variant\":\"secondary\"},on:{\"click\":function($event){_vm.showDiscountDialog = false}}},[_vm._v(\" Cancel \")]),(_vm.orderSummary.discountAmount > 0 || _vm.orderSummary.discountPercent > 0)?_c('b-button',{staticClass:\"mr-2\",attrs:{\"variant\":\"danger\"},on:{\"click\":_vm.clearHeaderDiscount}},[_vm._v(\" Clear Discount \")]):_vm._e(),_c('b-button',{attrs:{\"variant\":\"primary\",\"disabled\":!_vm.discountValue || _vm.discountValue <= 0},on:{\"click\":_vm.applyHeaderDiscount}},[_vm._v(\" Apply Discount \")])],1)],1)])],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"payment-classes-header\"},[_c('h5',[_vm._v(\"Payment Methods\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"payment-cards-header\"},[_c('h5',[_vm._v(\"Payment Details\")])])}]\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"payment-container\">\n    <!-- Loading Overlay -->\n    <b-overlay :show=\"loading\" rounded=\"sm\" opacity=\"0.85\" no-wrap class=\"loading-overlay\">\n      <template #overlay>\n        <div class=\"text-center\">\n          <b-spinner type=\"grow\" variant=\"primary\" class=\"mb-3\"></b-spinner>\n          <p class=\"h4\">Processing Payment...</p>\n          <p>Creating ticket and printing receipt</p>\n        </div>\n      </template>\n      <div></div>\n    </b-overlay>\n\n    <!-- Panel 1: Summary Panel (Top) -->\n    <div class=\"panel-summary\">\n      <div class=\"summary-left\">\n        <b-button variant=\"outline-secondary\" @click=\"goBack\" :disabled=\"loading\" class=\"back-btn\">\n          <feather-icon icon=\"ArrowLeftIcon\" size=\"18\" class=\"mr-50\" />\n          Back\n        </b-button>\n        <div class=\"summary-customer\">\n          <div class=\"customer-info-display\">\n            <strong v-if=\"selectedCustomer\">{{ selectedCustomer.name }}</strong>\n            <strong v-else-if=\"passengerCustomer\">{{ passengerCustomer.name }}</strong>\n            <b-badge v-if=\"passengerCustomer && (!selectedCustomer || selectedCustomer.customerCode === 'PASSENGER')\"\n              variant=\"info\" class=\"ml-2\">Default</b-badge>\n            <small class=\"text-muted d-block\" v-if=\"selectedCustomer\">{{ selectedCustomer.customerCode }}</small>\n            <small class=\"text-muted d-block\" v-else-if=\"passengerCustomer\">{{ passengerCustomer.customerCode }}</small>\n          </div>\n        </div>\n      </div>\n      <div class=\"summary-totals\">\n        <div class=\"summary-item\">\n          <span class=\"summary-label\">Ticket Total:</span>\n          <span class=\"summary-value\">{{ formatTunCurrency(orderSummary.totalAmount) }}</span>\n        </div>\n        <div class=\"summary-item\" v-if=\"headerDiscountAmount > 0\">\n          <span class=\"summary-label\">Discount:</span>\n          <span class=\"summary-value text-danger\">\n            <template v-if=\"orderSummary && (orderSummary.discountPercent > 0 || orderSummary.discountAmount > 0)\">\n              <span v-if=\"orderSummary.discountPercent > 0\">\n                {{ orderSummary.discountPercent.toFixed(3) }}%\n              </span>\n              <span v-if=\"orderSummary.discountPercent > 0 && orderSummary.discountAmount > 0\"> / </span>\n              <span v-if=\"orderSummary.discountAmount > 0\">\n                {{ formatTunCurrency(orderSummary.discountAmount) }}\n              </span>\n            </template>\n          </span>\n        </div>\n        <div class=\"summary-item\">\n          <span class=\"summary-label\">Total After Discount:</span>\n          <span class=\"summary-value\">{{ formatTunCurrency(totalAfterDiscount) }}</span>\n        </div>\n        <div class=\"summary-item\">\n          <span class=\"summary-label\">Total Paid:</span>\n          <span class=\"summary-value text-success\">{{ formatTunCurrency(totalPaid) }}</span>\n        </div>\n        <div class=\"summary-item\">\n          <span class=\"summary-label\">Remaining:</span>\n          <span class=\"summary-value\" :class=\"remainingBalance > 0 ? 'text-danger' : 'text-success'\">\n            {{ formatTunCurrency(Math.abs(remainingBalance)) }}\n          </span>\n        </div>\n      </div>\n    </div>\n\n    <!-- Main Content Area -->\n    <div class=\"payment-main-content\">\n      <!-- Panel 2: Payment Classes (Left) -->\n      <div class=\"panel-payment-classes\">\n        <div class=\"payment-classes-header\">\n          <h5>Payment Methods</h5>\n        </div>\n        <div class=\"payment-classes-list\">\n          <div v-for=\"method in paymentMethods\" :key=\"method.id\" class=\"payment-class-item\"\n            :class=\"{ active: selectedPaymentMethodId === method.id }\" @click=\"selectPaymentMethod(method.id)\">\n            <span class=\"payment-class-name\">{{ method.name }}</span>\n            <span class=\"payment-class-total\">{{ formatTunCurrency(getTotalPaidByMethod(method.id)) }}</span>\n          </div>\n        </div>\n      </div>\n\n      <!-- Right Side Content -->\n      <div class=\"payment-right-content\">\n        <!-- Panel 4: Payment Cards (Right-Top, Scrollable) -->\n        <div class=\"panel-payment-cards\">\n          <div class=\"payment-cards-header\">\n            <h5>Payment Details</h5>\n          </div>\n          <div class=\"payment-cards-container\">\n            <div v-if=\"paymentCards.length === 0\" class=\"empty-cards\">\n              <feather-icon icon=\"CreditCardIcon\" size=\"48\" class=\"mb-2 text-muted\" />\n              <p class=\"mb-0 text-muted\">Select a payment method to add payment</p>\n            </div>\n            <div v-else class=\"payment-cards-list\">\n              <div v-for=\"(card, index) in paymentCards\" :key=\"card.id || index\" class=\"payment-card\"\n                :class=\"{ selected: selectedCardIndex === index }\" @click=\"selectCard(index)\">\n                <div class=\"payment-card-header\">\n                  <div class=\"payment-card-title\">\n                    <strong>{{ getPaymentMethodName(card.paymentMethodId) || 'Unknown Method' }}</strong>\n                  </div>\n                  <b-button variant=\"link\" size=\"sm\" @click.stop=\"removeCard(index)\" class=\"card-delete-btn\"\n                    :disabled=\"loading\">\n                    <feather-icon icon=\"XIcon\" size=\"16\" />\n                  </b-button>\n                </div>\n                <div class=\"payment-card-body\">\n                  <!-- Return Voucher Number -->\n                  <b-form-group v-if=\"isReturnVoucherPayment(card)\" label=\"Voucher Number *\" class=\"mb-2\">\n                    <b-input-group>\n                      <b-form-input v-model=\"card.voucherNumber\" placeholder=\"Enter voucher number...\"\n                        @keyup.enter=\"validateVoucher(card)\" @click.stop :disabled=\"loading\" size=\"sm\" />\n                      <b-input-group-append>\n                        <b-button variant=\"outline-primary\" @click=\"validateVoucher(card)\"\n                          :disabled=\"loading || !card.voucherNumber\" size=\"sm\">\n                          <feather-icon icon=\"SearchIcon\" size=\"12\" />\n                        </b-button>\n                      </b-input-group-append>\n                    </b-input-group>\n                    <small class=\"text-muted\" v-if=\"card.voucherRemainingAmount !== undefined\">\n                      Remaining: {{ formatTunCurrency(card.voucherRemainingAmount) }}\n                    </small>\n                  </b-form-group>\n\n                  <!-- Amount Input -->\n                  <b-form-group label=\"Amount *\" class=\"mb-2\">\n                    <b-input-group>\n                      <b-form-input v-model.number=\"card.amount\" type=\"number\" step=\"0.01\" min=\"0.01\" placeholder=\"0.00\"\n                        @input=\"updatePaymentTotal\" @click.stop :disabled=\"isReturnVoucherPayment(card) || loading\"\n                        :readonly=\"isReturnVoucherPayment(card)\" size=\"\" :ref=\"`amount-input-${index}`\" />\n                      <b-input-group-append>\n                        <span class=\"input-group-text\">TND</span>\n                      </b-input-group-append>\n                    </b-input-group>\n                    <small v-if=\"isReturnVoucherPayment(card)\" class=\"text-muted\">\n                      Amount is automatically set from voucher\n                    </small>\n                  </b-form-group>\n\n                  <!-- Dynamic Required Fields -->\n                  <b-form-group v-if=\"requiresTitleNumber(card)\" label=\"N Titre *\" class=\"mb-2\">\n                    <b-form-input v-model=\"card.titleNumber\" placeholder=\"N du titre\" @click.stop size=\"sm\" />\n                  </b-form-group>\n\n                  <b-form-group v-if=\"requiresDueDate(card)\" label=\"Date chance *\" class=\"mb-2\">\n                    <b-form-input v-model=\"card.dueDate\" type=\"date\" @click.stop size=\"sm\" />\n                  </b-form-group>\n\n                  <b-form-group v-if=\"requiresDrawerName(card)\" label=\"Nom du tireur *\" class=\"mb-2\">\n                    <b-form-input v-model=\"card.drawerName\" placeholder=\"Nom du tireur\" @click.stop size=\"sm\" />\n                  </b-form-group>\n\n                  <b-form-group v-if=\"requiresIssuingBank(card)\" label=\"Banque mettrice *\" class=\"mb-2\">\n                    <b-form-input v-model=\"card.issuingBank\" placeholder=\"Banque mettrice\" @click.stop size=\"sm\" />\n                  </b-form-group>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n\n        <!-- Panel 5: Numeric Keyboard (Bottom-Right) -->\n        <div class=\"panel-keyboard\">\n          <div class=\"keyboard-grid\">\n            <button v-for=\"num in [1, 2, 3, 4, 5, 6, 7, 8, 9, '.', 0, '']\" :key=\"num\" class=\"keyboard-key\"\n              :class=\"{ 'key-decimal': num === '.', 'key-backspace': num === '' }\" @click=\"handleKeyboardKey(num)\"\n              :disabled=\"loading\">\n              {{ num }}\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <!-- Panel 3: Actions Panel (Bottom) -->\n    <div class=\"panel-actions\">\n      <b-button variant=\"warning\" size=\"lg\" @click=\"saveAsPending\" :disabled=\"cart.length === 0 || loading\"\n        class=\"action-btn\">\n        <feather-icon icon=\"SaveIcon\" size=\"18\" class=\"mr-50\" />\n        <span v-if=\"loading\">Saving...</span>\n        <span v-else>Save as Pending</span>\n      </b-button>\n\n      <b-button variant=\"info\" size=\"lg\" @click=\"openDiscountDialog\" :disabled=\"loading\" class=\"action-btn\">\n        <feather-icon icon=\"PercentIcon\" size=\"18\" class=\"mr-50\" />\n        Discount\n      </b-button>\n\n      <b-button variant=\"info\" size=\"lg\" @click=\"openCustomerDialog\" :disabled=\"loading\" class=\"action-btn\">\n        <feather-icon icon=\"UsersIcon\" size=\"18\" class=\"mr-50\" />\n        Customer\n      </b-button>\n\n      <b-button variant=\"success\" size=\"lg\" @click=\"completePayment\" :disabled=\"!canCompletePayment || loading\"\n        class=\"action-btn\">\n        <feather-icon icon=\"CheckCircleIcon\" size=\"18\" class=\"mr-50\" />\n        <span v-if=\"loading\">Processing...</span>\n        <span v-else>Complete Payment</span>\n      </b-button>\n    </div>\n\n    <!-- Discount Dialog -->\n    <b-modal\n      v-model=\"showDiscountDialog\"\n      title=\"Apply Header Discount\"\n      hide-footer\n      centered\n      size=\"md\"\n      no-close-on-backdrop\n      @hide=\"showDiscountDialog = false\"\n    >\n      <div class=\"discount-dialog\">\n        <!-- Discount Type Selection -->\n        <b-form-group label=\"Discount Type\" class=\"mb-3\">\n          <b-form-radio-group\n            v-model=\"discountType\"\n            :options=\"[\n              { text: 'Percentage (%)', value: 'percentage' },\n              { text: 'Amount (TND)', value: 'amount' }\n            ]\"\n            class=\"discount-type-radio\"\n          ></b-form-radio-group>\n        </b-form-group>\n\n        <!-- Discount Value Input -->\n        <b-form-group :label=\"discountType === 'percentage' ? 'Discount Percentage' : 'Discount Amount'\" class=\"mb-3\">\n          <b-input-group>\n            <b-form-input\n              v-model.number=\"discountValue\"\n              type=\"number\"\n              :step=\"discountType === 'percentage' ? 0.01 : 0.01\"\n              :min=\"0\"\n              :max=\"discountType === 'percentage' ? 100 : orderSummary.totalAmount\"\n              :placeholder=\"discountType === 'percentage' ? 'Enter percentage...' : 'Enter amount...'\"\n              @input=\"updateDiscountPreview\"\n            />\n            <b-input-group-append v-if=\"discountType === 'percentage'\">\n              <span class=\"input-group-text\">%</span>\n            </b-input-group-append>\n            <b-input-group-append v-else>\n              <span class=\"input-group-text\">TND</span>\n            </b-input-group-append>\n          </b-input-group>\n        </b-form-group>\n\n        <!-- Discount Preview -->\n        <div v-if=\"discountValue\" class=\"discount-preview mb-3 p-3\" style=\"background: #f8f9fa; border-radius: 8px;\">\n          <div class=\"d-flex justify-content-between mb-2\">\n            <span>Ticket Total:</span>\n            <strong>{{ formatTunCurrency(orderSummary.totalAmount) }}</strong>\n          </div>\n          <div class=\"d-flex justify-content-between mb-2\">\n            <span>Discount:</span>\n            <strong class=\"text-danger\">\n              {{ formatTunCurrency(calculatePreviewDiscount()) }}\n              <span v-if=\"discountType === 'percentage'\">({{ discountValue }}%)</span>\n            </strong>\n          </div>\n          <hr />\n          <div class=\"d-flex justify-content-between\">\n            <span><strong>Total After Discount:</strong></span>\n            <strong class=\"text-success\">{{ formatTunCurrency(calculatePreviewTotal()) }}</strong>\n          </div>\n        </div>\n\n        <!-- Action Buttons -->\n        <div class=\"d-flex justify-content-end\">\n          <b-button variant=\"secondary\" @click=\"showDiscountDialog = false\" class=\"mr-2\">\n            Cancel\n          </b-button>\n          <b-button variant=\"danger\" @click=\"clearHeaderDiscount\" v-if=\"orderSummary.discountAmount > 0 || orderSummary.discountPercent > 0\" class=\"mr-2\">\n            Clear Discount\n          </b-button>\n          <b-button variant=\"primary\" @click=\"applyHeaderDiscount\" :disabled=\"!discountValue || discountValue <= 0\">\n            Apply Discount\n          </b-button>\n        </div>\n      </div>\n    </b-modal>\n  </div>\n</template>\n\n<script>\nimport ReceiptTemplate from '@/components/ReceiptTemplate.vue'\nimport ToastificationContent from '@core/components/toastification/ToastificationContent.vue'\nimport JsBarcode from 'jsbarcode'\n\nexport default {\n  name: 'Payment',\n  data() {\n    return {\n      cart: [],\n      orderSummary: {},\n      paymentMethods: [],\n      paymentCards: [], // Replaces paymentEntries\n      loading: false,\n      customers: [],\n      selectedCustomerId: null,\n      customerSearchTerm: '',\n      customerSearchResults: [],\n      showCustomerDropdown: false,\n      searchingCustomers: false,\n      passengerCustomer: null,\n      selectedCustomerObj: null,\n      searchTimeout: null,\n      pendingTicketsCount: 0,\n      selectedPaymentMethodId: null, // Currently selected payment method\n      selectedCardIndex: null, // Currently selected card index\n      cardIdCounter: 0, // For generating unique card IDs\n      showDiscountDialog: false,\n      discountType: 'percentage', // 'percentage' or 'amount'\n      discountValue: null\n    }\n  },\n  computed: {\n    pendingTicketId() {\n      return this.$store.state.pos.pendingTicketId\n    },\n    selectedCustomer() {\n      if (!this.selectedCustomerId) return this.passengerCustomer\n      if (this.passengerCustomer && this.selectedCustomerId === this.passengerCustomer.id) {\n        return this.passengerCustomer\n      }\n      return this.customerSearchResults.find(c => c.id === this.selectedCustomerId) ||\n        (this.selectedCustomerObj || null)\n    },\n    totalPaid() {\n      return this.paymentCards.reduce((sum, card) => {\n        const amount = parseFloat(card.amount) || 0\n        return sum + amount\n      }, 0)\n    },\n    headerDiscountAmount() {\n      // Read from store first, then fallback to local orderSummary\n      const summary = this.$store.state.pos?.orderSummary || this.orderSummary\n      if (!summary || !summary.totalAmount) return 0\n      const total = summary.totalAmount\n      \n      // Prefer discountAmount if available (more accurate)\n      if (summary.discountAmount && summary.discountAmount > 0) {\n        return summary.discountAmount\n      } else if (summary.discountPercent && summary.discountPercent > 0) {\n        return total * (summary.discountPercent / 100)\n      }\n      return 0\n    },\n    totalAfterDiscount() {\n      const summary = this.$store.state.pos?.orderSummary || this.orderSummary\n      const total = summary?.totalAmount || 0\n      const discount = this.headerDiscountAmount\n      return Math.max(0, total - discount)\n    },\n    remainingBalance() {\n      return this.totalAfterDiscount - this.totalPaid\n    },\n    isFullyPaid() {\n      // Fully paid when remaining balance is 0 or negative (overpaid)\n      // Use a small tolerance for floating point comparison\n      return this.remainingBalance <= 0.01\n    },\n    canCompletePayment() {\n      if (this.paymentCards.length === 0) return false\n\n      const allValid = this.paymentCards.every(card => {\n        if (!card.paymentMethodId) return false\n\n        const paymentMethod = this.getPaymentMethodById(card.paymentMethodId)\n        if (!paymentMethod) return false\n\n        const amount = parseFloat(card.amount)\n        if (!this.isReturnVoucherPayment(card) && (!amount || amount <= 0)) {\n          return false\n        }\n\n        if (this.isReturnVoucherPayment(card)) {\n          if (!card.voucherNumber || !card.voucherNumber.trim()) {\n            return false\n          }\n          if (!amount || amount <= 0) {\n            return false\n          }\n        }\n\n        if (paymentMethod.requireTitleNumber && (!card.titleNumber || !card.titleNumber.trim())) {\n          return false\n        }\n        if (paymentMethod.requireDueDate && (!card.dueDate || card.dueDate === '')) {\n          return false\n        }\n        if (paymentMethod.requireDrawerName && (!card.drawerName || !card.drawerName.trim())) {\n          return false\n        }\n        if (paymentMethod.requireIssuingBank && (!card.issuingBank || !card.issuingBank.trim())) {\n          return false\n        }\n\n        return true\n      })\n\n      // Enable when fully paid (0) or overpaid (negative), with tolerance for floating point\n      // Use <= 0.01 instead of <= 0 to handle floating point precision issues\n      return allValid && this.remainingBalance <= 0.01\n    }\n  },\n  watch: {\n    '$store.state.pos.orderSummary': {\n      handler(newSummary) {\n        if (newSummary) {\n          this.orderSummary = { ...newSummary }\n        }\n      },\n      deep: true,\n      immediate: true\n    }\n  },\n  async mounted() {\n    this.loadCartData()\n    await this.loadPaymentMethods()\n    await this.loadPassengerCustomer()\n    this.loadPendingTicketsCount()\n\n    this.resetCustomerToPassenger()\n\n    // Initialize with CLIENT_ESPECES selected\n    this.initializeDefaultPayment()\n\n    // Listen for keyboard input\n    document.addEventListener('keydown', this.handleKeyboardInput)\n  },\n  beforeDestroy() {\n    document.removeEventListener('keydown', this.handleKeyboardInput)\n    if (this.searchTimeout) {\n      clearTimeout(this.searchTimeout)\n    }\n  },\n  methods: {\n    loadCartData() {\n      if (!this.$store.state.pos) {\n        console.error('POS store module not found')\n        this.$router.push({ name: 'pos-item-selection' })\n        return\n      }\n\n      this.cart = this.$store.state.pos.cart || []\n\n      const storeSummary = this.$store.state.pos.orderSummary\n      this.orderSummary = storeSummary || {\n        subtotal: 0,\n        taxAmount: 0,\n        totalAmount: 0,\n        discountAmount: 0,\n        discountPercent: 0\n      }\n\n      if (this.orderSummary.subtotal === null || this.orderSummary.subtotal === undefined) {\n        this.orderSummary.subtotal = 0\n      }\n      if (this.orderSummary.taxAmount === null || this.orderSummary.taxAmount === undefined) {\n        this.orderSummary.taxAmount = 0\n      }\n      if (this.orderSummary.totalAmount === null || this.orderSummary.totalAmount === undefined) {\n        this.orderSummary.totalAmount = 0\n      }\n      if (this.orderSummary.discountAmount === null || this.orderSummary.discountAmount === undefined) {\n        this.orderSummary.discountAmount = 0\n      }\n      if (this.orderSummary.discountPercent === null || this.orderSummary.discountPercent === undefined) {\n        this.orderSummary.discountPercent = 0\n      }\n\n      console.log('Payment page - Cart:', this.cart)\n      console.log('Payment page - Order Summary:', this.orderSummary)\n\n      if (this.cart.length === 0) {\n        this.$toast({\n          component: ToastificationContent,\n          props: {\n            title: 'No Items',\n            icon: 'AlertCircleIcon',\n            text: 'Cart is empty. Redirecting to item selection...',\n            variant: 'warning'\n          }\n        })\n        setTimeout(() => {\n          this.$router.push({ name: 'pos-item-selection' })\n        }, 1500)\n      }\n    },\n    async loadPassengerCustomer() {\n      try {\n        const response = await this.$http.get('/customer/passenger')\n        if (response.status === 200 && response.data) {\n          this.passengerCustomer = response.data\n        }\n      } catch (error) {\n        console.error('Error loading passenger customer:', error)\n      }\n    },\n    resetCustomerToPassenger() {\n      if (this.pendingTicketId) {\n        return\n      }\n\n      if (this.passengerCustomer) {\n        this.selectedCustomerId = this.passengerCustomer.id\n        this.selectedCustomerObj = null\n        this.customerSearchTerm = ''\n        this.customerSearchResults = []\n        this.showCustomerDropdown = false\n        this.$store.dispatch('pos/setSelectedCustomerId', this.passengerCustomer.id)\n      }\n    },\n    async loadSelectedCustomerDetails() {\n      if (!this.selectedCustomerId) return\n      try {\n        const response = await this.$http.get(`/customer/${this.selectedCustomerId}`)\n        if (response.status === 200 && response.data) {\n          this.selectedCustomerObj = response.data\n          this.customerSearchTerm = `${response.data.customerCode} - ${response.data.name}`\n        }\n      } catch (error) {\n        console.error('Error loading selected customer:', error)\n      }\n    },\n    searchCustomers() {\n      if (this.searchTimeout) {\n        clearTimeout(this.searchTimeout)\n      }\n\n      const searchTerm = this.customerSearchTerm.trim()\n\n      if (!searchTerm) {\n        this.customerSearchResults = []\n        this.showCustomerDropdown = false\n        return\n      }\n\n      this.showCustomerDropdown = true\n\n      this.searchTimeout = setTimeout(async () => {\n        this.searchingCustomers = true\n        try {\n          const response = await this.$http.get('/customer/search', {\n            params: { q: searchTerm }\n          })\n          if (response.status === 200) {\n            this.customerSearchResults = response.data || []\n          }\n        } catch (error) {\n          console.error('Error searching customers:', error)\n          this.customerSearchResults = []\n        } finally {\n          this.searchingCustomers = false\n        }\n      }, 300)\n    },\n    selectCustomer(customer) {\n      this.selectedCustomerId = customer.id\n      this.selectedCustomerObj = customer\n      this.customerSearchTerm = `${customer.customerCode} - ${customer.name}`\n      this.showCustomerDropdown = false\n      this.onCustomerChange()\n    },\n    clearCustomerSelection() {\n      this.selectedCustomerId = this.passengerCustomer ? this.passengerCustomer.id : null\n      this.selectedCustomerObj = null\n      this.customerSearchTerm = ''\n      this.showCustomerDropdown = false\n      this.customerSearchResults = []\n      this.onCustomerChange()\n    },\n    onCustomerChange() {\n      if (this.$store.state.pos) {\n        this.$store.dispatch('pos/setSelectedCustomerId', this.selectedCustomerId)\n      }\n    },\n    openCustomerDialog() {\n      // Placeholder for future implementation\n      this.$toast({\n        component: ToastificationContent,\n        props: {\n          title: 'Coming Soon',\n          icon: 'InfoIcon',\n          text: 'Customer selection dialog will be implemented soon',\n          variant: 'info'\n        }\n      })\n    },\n    openDiscountDialog() {\n      // Initialize dialog with existing discount values\n      if (this.orderSummary && this.orderSummary.discountPercent && this.orderSummary.discountPercent > 0) {\n        this.discountType = 'percentage'\n        this.discountValue = this.orderSummary.discountPercent\n      } else if (this.orderSummary && this.orderSummary.discountAmount && this.orderSummary.discountAmount > 0) {\n        this.discountType = 'amount'\n        this.discountValue = this.orderSummary.discountAmount\n      } else {\n        this.discountType = 'percentage'\n        this.discountValue = null\n      }\n      this.showDiscountDialog = true\n    },\n    applyHeaderDiscount() {\n      const summary = this.$store.state.pos?.orderSummary || this.orderSummary\n      const total = summary?.totalAmount || 0\n      if (!total || !this.discountValue || this.discountValue <= 0) {\n        this.clearHeaderDiscount()\n        return\n      }\n      \n      let discountPercentage = null\n      let discountAmount = null\n      \n      if (this.discountType === 'percentage') {\n        const percentage = Math.min(100, Math.max(0, parseFloat(this.discountValue) || 0))\n        discountPercentage = percentage\n        discountAmount = total * (percentage / 100)\n      } else {\n        const amount = Math.min(parseFloat(this.discountValue) || 0, total)\n        discountAmount = amount\n        discountPercentage = total > 0 ? (discountAmount / total) * 100 : 0\n      }\n      \n      // Update order summary in store - watcher will sync to local orderSummary\n      if (this.$store.state.pos) {\n        this.$store.dispatch('pos/updateOrderSummary', {\n          discountAmount: discountAmount,\n          discountPercent: discountPercentage\n        })\n      } else {\n        // Fallback: update local object directly\n        this.$set(this.orderSummary, 'discountAmount', discountAmount)\n        this.$set(this.orderSummary, 'discountPercent', discountPercentage)\n      }\n      \n      this.showDiscountDialog = false\n      this.discountValue = null\n    },\n    clearHeaderDiscount() {\n      if (this.$store.state.pos) {\n        this.$store.dispatch('pos/updateOrderSummary', {\n          discountAmount: 0,\n          discountPercent: 0\n        })\n      } else {\n        // Fallback: update local object directly\n        this.$set(this.orderSummary, 'discountAmount', 0)\n        this.$set(this.orderSummary, 'discountPercent', 0)\n      }\n      \n      this.showDiscountDialog = false\n      this.discountValue = null\n    },\n    calculatePreviewDiscount() {\n      if (!this.discountValue || !this.orderSummary?.totalAmount) return 0\n      const total = this.orderSummary.totalAmount\n      \n      if (this.discountType === 'percentage') {\n        const percentage = Math.min(100, Math.max(0, parseFloat(this.discountValue) || 0))\n        return total * (percentage / 100)\n      } else {\n        const amount = Math.min(parseFloat(this.discountValue) || 0, total)\n        return amount\n      }\n    },\n    calculatePreviewTotal() {\n      const total = this.orderSummary?.totalAmount || 0\n      const discount = this.calculatePreviewDiscount()\n      return Math.max(0, total - discount)\n    },\n    updateDiscountPreview() {\n      // Force reactivity update\n      this.$forceUpdate()\n    },\n    async loadPaymentMethods() {\n      try {\n        const response = await this.$http.get('/payment-method')\n        this.paymentMethods = response.data\n          .filter(pm => pm.active !== false)\n          .sort((a, b) => {\n            // Sort by displayOrder, if displayOrder is null or undefined, put it at the end\n            const orderA = a.displayOrder != null ? a.displayOrder : 999\n            const orderB = b.displayOrder != null ? b.displayOrder : 999\n            return orderA - orderB\n          })\n      } catch (error) {\n        console.error('Error loading payment methods:', error)\n        this.paymentMethods = [\n          { id: 1, name: 'Client Espce', type: 'CLIENT_ESPECES', active: true, displayOrder: 1 },\n          { id: 2, name: 'Return Voucher', type: 'RETURN_VOUCHER', active: true, displayOrder: 8 }\n        ]\n      }\n    },\n    getClientEspecesPaymentMethod() {\n      return this.paymentMethods.find(pm => pm.type === 'CLIENT_ESPECES') || null\n    },\n    initializeDefaultPayment() {\n      const clientEspeces = this.getClientEspecesPaymentMethod()\n      if (clientEspeces) {\n        this.selectedPaymentMethodId = clientEspeces.id\n        this.addOrUpdatePaymentCard(clientEspeces.id)\n      }\n    },\n    selectPaymentMethod(methodId) {\n      this.selectedPaymentMethodId = methodId\n      this.addOrUpdatePaymentCard(methodId)\n    },\n    addOrUpdatePaymentCard(methodId) {\n      const paymentMethod = this.getPaymentMethodById(methodId)\n      if (!paymentMethod) return\n\n      // Check if CLIENT_ESPECES - only one card allowed\n      if (paymentMethod.type === 'CLIENT_ESPECES') {\n        const existingCard = this.paymentCards.find(card => {\n          const cardMethod = this.getPaymentMethodById(card.paymentMethodId)\n          return cardMethod && cardMethod.type === 'CLIENT_ESPECES'\n        })\n\n        if (existingCard) {\n          // Update existing card and select it\n          const index = this.paymentCards.indexOf(existingCard)\n          this.selectCard(index)\n          return\n        }\n      }\n\n      // Create new card\n      const newCard = {\n        id: `card-${++this.cardIdCounter}`,\n        paymentMethodId: methodId,\n        amount: null,\n        voucherNumber: '',\n        voucherRemainingAmount: undefined,\n        titleNumber: '',\n        dueDate: '',\n        drawerName: '',\n        issuingBank: ''\n      }\n\n      this.paymentCards.unshift(newCard)\n      this.selectedCardIndex = 0\n      this.updatePaymentTotal()\n\n      // Focus amount input\n      this.$nextTick(() => {\n        this.focusAmountInput(0)\n      })\n    },\n    selectCard(index) {\n      if (index < 0 || index >= this.paymentCards.length) return\n\n      // Move card to top\n      const card = this.paymentCards[index]\n      this.paymentCards.splice(index, 1)\n      this.paymentCards.unshift(card)\n\n      // Select the card (now at index 0)\n      this.selectedCardIndex = 0\n      this.updatePaymentTotal()\n\n      // Don't auto-focus - let user click on the field they want\n    },\n    removeCard(index) {\n      if (index < 0 || index >= this.paymentCards.length) return\n\n      this.paymentCards.splice(index, 1)\n\n      // Adjust selected index\n      if (this.selectedCardIndex === index) {\n        if (this.paymentCards.length > 0) {\n          this.selectedCardIndex = 0\n        } else {\n          this.selectedCardIndex = null\n        }\n      } else if (this.selectedCardIndex > index) {\n        this.selectedCardIndex--\n      }\n\n      // If no cards left and CLIENT_ESPECES is selected, create default card\n      if (this.paymentCards.length === 0 && this.selectedPaymentMethodId) {\n        const method = this.getPaymentMethodById(this.selectedPaymentMethodId)\n        if (method && method.type === 'CLIENT_ESPECES') {\n          this.addOrUpdatePaymentCard(this.selectedPaymentMethodId)\n        }\n      }\n\n      this.updatePaymentTotal()\n    },\n    getTotalPaidByMethod(methodId) {\n      return this.paymentCards\n        .filter(card => card.paymentMethodId === methodId)\n        .reduce((sum, card) => {\n          const amount = parseFloat(card.amount) || 0\n          return sum + amount\n        }, 0)\n    },\n    getPaymentMethodName(paymentMethodId) {\n      if (!paymentMethodId) return null\n      const method = this.paymentMethods.find(pm => pm.id === paymentMethodId)\n      return method ? method.name : null\n    },\n    getPaymentMethodById(id) {\n      if (!id) return null\n      return this.paymentMethods.find(pm => pm.id === id) || null\n    },\n    isReturnVoucherPayment(card) {\n      const paymentMethod = this.getPaymentMethodById(card ? card.paymentMethodId : null)\n      return paymentMethod && paymentMethod.type === 'RETURN_VOUCHER'\n    },\n    requiresTitleNumber(card) {\n      const paymentMethod = this.getPaymentMethodById(card ? card.paymentMethodId : null)\n      return paymentMethod && paymentMethod.requireTitleNumber\n    },\n    requiresDueDate(card) {\n      const paymentMethod = this.getPaymentMethodById(card ? card.paymentMethodId : null)\n      return paymentMethod && paymentMethod.requireDueDate\n    },\n    requiresDrawerName(card) {\n      const paymentMethod = this.getPaymentMethodById(card ? card.paymentMethodId : null)\n      return paymentMethod && paymentMethod.requireDrawerName\n    },\n    requiresIssuingBank(card) {\n      const paymentMethod = this.getPaymentMethodById(card ? card.paymentMethodId : null)\n      return paymentMethod && paymentMethod.requireIssuingBank\n    },\n    onPaymentMethodChange(card) {\n      if (!this.isReturnVoucherPayment(card)) {\n        card.voucherNumber = ''\n        card.voucherRemainingAmount = undefined\n        if (card.amount && card.amount > 0) {\n          card.amount = 0\n        }\n      }\n      card.titleNumber = ''\n      card.dueDate = ''\n      card.drawerName = ''\n      card.issuingBank = ''\n      this.updatePaymentTotal()\n    },\n    async validateVoucher(card) {\n      if (!card.voucherNumber || !card.voucherNumber.trim()) {\n        return\n      }\n\n      this.loading = true\n      try {\n        const response = await this.$http.get('/return-voucher/validate', {\n          params: { voucherNumber: card.voucherNumber.trim() }\n        })\n\n        if (response.status === 200) {\n          const voucherData = response.data\n\n          if (!voucherData.isValid) {\n            this.$toast({\n              component: ToastificationContent,\n              props: {\n                title: 'Invalid Voucher',\n                icon: 'XIcon',\n                text: 'This voucher is expired or fully used',\n                variant: 'danger'\n              }\n            })\n            card.voucherRemainingAmount = 0\n            card.amount = 0\n            return\n          }\n\n          card.voucherRemainingAmount = voucherData.remainingAmount\n\n          const remainingBalance = this.remainingBalance\n          card.amount = Math.min(voucherData.remainingAmount, remainingBalance)\n\n          this.updatePaymentTotal()\n\n          this.$toast({\n            component: ToastificationContent,\n            props: {\n              title: 'Voucher Validated',\n              icon: 'CheckCircleIcon',\n              text: `Voucher validated. Remaining amount: ${this.formatTunCurrency(voucherData.remainingAmount)}`,\n              variant: 'success'\n            }\n          })\n        }\n      } catch (error) {\n        console.error('Error validating voucher:', error)\n        let errorMessage = 'Failed to validate voucher. Please check the voucher number.'\n        if (error.response && error.response.data) {\n          errorMessage = error.response.data.message || error.response.data || errorMessage\n        }\n\n        this.$toast({\n          component: ToastificationContent,\n          props: {\n            title: 'Error',\n            icon: 'XIcon',\n            text: errorMessage,\n            variant: 'danger'\n          }\n        })\n\n        card.voucherRemainingAmount = undefined\n        card.amount = 0\n        this.updatePaymentTotal()\n      } finally {\n        this.loading = false\n      }\n    },\n    focusAmountInput(index) {\n      const inputRef = this.$refs[`amount-input-${index}`]\n      if (inputRef && inputRef.length > 0) {\n        inputRef[0].focus()\n      } else if (inputRef) {\n        inputRef.focus()\n      }\n    },\n    handleKeyboardInput(event) {\n      // Only handle numeric keys when not typing in an input field\n      if (event.target.tagName === 'INPUT' || event.target.tagName === 'TEXTAREA' || event.target.tagName === 'SELECT') {\n        return\n      }\n\n      // Handle numeric keys (0-9) and decimal point\n      if ((event.key >= '0' && event.key <= '9') || event.key === '.') {\n        event.preventDefault()\n        this.handleKeyboardKey(event.key)\n      }\n\n      // Handle Backspace\n      if (event.key === 'Backspace') {\n        event.preventDefault()\n        this.handleKeyboardKey('')\n      }\n\n      // Handle Enter key to complete payment if fully paid\n      if (event.key === 'Enter' && this.canCompletePayment) {\n        this.completePayment()\n      }\n    },\n    handleKeyboardKey(key) {\n      if (this.selectedCardIndex === null || this.selectedCardIndex >= this.paymentCards.length) {\n        // If no card selected, select CLIENT_ESPECES or create one\n        const clientEspeces = this.getClientEspecesPaymentMethod()\n        if (clientEspeces) {\n          this.selectedPaymentMethodId = clientEspeces.id\n          this.addOrUpdatePaymentCard(clientEspeces.id)\n        } else {\n          return\n        }\n      }\n\n      const card = this.paymentCards[this.selectedCardIndex]\n      if (!card || this.isReturnVoucherPayment(card)) {\n        return\n      }\n\n      if (key === '') {\n        // Backspace - remove last character\n        const currentAmount = card.amount ? String(card.amount) : ''\n        if (currentAmount.length > 0) {\n          const newAmount = currentAmount.slice(0, -1)\n          card.amount = newAmount ? parseFloat(newAmount) : null\n          this.updatePaymentTotal()\n        }\n      } else if (key === '.') {\n        // Decimal point - add if not present\n        const currentAmount = card.amount ? String(card.amount) : '0'\n        if (!currentAmount.includes('.')) {\n          card.amount = parseFloat(currentAmount + '.') || 0\n          this.updatePaymentTotal()\n        }\n      } else if (key >= '0' && key <= '9') {\n        // Number - append to current amount\n        const currentAmount = card.amount ? String(card.amount) : '0'\n        const newAmount = currentAmount === '0' ? key : currentAmount + key\n        card.amount = parseFloat(newAmount) || 0\n        this.updatePaymentTotal()\n      }\n    },\n    updatePaymentTotal() {\n      this.$forceUpdate()\n    },\n    formatTunCurrency(value) {\n      const amount = parseFloat(value) || 0\n      const formatted = amount.toLocaleString('en-US', { minimumFractionDigits: 2, maximumFractionDigits: 2 })\n      return `${formatted} TND`\n    },\n    goBack() {\n      this.$router.push({ name: 'pos-item-selection' })\n    },\n    async printReceipt(saleData) {\n      console.log('Printing receipt with data:', saleData)\n\n      const Vue = this.$root.constructor || this.$options._base\n      const ReceiptComponent = Vue.extend(ReceiptTemplate)\n\n      const instance = new ReceiptComponent({\n        parent: this,\n        propsData: { saleData }\n      })\n\n      instance.$mount()\n\n      const printWindow = window.open('', '_blank')\n      if (!printWindow) {\n        this.$toast({\n          component: ToastificationContent,\n          props: {\n            title: 'Print Error',\n            icon: 'XIcon',\n            text: 'Please allow popups to print receipts',\n            variant: 'warning'\n          }\n        })\n        return\n      }\n\n      await this.$nextTick()\n      await new Promise(resolve => setTimeout(resolve, 200))\n\n      const barcodeValue = saleData.salesNumber || null\n      if (barcodeValue && instance.$el) {\n        try {\n          const svgElement = instance.$el.querySelector('.barcode-svg')\n          if (svgElement) {\n            JsBarcode(svgElement, barcodeValue, {\n              format: 'CODE128',\n              width: 1.5,\n              height: 40,\n              displayValue: false,\n              margin: 5,\n              background: '#ffffff',\n              lineColor: '#000000'\n            })\n          }\n        } catch (error) {\n          console.error('Error generating barcode:', error)\n        }\n      }\n\n      printWindow.document.write(`\n        <!DOCTYPE html>\n        <html>\n        <head>\n          <title>Receipt - ${saleData.salesNumber}</title>\n          <style>\n            @page {\n              size: 80mm auto;\n              margin: 0;\n            }\n            body {\n              margin: 0;\n              padding: 10mm;\n              font-family: 'Courier New', monospace;\n              font-size: 12px;\n              line-height: 1.4;\n              background: white;\n              color: black;\n            }\n            .receipt-template {\n              width: 100%;\n              max-width: 80mm;\n            }\n            .receipt-header { margin-bottom: 15px; }\n            .receipt-header h2 { font-size: 16px; margin: 5px 0; font-weight: bold; text-align: center; }\n            .receipt-header h3 { font-size: 14px; margin: 5px 0; font-weight: bold; text-align: center; }\n            .receipt-divider { margin: 8px 0; text-align: center; }\n            .receipt-info, .receipt-items, .receipt-totals, .receipt-payments { margin-bottom: 10px; }\n            .receipt-row { display: flex; justify-content: space-between; margin-bottom: 4px; font-size: 12px; }\n            .receipt-row.total { font-weight: bold; font-size: 14px; margin-top: 8px; }\n            .receipt-row .label { text-align: left; }\n            .receipt-row .value { text-align: right; font-weight: bold; }\n            .item-name { flex: 2; text-align: left; }\n            .item-qty { flex: 0.5; text-align: center; }\n            .item-total { flex: 1; text-align: right; }\n            .item-code { font-size: 10px; color: #666; margin-left: 10px; margin-bottom: 6px; }\n            .receipt-section-header { font-weight: bold; text-align: center; margin: 8px 0; }\n            .receipt-footer { margin-top: 20px; text-align: center; font-size: 11px; }\n            .receipt-item { margin-bottom: 8px; }\n            .payment-entry { margin-bottom: 8px; }\n            .receipt-barcode { margin: 15px 0; text-align: center; }\n            .barcode-container { display: flex; justify-content: center; align-items: center; margin: 10px 0; }\n            .barcode-svg { max-width: 100%; height: auto; }\n            .barcode-text { font-size: 11px; font-weight: bold; margin-top: 5px; letter-spacing: 1px; text-align: center; }\n          </style>\n        </head>\n        <body>\n          ${instance.$el.outerHTML}\n        </body>\n        </html>\n      `)\n\n      printWindow.document.close()\n\n      setTimeout(() => {\n        printWindow.focus()\n        printWindow.print()\n\n        setTimeout(() => {\n          printWindow.close()\n          if (instance && instance.$el) {\n            instance.$destroy()\n          }\n        }, 500)\n      }, 500)\n    },\n    async completePayment() {\n      if (!this.canCompletePayment) return\n\n      this.loading = true\n\n      try {\n        const payments = this.paymentCards\n          .filter(card => card.paymentMethodId)\n          .map(card => {\n            // For return voucher, use voucher number as reference\n            const reference = this.isReturnVoucherPayment(card)\n              ? (card.voucherNumber || null)\n              : null\n\n            return {\n              paymentMethodId: card.paymentMethodId,\n              amount: parseFloat(card.amount),\n              reference: reference,\n              notes: null,\n              titleNumber: card.titleNumber ? card.titleNumber.trim() : null,\n              dueDate: card.dueDate || null,\n              drawerName: card.drawerName ? card.drawerName.trim() : null,\n              issuingBank: card.issuingBank ? card.issuingBank.trim() : null\n            }\n          })\n\n        const saleRequest = {\n          subtotal: this.orderSummary.subtotal,\n          taxAmount: this.orderSummary.taxAmount,\n          discountAmount: this.orderSummary.discountAmount || 0,\n          discountPercentage: this.orderSummary.discountPercent || null,\n          totalAmount: this.totalAfterDiscount,\n          paidAmount: this.totalPaid,\n          changeAmount: this.remainingBalance < 0 ? Math.abs(this.remainingBalance) : 0,\n          customerId: this.selectedCustomerId || null,\n          notes: `Payment via ${payments.length} method(s)`,\n          lines: this.cart.map(item => {\n            const lineTotal = item.unitPrice * item.quantity\n            const vatPercent = item.defaultVAT || 0\n            const originalLineTotalIncludingVat = lineTotal * (1 + (vatPercent / 100))\n            \n            // Calculate discount - discount is applied to total including VAT\n            let discountAmount = 0\n            if (item.discountPercentage) {\n              discountAmount = originalLineTotalIncludingVat * (item.discountPercentage / 100)\n            } else if (item.discountAmount) {\n              discountAmount = item.discountAmount\n            }\n            \n            // Calculate totals after discount\n            const lineTotalIncludingVat = Math.max(0, originalLineTotalIncludingVat - discountAmount)\n            \n            // Calculate excluding VAT total from including VAT total\n            const discountedLineTotal = lineTotalIncludingVat / (1 + (vatPercent / 100))\n            const vatAmount = lineTotalIncludingVat - discountedLineTotal\n            \n            const unitPriceIncludingVat = item.unitPrice * (1 + (vatPercent / 100))\n            \n            return {\n              itemId: item.id,\n              quantity: item.quantity,\n              unitPrice: item.unitPrice,\n              lineTotal: discountedLineTotal,\n              discountPercentage: item.discountPercentage || null,\n              discountAmount: discountAmount || null,\n              vatAmount: vatAmount,\n              vatPercent: vatPercent,\n              unitPriceIncludingVat: unitPriceIncludingVat,\n              lineTotalIncludingVat: lineTotalIncludingVat\n            }\n          }),\n          payments: payments\n        }\n\n        const isPendingTicket = !!this.pendingTicketId\n\n        console.log('=== Payment Processing ===')\n        console.log('Pending Ticket ID:', this.pendingTicketId)\n        console.log('Is Pending Ticket:', isPendingTicket)\n\n        let response\n        if (isPendingTicket) {\n          console.log(` Completing pending ticket ${this.pendingTicketId}`)\n          response = await this.$http.post(`/sales-header/complete-pending/${this.pendingTicketId}`, saleRequest)\n        } else {\n          console.log(' Creating NEW sale')\n          response = await this.$http.post('/sales-header/process-sale', saleRequest)\n        }\n\n        console.log(' Payment Response - Sales Number:', response.data?.salesNumber)\n\n        if (response.status === 200) {\n          this.$store.dispatch('pos/clearCart')\n          this.$store.dispatch('pos/clearOrderSummary')\n          this.$store.dispatch('pos/clearPendingTicketId')\n\n          this.resetCustomerToPassenger()\n\n          this.$toast({\n            component: ToastificationContent,\n            props: {\n              title: 'Success',\n              icon: 'CheckCircleIcon',\n              text: `Sale ${response.data.salesNumber} completed!`,\n              variant: 'success'\n            }\n          })\n\n          this.printReceipt(response.data)\n\n          setTimeout(() => {\n            this.$router.push({ name: 'pos-item-selection' })\n          }, 2000)\n        }\n\n      } catch (error) {\n        console.error('Error completing payment:', error)\n        let errorMessage = 'Failed to complete payment. Please try again.'\n\n        if (error.response && error.response.data) {\n          errorMessage = error.response.data || errorMessage\n        }\n\n        this.$toast({\n          component: ToastificationContent,\n          props: {\n            title: 'Error',\n            icon: 'XIcon',\n            text: errorMessage,\n            variant: 'danger'\n          }\n        })\n      } finally {\n        this.loading = false\n      }\n    },\n    async saveAsPending() {\n      if (this.cart.length === 0) return\n\n      this.loading = true\n\n      try {\n        const saleRequest = {\n          subtotal: this.orderSummary.subtotal,\n          taxAmount: this.orderSummary.taxAmount,\n          discountAmount: this.orderSummary.discountAmount || 0,\n          discountPercentage: this.orderSummary.discountPercent || null,\n          totalAmount: this.totalAfterDiscount,\n          paidAmount: 0,\n          changeAmount: 0,\n          customerId: this.selectedCustomerId || null,\n          notes: 'Pending sale - customer will return',\n          lines: this.cart.map(item => {\n            const lineTotal = item.unitPrice * item.quantity\n            const vatPercent = item.defaultVAT || 0\n            const originalLineTotalIncludingVat = lineTotal * (1 + (vatPercent / 100))\n            \n            // Calculate discount - discount is applied to total including VAT\n            let discountAmount = 0\n            if (item.discountPercentage) {\n              discountAmount = originalLineTotalIncludingVat * (item.discountPercentage / 100)\n            } else if (item.discountAmount) {\n              discountAmount = item.discountAmount\n            }\n            \n            // Calculate totals after discount\n            const lineTotalIncludingVat = Math.max(0, originalLineTotalIncludingVat - discountAmount)\n            \n            // Calculate excluding VAT total from including VAT total\n            const discountedLineTotal = lineTotalIncludingVat / (1 + (vatPercent / 100))\n            const vatAmount = lineTotalIncludingVat - discountedLineTotal\n            \n            const unitPriceIncludingVat = item.unitPrice * (1 + (vatPercent / 100))\n            \n            return {\n              itemId: item.id,\n              quantity: item.quantity,\n              unitPrice: item.unitPrice,\n              lineTotal: discountedLineTotal,\n              discountPercentage: item.discountPercentage || null,\n              discountAmount: discountAmount || null,\n              vatAmount: vatAmount,\n              vatPercent: vatPercent,\n              unitPriceIncludingVat: unitPriceIncludingVat,\n              lineTotalIncludingVat: lineTotalIncludingVat\n            }\n          }),\n          payments: []\n        }\n\n        const response = await this.$http.post('/sales-header/save-pending', saleRequest)\n\n        if (response.status === 200) {\n          this.$store.dispatch('pos/clearCart')\n          this.$store.dispatch('pos/clearOrderSummary')\n\n          this.resetCustomerToPassenger()\n\n          this.$toast({\n            component: ToastificationContent,\n            props: {\n              title: 'Success',\n              icon: 'CheckCircleIcon',\n              text: `Pending ticket ${response.data.salesNumber} saved!`,\n              variant: 'success'\n            }\n          })\n\n          setTimeout(() => {\n            this.$router.push({ name: 'pos-item-selection' })\n          }, 1500)\n        }\n\n      } catch (error) {\n        console.error('Error saving pending sale:', error)\n        let errorMessage = 'Failed to save pending sale. Please try again.'\n\n        if (error.response && error.response.data) {\n          errorMessage = error.response.data || errorMessage\n        }\n\n        this.$toast({\n          component: ToastificationContent,\n          props: {\n            title: 'Error',\n            icon: 'XIcon',\n            text: errorMessage,\n            variant: 'danger'\n          }\n        })\n      } finally {\n        this.loading = false\n      }\n    },\n    async loadPendingTicketsCount() {\n      try {\n        const response = await this.$http.get('/sales-header/pending-sales')\n        if (response.data) {\n          this.pendingTicketsCount = response.data.length || 0\n        }\n      } catch (error) {\n        console.error('Error loading pending tickets count:', error)\n        this.pendingTicketsCount = 0\n      }\n    }\n  }\n}\n</script>\n\n<style scoped>\n.payment-container {\n  margin: 0;\n  padding: 0;\n  height: 100vh;\n  width: 100%;\n  max-width: 100%;\n  overflow: hidden;\n  display: grid;\n  grid-template-rows: auto 1fr auto;\n  grid-template-areas:\n    \"summary\"\n    \"main\"\n    \"actions\";\n  background: #f5f5f5;\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  box-sizing: border-box;\n}\n\n/* Panel 1: Summary Panel (Top) */\n.panel-summary {\n  grid-area: summary;\n  background: #fff;\n  border-bottom: 2px solid #e0e0e0;\n  padding: 12px 15px;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  flex-wrap: wrap;\n  gap: 15px;\n  height: auto;\n  max-height: 120px;\n  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);\n  z-index: 10;\n  width: 100%;\n  box-sizing: border-box;\n  overflow: hidden;\n  flex-shrink: 0;\n}\n\n.summary-left {\n  display: flex;\n  align-items: center;\n  gap: 15px;\n  flex: 0 0 auto;\n}\n\n.back-btn {\n  min-width: 100px;\n  height: 40px;\n  font-weight: 600;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  touch-action: manipulation;\n}\n\n.summary-customer {\n  flex: 0 0 auto;\n}\n\n.customer-info-display {\n  display: flex;\n  align-items: center;\n  gap: 8px;\n}\n\n.customer-info-display strong {\n  font-size: 1.1rem;\n  color: #2c3e50;\n}\n\n.customer-info-display small {\n  font-size: 0.9rem;\n  color: #6c757d;\n}\n\n.summary-totals {\n  flex: 1;\n  display: flex;\n  gap: 30px;\n  flex-wrap: wrap;\n  justify-content: flex-end;\n  min-width: 0;\n  box-sizing: border-box;\n}\n\n.summary-item {\n  display: flex;\n  flex-direction: column;\n  align-items: flex-end;\n  gap: 4px;\n}\n\n.summary-label {\n  font-size: 0.85rem;\n  color: #6c757d;\n  font-weight: 500;\n}\n\n.summary-value {\n  font-size: 1.1rem;\n  font-weight: bold;\n  color: #2c3e50;\n}\n\n/* Main Content Area */\n.payment-main-content {\n  grid-area: main;\n  display: grid;\n  grid-template-columns: 280px 1fr;\n  grid-template-areas: \"classes content\";\n  overflow: hidden;\n  gap: 0;\n  min-width: 0;\n  width: 100%;\n  box-sizing: border-box;\n}\n\n/* Panel 2: Payment Classes (Left) */\n.panel-payment-classes {\n  grid-area: classes;\n  background: #fff;\n  border-right: 2px solid #e0e0e0;\n  display: flex;\n  flex-direction: column;\n  overflow: hidden;\n  width: 100%;\n  min-width: 0;\n  box-sizing: border-box;\n}\n\n.payment-classes-header {\n  padding: 15px;\n  border-bottom: 2px solid #e0e0e0;\n  background: #f8f9fa;\n}\n\n.payment-classes-header h5 {\n  margin: 0;\n  font-size: 1rem;\n  font-weight: 600;\n  color: #2c3e50;\n}\n\n.payment-classes-list {\n  flex: 1;\n  overflow-y: auto;\n  overflow-x: hidden;\n  padding: 10px;\n  display: flex;\n  flex-direction: column;\n  gap: 6px;\n  min-width: 0;\n  box-sizing: border-box;\n  /* Hide scrollbar but keep touch scrolling */\n  scrollbar-width: none;\n  /* Firefox */\n  -ms-overflow-style: none;\n  /* IE and Edge */\n}\n\n.payment-classes-list::-webkit-scrollbar {\n  display: none;\n  /* Chrome, Safari, Opera */\n}\n\n.payment-class-item {\n  padding: 12px 10px;\n  background: #f8f9fa;\n  border: 2px solid #e0e0e0;\n  border-radius: 8px;\n  cursor: pointer;\n  transition: all 0.2s ease;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  min-height: 50px;\n  touch-action: manipulation;\n  width: 100%;\n  box-sizing: border-box;\n  min-width: 0;\n  flex-shrink: 0;\n}\n\n.payment-class-item:hover {\n  background: #e9ecef;\n  border-color: #7367f0;\n  transform: translateX(2px);\n}\n\n.payment-class-item.active {\n  background: #f0f4ff;\n  border-color: #7367f0;\n  border-width: 3px;\n  box-shadow: 0 4px 12px rgba(115, 103, 240, 0.2);\n}\n\n.payment-class-name {\n  font-weight: 600;\n  color: #2c3e50;\n  font-size: 0.95rem;\n  flex: 1;\n  text-align: left;\n  min-width: 0;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n}\n\n.payment-class-total {\n  font-weight: bold;\n  color: #28a745;\n  font-size: 0.9rem;\n  margin-left: 10px;\n  flex-shrink: 0;\n  white-space: nowrap;\n}\n\n/* Right Side Content */\n.payment-right-content {\n  grid-area: content;\n  display: grid;\n  grid-template-rows: 1fr auto;\n  grid-template-areas:\n    \"cards\"\n    \"keyboard\";\n  overflow: hidden;\n  min-width: 0;\n  width: 100%;\n  box-sizing: border-box;\n}\n\n/* Panel 4: Payment Cards (Right-Top, Scrollable) */\n.panel-payment-cards {\n  grid-area: cards;\n  background: #fff;\n  display: flex;\n  flex-direction: column;\n  overflow: hidden;\n  width: 100%;\n  min-width: 0;\n  box-sizing: border-box;\n}\n\n.payment-cards-header {\n  padding: 15px;\n  border-bottom: 2px solid #e0e0e0;\n  background: #f8f9fa;\n  flex-shrink: 0;\n}\n\n.payment-cards-header h5 {\n  margin: 0;\n  font-size: 1rem;\n  font-weight: 600;\n  color: #2c3e50;\n}\n\n.payment-cards-container {\n  flex: 1;\n  overflow-y: auto;\n  overflow-x: hidden;\n  padding: 10px;\n  display: flex;\n  flex-direction: column;\n  gap: 10px;\n  min-width: 0;\n  box-sizing: border-box;\n  /* Hide scrollbar but keep touch scrolling */\n  scrollbar-width: none;\n  /* Firefox */\n  -ms-overflow-style: none;\n  /* IE and Edge */\n}\n\n.payment-cards-container::-webkit-scrollbar {\n  display: none;\n  /* Chrome, Safari, Opera */\n}\n\n.empty-cards {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  padding: 60px 20px;\n  color: #999;\n  text-align: center;\n}\n\n.payment-cards-list {\n  display: flex;\n  flex-direction: column;\n  gap: 15px;\n}\n\n.payment-card {\n  background: #f8f9fa;\n  border: 2px solid #e0e0e0;\n  border-radius: 12px;\n  padding: 12px;\n  cursor: pointer;\n  transition: all 0.2s ease;\n  touch-action: manipulation;\n  width: 100%;\n  box-sizing: border-box;\n  min-width: 0;\n  flex-shrink: 0;\n}\n\n.payment-card:hover {\n  border-color: #7367f0;\n  box-shadow: 0 2px 8px rgba(115, 103, 240, 0.15);\n}\n\n.payment-card.selected {\n  background: #f0f4ff;\n  border-color: #7367f0;\n  border-width: 3px;\n  box-shadow: 0 4px 12px rgba(115, 103, 240, 0.25);\n}\n\n.payment-card-header {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 12px;\n  padding-bottom: 10px;\n  border-bottom: 1px solid #e0e0e0;\n}\n\n.payment-card-title {\n  flex: 1;\n}\n\n.payment-card-title strong {\n  font-size: 1rem;\n  color: #2c3e50;\n}\n\n.card-delete-btn {\n  color: #dc3545;\n  padding: 4px 8px;\n}\n\n.card-delete-btn:hover {\n  color: #c82333;\n}\n\n.payment-card-body {\n  display: flex;\n  flex-direction: column;\n  gap: 8px;\n  min-width: 0;\n}\n\n.payment-card-body .form-group {\n  margin-bottom: 0;\n  min-width: 0;\n}\n\n.payment-card-body input,\n.payment-card-body select,\n.payment-card-body .input-group {\n  max-width: 100%;\n  box-sizing: border-box;\n}\n\n/* Panel 5: Numeric Keyboard (Bottom-Right) */\n.panel-keyboard {\n  grid-area: keyboard;\n  background: #fff;\n  border-top: 2px solid #e0e0e0;\n  padding: 10px 15px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  width: 100%;\n  min-width: 0;\n  box-sizing: border-box;\n  overflow: hidden;\n  flex-shrink: 0;\n  min-height: 180px;\n  max-height: 220px;\n}\n\n.keyboard-grid {\n  display: grid;\n  grid-template-columns: repeat(4, 1fr);\n  gap: 10px;\n  max-width: 400px;\n  width: 100%;\n  box-sizing: border-box;\n}\n\n.keyboard-key {\n  min-height: 50px;\n  height: 50px;\n  font-size: 1.3rem;\n  font-weight: 600;\n  border: 2px solid #e0e0e0;\n  border-radius: 8px;\n  background: #fff;\n  color: #2c3e50;\n  cursor: pointer;\n  transition: all 0.15s ease;\n  touch-action: manipulation;\n  user-select: none;\n  padding: 0;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\n.keyboard-key:hover:not(:disabled) {\n  background: #f0f0f0;\n  border-color: #7367f0;\n  transform: scale(0.98);\n}\n\n.keyboard-key:active:not(:disabled) {\n  transform: scale(0.95);\n  background: #e0e0e0;\n}\n\n.keyboard-key:disabled {\n  opacity: 0.5;\n  cursor: not-allowed;\n}\n\n.key-decimal {\n  font-size: 1.2rem;\n}\n\n.key-backspace {\n  background: #ffc107;\n  color: #000;\n  font-weight: bold;\n}\n\n.key-backspace:hover:not(:disabled) {\n  background: #ffb300;\n}\n\n/* Panel 3: Actions Panel (Bottom) */\n.panel-actions {\n  grid-area: actions;\n  background: #fff;\n  border-top: 2px solid #e0e0e0;\n  padding: 12px 15px;\n  display: flex;\n  gap: 12px;\n  justify-content: center;\n  align-items: center;\n  flex-wrap: wrap;\n  box-shadow: 0 -2px 4px rgba(0, 0, 0, 0.1);\n  z-index: 10;\n  width: 100%;\n  box-sizing: border-box;\n  overflow: hidden;\n  flex-shrink: 0;\n  height: auto;\n  max-height: 90px;\n}\n\n.action-btn {\n  min-width: 150px;\n  height: 45px;\n  font-weight: 600;\n  font-size: 0.95rem;\n  touch-action: manipulation;\n  padding: 8px 15px;\n}\n\n.action-btn:disabled {\n  opacity: 0.6;\n}\n\n/* Loading Overlay */\n.loading-overlay {\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  z-index: 9999;\n  pointer-events: none;\n}\n\n.loading-overlay .b-overlay {\n  pointer-events: auto;\n}\n\n/* Scrollbars are hidden but scrolling still works via touch/drag */\n\n/* Responsive adjustments for smaller screens */\n@media (max-width: 1200px) {\n  .payment-main-content {\n    grid-template-columns: 250px 1fr;\n  }\n\n  .summary-totals {\n    gap: 20px;\n  }\n}\n\n@media (max-width: 768px) {\n  .payment-main-content {\n    grid-template-columns: 1fr;\n    grid-template-areas: \"content\";\n  }\n\n  .panel-payment-classes {\n    display: none;\n    /* Hide on mobile, can be shown via toggle later */\n  }\n\n  .summary-totals {\n    flex-direction: column;\n    align-items: flex-start;\n    gap: 10px;\n  }\n\n  .summary-item {\n    align-items: flex-start;\n  }\n\n  .panel-actions {\n    flex-direction: column;\n  }\n\n  .action-btn {\n    width: 100%;\n  }\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Payment.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Payment.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./Payment.vue?vue&type=template&id=76d49d1c&scoped=true\"\nimport script from \"./Payment.vue?vue&type=script&lang=js\"\nexport * from \"./Payment.vue?vue&type=script&lang=js\"\nimport style0 from \"./Payment.vue?vue&type=style&index=0&id=76d49d1c&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"76d49d1c\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}