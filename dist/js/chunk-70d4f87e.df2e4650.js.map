{"version":3,"sources":["webpack:///./node_modules/core-js/internals/string-repeat.js","webpack:///./node_modules/core-js/modules/es.array.reduce.js","webpack:///./src/@core/components/toastification/ToastificationContent.vue?0408","webpack:///src/@core/components/toastification/ToastificationContent.vue","webpack:///./src/@core/components/toastification/ToastificationContent.vue?5e2e","webpack:///./src/@core/components/toastification/ToastificationContent.vue","webpack:///./src/@core/components/toastification/ToastificationContent.vue?b3fb","webpack:///./node_modules/core-js/internals/this-number-value.js","webpack:///./src/views/pos/ItemSelection.vue?f761","webpack:///./node_modules/core-js/modules/es.array.sort.js","webpack:///./node_modules/core-js/internals/is-integer.js","webpack:///./src/views/pos/ItemSelection.vue?01bc","webpack:///src/views/pos/ItemSelection.vue","webpack:///./src/views/pos/ItemSelection.vue?a329","webpack:///./src/views/pos/ItemSelection.vue?634e","webpack:///./node_modules/core-js/modules/es.number.is-integer.js","webpack:///./node_modules/core-js/modules/es.number.max-safe-integer.js","webpack:///./node_modules/core-js/modules/es.number.to-fixed.js","webpack:///./node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper.js","webpack:///./node_modules/core-js/internals/array-reduce.js","webpack:///./src/views/pos/ItemSelection.vue?5580"],"names":["toInteger","requireObjectCoercible","module","exports","repeat","count","str","String","this","result","n","Infinity","RangeError","$","$reduce","left","arrayMethodIsStrict","arrayMethodUsesToLength","CHROME_VERSION","IS_NODE","STRICT_METHOD","USES_TO_LENGTH","1","CHROME_BUG","target","proto","forced","reduce","callbackfn","arguments","length","undefined","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","variant","icon","class","domProps","_s","title","_e","text","on","$event","$emit","hideClose","staticRenderFns","components","BAvatar","props","type","default","Boolean","component","classof","value","TypeError","aFunction","toObject","fails","test","nativeSort","sort","FAILS_ON_UNDEFINED","FAILS_ON_NULL","FORCED","comparefn","call","isObject","floor","Math","it","isFinite","compactMode","ref","barcodeScanning","indexOf","_k","keyCode","key","handleBarcodeScan","onBarcodeInput","setActiveInput","model","callback","$$v","barcodeInput","expression","trim","searchPlaceholder","handleSearchInput","searchQuery","clearSearch","navigateBack","_v","active","isFamiliesView","resetToFamilies","isSubFamiliesView","selectedSubFamily","returnToSelectedFamily","selectedFamily","name","toggleCompactMode","currentLevelLabel","toLowerCase","filteredGridItems","gridStatusIcon","_l","entry","id","isItemsView","onGridEntryClick","itemCode","formatTunCurrency","getUnitPriceWithVat","stockQuantity","getStockClass","getStockIcon","cart","proceedToPayment","goToCustomerManagement","goToReturn","openPendingTicketsModal","pendingTicketsCount","showCloseSessionModal","cartScrollShadow","cartItem","index","highlighted","highlightedItemId","discountPercentage","discountAmount","getLineTotalWithVat","formatShortTun","unitPrice","formatVatPercentage","formatDiscountPercentage","decreaseQuantity","quantity","increaseQuantity","openLineDiscountModal","removeFromCart","cartCount","clearCart","subtotal","taxAmount","headerDiscountAmount","totalAmount","showKeyboard","toggleKeyboard","num","handleKeyboardPress","loadPendingTickets","resetPendingTickets","showPendingTicketsModal","pendingTickets","ticket","salesNumber","formatDateTime","salesDate","line","idx","item","formatPrice","lineTotal","retrievePendingTicket","confirmDeletePendingTicket","canCloseSession","closeSession","resetCloseSessionForm","onCloseSessionModalShown","scopedSlots","_u","fn","proxy","addCashCountLine","closeSessionData","cashCountLines","cashCountFields","row","updateCashCountTotals","$set","_n","paymentMethodOptionsWithCash","denominationValue","directives","rawName","modifiers","removeCashCountLine","staticStyle","calculatedTotalCash","canApplyDiscount","applyLineDiscount","resetDiscountForm","showDiscountModal","discountModalItemIndex","getDiscountModalItem","getOriginalLineTotal","discountType","discountValue","getCalculatedDiscount","getNewLineTotal","data","families","subFamilies","items","itemsWithBarcodes","currentView","gridLoading","subFamilyCache","itemCache","loadingPendingTickets","pendingTicketsInterval","ticketToDelete","notes","keyboardLayout","activeInput","loadingSession","highlightTimer","paymentMethods","label","sortable","thClass","tdClass","computed","canNavigateBack","currentGridItems","_this","collection","query","filter","matchesItem","includes","barcode","itemWithBarcodes","find","iwb","barcodes","matchesBarcode","some","code","description","$store","state","pos","sum","_this2","discount","vat","getVatPercent","_this3","discountedTotal","_this4","_this$$store$state$po","orderSummary","total","discountPercent","originalTotal","pendingTicketId","currentSession","paymentMethodOptions","pm","cashOption","concat","_toConsumableArray","parseFloat","qty","parseInt","every","mounted","_this5","document","body","classList","add","loadCurrentSession","loadFamilies","loadPendingTicketsCount","$nextTick","$refs","focus","$root","$on","setInterval","cartList","addEventListener","handleCartScroll","passive","beforeDestroy","remove","clearInterval","$off","removeEventListener","clearTimeout","methods","stock","defaultVAT","getUnitVatAmount","price","amount","toLocaleString","minimumFractionDigits","maximumFractionDigits","Number","isInteger","toFixed","getLineVatAmount","applyDiscount","lineTotalWithVat","max","_this6","_asyncToGenerator","_regeneratorRuntime","mark","_callee","response","payload","wrap","_context","prev","next","$http","get","sent","Array","isArray","family","a","b","localeCompare","sensitivity","orderA","displayOrder","MAX_SAFE_INTEGER","orderB","t0","console","error","$toast","ToastificationContent","finish","stop","loadSubFamilies","_this7","_callee2","list","_context2","abrupt","subFamily","loadItemsBySubFamily","_this8","_callee3","_context3","selectFamily","_this9","_callee4","_context4","selectSubFamily","_this10","_callee5","_context5","_this11","_callee6","_context6","_this12","_callee7","_context7","addToCart","loadItemsWithBarcodes","_this13","_callee8","_context8","params","page","size","filterType","content","field","targetField","currentValue","slice","_this14","_callee9","foundItem","_iterator","_step","itemData","barcodeMatch","_context9","_createForOfIteratorHelper","s","done","e","f","encodeURIComponent","t1","status","select","t2","_this15","_callee10","_context10","$forceUpdate","_this16","_callee11","_context11","require","_this17","cartItems","salesLines","map","dispatch","_this18","$bvModal","msgBoxConfirm","buttonSize","okVariant","okTitle","cancelTitle","footerClass","hideHeaderClose","centered","then","deletePendingTicket","ticketId","_this19","_callee12","errorMessage","_context12","post","message","dateString","date","Date","_this20","currentCart","existingIndex","findIndex","existingItem","splice","unshift","highlightCartItem","scrollTop","position","formatted","itemId","_this21","setTimeout","$router","push","returnTo","clearPendingTicket","_this22","_callee13","session","_context13","loadPaymentMethods","_this23","catch","paymentMethodId","_this24","_callee14","requestData","_context14","useJwt","logout","min","stat","thisNumberValue","nativeToFixed","pow","x","acc","log","x2","fractionDigits","z","j","k","number","fractDigits","sign","multiply","c","c2","divide","dataToString","t","r","Symbol","iterator","unsupportedIterableToArray","F","o","u","IndexedObject","toLength","createMethod","IS_RIGHT","that","argumentsLength","memo","O","self","i","right"],"mappings":"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","file":"js/chunk-70d4f87e.df2e4650.js","sourcesContent":["'use strict';\nvar toInteger = require('../internals/to-integer');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\n\n// `String.prototype.repeat` method implementation\n// https://tc39.github.io/ecma262/#sec-string.prototype.repeat\nmodule.exports = ''.repeat || function repeat(count) {\n  var str = String(requireObjectCoercible(this));\n  var result = '';\n  var n = toInteger(count);\n  if (n < 0 || n == Infinity) throw RangeError('Wrong number of repetitions');\n  for (;n > 0; (n >>>= 1) && (str += str)) if (n & 1) result += str;\n  return result;\n};\n","'use strict';\nvar $ = require('../internals/export');\nvar $reduce = require('../internals/array-reduce').left;\nvar arrayMethodIsStrict = require('../internals/array-method-is-strict');\nvar arrayMethodUsesToLength = require('../internals/array-method-uses-to-length');\nvar CHROME_VERSION = require('../internals/engine-v8-version');\nvar IS_NODE = require('../internals/engine-is-node');\n\nvar STRICT_METHOD = arrayMethodIsStrict('reduce');\nvar USES_TO_LENGTH = arrayMethodUsesToLength('reduce', { 1: 0 });\n// Chrome 80-82 has a critical bug\n// https://bugs.chromium.org/p/chromium/issues/detail?id=1049982\nvar CHROME_BUG = !IS_NODE && CHROME_VERSION > 79 && CHROME_VERSION < 83;\n\n// `Array.prototype.reduce` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.reduce\n$({ target: 'Array', proto: true, forced: !STRICT_METHOD || !USES_TO_LENGTH || CHROME_BUG }, {\n  reduce: function reduce(callbackfn /* , initialValue */) {\n    return $reduce(this, callbackfn, arguments.length, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"toastification\"},[_c('div',{staticClass:\"d-flex align-items-start\"},[_c('b-avatar',{staticClass:\"mr-75 flex-shrink-0\",attrs:{\"variant\":_vm.variant,\"size\":\"1.8rem\"}},[_c('feather-icon',{attrs:{\"icon\":_vm.icon,\"size\":\"15\"}})],1),_c('div',{staticClass:\"d-flex flex-grow-1\"},[_c('div',[(_vm.title)?_c('h5',{staticClass:\"mb-0 font-weight-bolder toastification-title\",class:(\"text-\" + _vm.variant),domProps:{\"textContent\":_vm._s(_vm.title)}}):_vm._e(),(_vm.text)?_c('small',{staticClass:\"d-inline-block text-body\",domProps:{\"textContent\":_vm._s(_vm.text)}}):_vm._e()]),_c('span',{staticClass:\"cursor-pointer toastification-close-icon ml-auto \",on:{\"click\":function($event){return _vm.$emit('close-toast')}}},[(!_vm.hideClose)?_c('feather-icon',{staticClass:\"text-body\",attrs:{\"icon\":\"XIcon\"}}):_vm._e()],1)])],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"toastification\">\r\n    <div class=\"d-flex align-items-start\">\r\n      <b-avatar\r\n        :variant=\"variant\"\r\n        size=\"1.8rem\"\r\n        class=\"mr-75 flex-shrink-0\"\r\n      >\r\n        <feather-icon\r\n          :icon=\"icon\"\r\n          size=\"15\"\r\n        />\r\n      </b-avatar>\r\n      <div class=\"d-flex flex-grow-1\">\r\n        <div>\r\n          <h5\r\n            v-if=\"title\"\r\n            class=\"mb-0 font-weight-bolder toastification-title\"\r\n            :class=\"`text-${variant}`\"\r\n            v-text=\"title\"\r\n          />\r\n          <small\r\n            v-if=\"text\"\r\n            class=\"d-inline-block text-body\"\r\n            v-text=\"text\"\r\n          />\r\n        </div>\r\n        <span\r\n          class=\"cursor-pointer toastification-close-icon ml-auto \"\r\n          @click=\"$emit('close-toast')\"\r\n        >\r\n          <feather-icon\r\n            v-if=\"!hideClose\"\r\n            icon=\"XIcon\"\r\n            class=\"text-body\"\r\n          />\r\n        </span>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { BAvatar } from 'bootstrap-vue'\r\n\r\nexport default {\r\n  components: {\r\n    BAvatar,\r\n  },\r\n  props: {\r\n    variant: {\r\n      type: String,\r\n      default: 'primary',\r\n    },\r\n    icon: {\r\n      type: String,\r\n      default: null,\r\n    },\r\n    title: {\r\n      type: String,\r\n      default: null,\r\n    },\r\n    text: {\r\n      type: String,\r\n      default: null,\r\n    },\r\n    hideClose: {\r\n      type: Boolean,\r\n      default: false,\r\n    },\r\n  },\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.toastification-close-icon,\r\n.toastification-title {\r\n  line-height: 26px;\r\n}\r\n\r\n.toastification-title {\r\n  color: inherit;\r\n}\r\n</style>\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ToastificationContent.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ToastificationContent.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./ToastificationContent.vue?vue&type=template&id=55dd3057&scoped=true\"\nimport script from \"./ToastificationContent.vue?vue&type=script&lang=js\"\nexport * from \"./ToastificationContent.vue?vue&type=script&lang=js\"\nimport style0 from \"./ToastificationContent.vue?vue&type=style&index=0&id=55dd3057&prod&lang=scss&scoped=true\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"55dd3057\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ToastificationContent.vue?vue&type=style&index=0&id=55dd3057&prod&lang=scss&scoped=true\"","var classof = require('../internals/classof-raw');\n\n// `thisNumberValue` abstract operation\n// https://tc39.github.io/ecma262/#sec-thisnumbervalue\nmodule.exports = function (value) {\n  if (typeof value != 'number' && classof(value) != 'Number') {\n    throw TypeError('Incorrect invocation');\n  }\n  return +value;\n};\n","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ItemSelection.vue?vue&type=style&index=1&id=1dfa5196&prod&lang=css\"","'use strict';\nvar $ = require('../internals/export');\nvar aFunction = require('../internals/a-function');\nvar toObject = require('../internals/to-object');\nvar fails = require('../internals/fails');\nvar arrayMethodIsStrict = require('../internals/array-method-is-strict');\n\nvar test = [];\nvar nativeSort = test.sort;\n\n// IE8-\nvar FAILS_ON_UNDEFINED = fails(function () {\n  test.sort(undefined);\n});\n// V8 bug\nvar FAILS_ON_NULL = fails(function () {\n  test.sort(null);\n});\n// Old WebKit\nvar STRICT_METHOD = arrayMethodIsStrict('sort');\n\nvar FORCED = FAILS_ON_UNDEFINED || !FAILS_ON_NULL || !STRICT_METHOD;\n\n// `Array.prototype.sort` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.sort\n$({ target: 'Array', proto: true, forced: FORCED }, {\n  sort: function sort(comparefn) {\n    return comparefn === undefined\n      ? nativeSort.call(toObject(this))\n      : nativeSort.call(toObject(this), aFunction(comparefn));\n  }\n});\n","var isObject = require('../internals/is-object');\n\nvar floor = Math.floor;\n\n// `Number.isInteger` method implementation\n// https://tc39.github.io/ecma262/#sec-number.isinteger\nmodule.exports = function isInteger(it) {\n  return !isObject(it) && isFinite(it) && floor(it) === it;\n};\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"pos-container\"},[_c('b-row',{staticClass:\"pos-content\"},[_c('b-col',{staticClass:\"items-column\",attrs:{\"cols\":\"12\",\"md\":\"8\",\"lg\":\"9\"}},[_c('div',{staticClass:\"items-section\",class:{ 'compact-mode': _vm.compactMode }},[_c('div',{staticClass:\"items-header\"},[_c('div',{staticClass:\"input-row\"},[_c('div',{staticClass:\"input-col barcode-col\"},[_c('b-input-group',[_c('b-input-group-prepend',[_c('span',{staticClass:\"input-group-text\"},[_c('feather-icon',{attrs:{\"icon\":\"HashIcon\",\"size\":\"16\"}})],1)]),_c('b-form-input',{ref:\"barcodeInput\",staticClass:\"barcode-scanner-input\",attrs:{\"placeholder\":\"Scan barcode (or type and press Enter)...\",\"disabled\":_vm.barcodeScanning,\"autofocus\":\"\"},on:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.handleBarcodeScan($event)},\"input\":_vm.onBarcodeInput,\"focus\":function($event){return _vm.setActiveInput('barcode')}},model:{value:(_vm.barcodeInput),callback:function ($$v) {_vm.barcodeInput=$$v},expression:\"barcodeInput\"}}),_c('b-input-group-append',[_c('b-button',{attrs:{\"variant\":\"primary\",\"disabled\":_vm.barcodeScanning || !_vm.barcodeInput.trim()},on:{\"click\":_vm.handleBarcodeScan}},[(_vm.barcodeScanning)?_c('b-spinner',{staticClass:\"mr-1\",attrs:{\"small\":\"\"}}):_c('feather-icon',{attrs:{\"icon\":\"SearchIcon\"}})],1)],1)],1)],1),_c('div',{staticClass:\"input-col search-col\"},[_c('b-input-group',[_c('b-input-group-prepend',[_c('span',{staticClass:\"input-group-text\"},[_c('feather-icon',{attrs:{\"icon\":\"SearchIcon\",\"size\":\"16\"}})],1)]),_c('b-form-input',{attrs:{\"placeholder\":_vm.searchPlaceholder},on:{\"input\":_vm.handleSearchInput,\"focus\":function($event){return _vm.setActiveInput('search')}},model:{value:(_vm.searchQuery),callback:function ($$v) {_vm.searchQuery=$$v},expression:\"searchQuery\"}}),_c('b-input-group-append',[_c('b-button',{attrs:{\"variant\":\"outline-secondary\",\"disabled\":!_vm.searchQuery.trim()},on:{\"click\":_vm.clearSearch}},[_c('feather-icon',{attrs:{\"icon\":\"XIcon\"}})],1)],1)],1)],1)]),_c('div',{staticClass:\"hierarchy-controls\"},[_c('div',{staticClass:\"hierarchy-group\"},[(_vm.canNavigateBack)?_c('b-button',{attrs:{\"size\":\"sm\",\"variant\":\"outline-secondary\"},on:{\"click\":_vm.navigateBack}},[_c('feather-icon',{staticClass:\"mr-50\",attrs:{\"icon\":\"ArrowLeftIcon\",\"size\":\"14\"}}),_vm._v(\" Back \")],1):_vm._e(),_c('div',{staticClass:\"breadcrumb-trail\"},[_c('span',{staticClass:\"breadcrumb-chip\",class:{ active: _vm.isFamiliesView },on:{\"click\":_vm.resetToFamilies}},[_c('feather-icon',{staticClass:\"mr-25\",attrs:{\"icon\":\"LayersIcon\",\"size\":\"14\"}}),_vm._v(\" Families \")],1),(_vm.selectedFamily)?[_c('span',{staticClass:\"breadcrumb-separator\"},[_c('feather-icon',{attrs:{\"icon\":\"ChevronRightIcon\",\"size\":\"14\"}})],1),_c('span',{staticClass:\"breadcrumb-chip\",class:{ active: _vm.isSubFamiliesView && !_vm.selectedSubFamily },on:{\"click\":_vm.returnToSelectedFamily}},[_c('feather-icon',{staticClass:\"mr-25\",attrs:{\"icon\":\"GridIcon\",\"size\":\"14\"}}),_vm._v(\" \"+_vm._s(_vm.selectedFamily.name)+\" \")],1)]:_vm._e(),(_vm.selectedSubFamily)?[_c('span',{staticClass:\"breadcrumb-separator\"},[_c('feather-icon',{attrs:{\"icon\":\"ChevronRightIcon\",\"size\":\"14\"}})],1),_c('span',{staticClass:\"breadcrumb-chip active\"},[_c('feather-icon',{staticClass:\"mr-25\",attrs:{\"icon\":\"PackageIcon\",\"size\":\"14\"}}),_vm._v(\" \"+_vm._s(_vm.selectedSubFamily.name)+\" \")],1)]:_vm._e()],2)],1),_c('b-button',{staticClass:\"compact-toggle\",attrs:{\"size\":\"sm\",\"variant\":_vm.compactMode ? 'outline-primary' : 'primary'},on:{\"click\":_vm.toggleCompactMode}},[_c('feather-icon',{staticClass:\"mr-50\",attrs:{\"icon\":_vm.compactMode ? 'MaximizeIcon' : 'MinimizeIcon',\"size\":\"14\"}}),_vm._v(\" \"+_vm._s(_vm.compactMode ? 'Comfort view' : 'Compact view')+\" \")],1)],1)]),_c('div',{staticClass:\"items-body\"},[_c('div',{staticClass:\"items-grid-wrapper\"},[(_vm.gridLoading)?_c('div',{staticClass:\"grid-status\"},[_c('b-spinner',{staticClass:\"mb-1\"}),_c('p',{staticClass:\"mb-0\"},[_vm._v(\"Loading \"+_vm._s(_vm.currentLevelLabel.toLowerCase())+\"...\")])],1):(_vm.filteredGridItems.length === 0)?_c('div',{staticClass:\"grid-status empty-state\"},[_c('feather-icon',{staticClass:\"text-muted mb-1\",attrs:{\"icon\":_vm.gridStatusIcon,\"size\":\"48\"}}),_c('p',{staticClass:\"mb-0\"},[_vm._v(\"No \"+_vm._s(_vm.currentLevelLabel.toLowerCase())+\" found\")]),_c('small',{staticClass:\"text-muted\"},[_vm._v(\"Try a different selection or clear the search\")])],1):_c('div',{staticClass:\"items-grid\"},_vm._l((_vm.filteredGridItems),function(entry){return _c('div',{key:entry.id,staticClass:\"item-card\",class:{ 'category-card': !_vm.isItemsView },on:{\"click\":function($event){return _vm.onGridEntryClick(entry)}}},[(_vm.isItemsView)?[_c('div',{staticClass:\"item-image\"},[_c('feather-icon',{attrs:{\"icon\":\"PackageIcon\",\"size\":\"34\"}})],1),_c('div',{staticClass:\"item-details\"},[_c('h5',[_vm._v(_vm._s(entry.name))]),_c('p',{staticClass:\"item-code\"},[_vm._v(_vm._s(entry.itemCode))]),_c('p',{staticClass:\"item-price\"},[_vm._v(_vm._s(_vm.formatTunCurrency(_vm.getUnitPriceWithVat(entry)))+\" TTC\")]),(entry.stockQuantity !== null)?_c('p',{staticClass:\"item-stock\",class:_vm.getStockClass(entry.stockQuantity)},[_c('feather-icon',{staticClass:\"mr-25\",attrs:{\"icon\":_vm.getStockIcon(entry.stockQuantity),\"size\":\"12\"}}),_vm._v(\" Stock: \"+_vm._s(entry.stockQuantity)+\" \")],1):_vm._e()])]:[_c('div',{staticClass:\"category-card-content\"},[_c('div',{staticClass:\"category-icon\"},[_c('feather-icon',{attrs:{\"icon\":_vm.isFamiliesView ? 'LayersIcon' : 'GridIcon',\"size\":\"26\"}})],1),_c('div',{staticClass:\"category-title clamp-2\"},[_vm._v(_vm._s(entry.name))])])]],2)}),0)])])]),_c('div',{staticClass:\"actions-panel inline-panel\"},[_c('div',{staticClass:\"actions-grid\"},[_c('b-button',{staticClass:\"action-btn\",attrs:{\"variant\":\"primary\",\"block\":\"\",\"disabled\":_vm.cart.length === 0},on:{\"click\":_vm.proceedToPayment}},[_c('feather-icon',{staticClass:\"mr-50\",attrs:{\"icon\":\"CreditCardIcon\",\"size\":\"16\"}}),_vm._v(\" Payment \")],1),_c('b-button',{staticClass:\"action-btn\",attrs:{\"variant\":\"outline-primary\",\"block\":\"\"},on:{\"click\":_vm.goToCustomerManagement}},[_c('feather-icon',{staticClass:\"mr-50\",attrs:{\"icon\":\"UsersIcon\",\"size\":\"16\"}}),_vm._v(\" Customers \")],1),_c('b-button',{staticClass:\"action-btn\",attrs:{\"variant\":\"outline-success\",\"block\":\"\"},on:{\"click\":_vm.goToReturn}},[_c('feather-icon',{staticClass:\"mr-50\",attrs:{\"icon\":\"RotateCcwIcon\",\"size\":\"16\"}}),_vm._v(\" Return Products \")],1),_c('b-button',{staticClass:\"action-btn\",attrs:{\"variant\":\"outline-warning\",\"block\":\"\"},on:{\"click\":_vm.openPendingTicketsModal}},[_c('feather-icon',{staticClass:\"mr-50\",attrs:{\"icon\":\"ClockIcon\",\"size\":\"16\"}}),_vm._v(\" Pending Tickets \"),(_vm.pendingTicketsCount > 0)?_c('b-badge',{staticClass:\"ml-50\",attrs:{\"variant\":\"warning\"}},[_vm._v(\" \"+_vm._s(_vm.pendingTicketsCount)+\" \")]):_vm._e()],1),_c('b-button',{staticClass:\"action-btn\",attrs:{\"variant\":\"outline-secondary\",\"block\":\"\",\"disabled\":\"\"}},[_c('feather-icon',{staticClass:\"mr-50\",attrs:{\"icon\":\"ListIcon\",\"size\":\"16\"}}),_vm._v(\" Tickets List (soon) \")],1),_c('b-button',{staticClass:\"action-btn\",attrs:{\"variant\":\"outline-danger\",\"block\":\"\"},on:{\"click\":function($event){_vm.showCloseSessionModal = true}}},[_c('feather-icon',{staticClass:\"mr-50\",attrs:{\"icon\":\"PowerIcon\",\"size\":\"16\"}}),_vm._v(\" Close Session \")],1)],1)])]),_c('b-col',{staticClass:\"cart-section\",attrs:{\"cols\":\"12\",\"md\":\"4\",\"lg\":\"3\"}},[_c('div',{ref:\"cartList\",staticClass:\"cart-items\",class:{ 'cart-items--scrolled': _vm.cartScrollShadow }},[(_vm.cart.length === 0)?_c('div',{staticClass:\"empty-cart\"},[_c('feather-icon',{staticClass:\"mb-1 text-muted\",attrs:{\"icon\":\"ShoppingBagIcon\",\"size\":\"36\"}}),_c('p',{staticClass:\"mb-25\"},[_vm._v(\"Cart is empty\")]),_c('small',{staticClass:\"text-muted d-block mb-1\"},[_vm._v(\"Scan a barcode or tap a product to add it.\")]),(_vm.pendingTicketsCount > 0)?_c('b-button',{attrs:{\"size\":\"sm\",\"variant\":\"outline-primary\"},on:{\"click\":_vm.openPendingTicketsModal}},[_vm._v(\" View Pending Tickets (\"+_vm._s(_vm.pendingTicketsCount)+\") \")]):_vm._e()],1):_vm._e(),_vm._l((_vm.cart),function(cartItem,index){return _c('div',{key:index,staticClass:\"cart-item\",class:{ highlighted: _vm.highlightedItemId === cartItem.id }},[_c('div',{staticClass:\"cart-item-header\"},[_c('div',{staticClass:\"cart-item-title\"},[_c('h6',[_vm._v(_vm._s(cartItem.name))])]),_c('div',{staticClass:\"cart-item-total\"},[(cartItem.discountPercentage || cartItem.discountAmount)?_c('div',{staticClass:\"discounted-total\"},[_c('span',{staticClass:\"original-amount\"},[_vm._v(_vm._s(_vm.formatTunCurrency(_vm.getLineTotalWithVat(cartItem, false))))]),_c('span',{staticClass:\"total-amount\"},[_vm._v(_vm._s(_vm.formatTunCurrency(_vm.getLineTotalWithVat(cartItem, true))))])]):_c('span',{staticClass:\"total-amount\"},[_vm._v(_vm._s(_vm.formatTunCurrency(_vm.getLineTotalWithVat(cartItem, true))))])])]),_c('div',{staticClass:\"cart-item-breakdown\"},[_c('div',{staticClass:\"breakdown-row\"},[_c('span',{staticClass:\"breakdown-label\"},[_vm._v(\"Unit Price:\")]),_c('span',{staticClass:\"breakdown-value\"},[_vm._v(_vm._s(_vm.formatShortTun(cartItem.unitPrice))+\" HT\")]),_c('span',{staticClass:\"breakdown-value secondary\"},[_vm._v(_vm._s(_vm.formatVatPercentage(cartItem))+\"% VAT\")]),_c('span',{staticClass:\"breakdown-value primary\"},[_vm._v(_vm._s(_vm.formatShortTun(_vm.getUnitPriceWithVat(cartItem)))+\" TTC\")])]),(cartItem.discountPercentage || cartItem.discountAmount)?_c('div',{staticClass:\"breakdown-row discount-row\"},[_c('feather-icon',{staticClass:\"breakdown-icon\",attrs:{\"icon\":\"PercentIcon\",\"size\":\"14\"}}),_c('span',{staticClass:\"breakdown-label\"},[_vm._v(\"Discount:\")]),_c('span',{staticClass:\"breakdown-value discount\"},[_vm._v(\" \"+_vm._s(cartItem.discountPercentage ? _vm.formatDiscountPercentage(cartItem.discountPercentage) + '%' : _vm.formatShortTun(cartItem.discountAmount))+\" \")])],1):_vm._e()]),_c('div',{staticClass:\"cart-item-controls\"},[_c('div',{staticClass:\"quantity-controls\"},[_c('b-button',{staticClass:\"qty-btn\",attrs:{\"variant\":\"outline-primary\",\"size\":\"sm\"},on:{\"click\":function($event){return _vm.decreaseQuantity(index)}}},[_vm._v(\" - \")]),_c('span',{staticClass:\"quantity\"},[_vm._v(_vm._s(cartItem.quantity))]),_c('b-button',{staticClass:\"qty-btn\",attrs:{\"variant\":\"outline-primary\",\"size\":\"sm\"},on:{\"click\":function($event){return _vm.increaseQuantity(index)}}},[_vm._v(\" + \")])],1),_c('div',{staticClass:\"action-buttons\"},[_c('b-button',{staticClass:\"discount-btn\",attrs:{\"variant\":\"outline-info\",\"size\":\"sm\",\"title\":cartItem.discountPercentage || cartItem.discountAmount ? 'Edit discount' : 'Add discount'},on:{\"click\":function($event){return _vm.openLineDiscountModal(index)}}},[_c('feather-icon',{attrs:{\"icon\":\"PercentIcon\",\"size\":\"14\"}}),(cartItem.discountPercentage || cartItem.discountAmount)?_c('span',{staticClass:\"discount-badge\"},[_vm._v(\" \"+_vm._s(cartItem.discountPercentage ? _vm.formatDiscountPercentage(cartItem.discountPercentage) + '%' : _vm.formatShortTun(cartItem.discountAmount))+\" \")]):_vm._e()],1),_c('b-button',{staticClass:\"remove-btn\",attrs:{\"variant\":\"outline-danger\",\"size\":\"sm\"},on:{\"click\":function($event){return _vm.removeFromCart(index)}}},[_c('feather-icon',{attrs:{\"icon\":\"Trash2Icon\",\"size\":\"14\"}})],1)],1)])])})],2),_c('div',{staticClass:\"cart-summary\"},[_c('div',{staticClass:\"cart-summary-header\"},[_c('span',{staticClass:\"cart-summary-title\"},[_vm._v(\"Cart \"+_vm._s(_vm.cartCount > 0 ? (\"(\" + _vm.cartCount + \")\") : ''))]),(_vm.cart.length > 0)?_c('b-button',{staticClass:\"cart-clear-btn\",attrs:{\"variant\":\"outline-secondary\",\"size\":\"sm\"},on:{\"click\":_vm.clearCart}},[_vm._v(\" Clear \")]):_vm._e()],1),_c('div',{staticClass:\"summary-row\"},[_c('span',[_vm._v(\"Items:\")]),_c('span',[_vm._v(_vm._s(_vm.cart.length)+\" (\"+_vm._s(_vm.cartCount)+\" units)\")])]),_c('div',{staticClass:\"summary-row\"},[_c('span',[_vm._v(\"Subtotal:\")]),_c('span',[_vm._v(_vm._s(_vm.formatTunCurrency(_vm.subtotal)))])]),_c('div',{staticClass:\"summary-row\"},[_c('span',[_vm._v(\"Tax:\")]),_c('span',[_vm._v(_vm._s(_vm.formatTunCurrency(_vm.taxAmount)))])]),(_vm.headerDiscountAmount > 0)?_c('div',{staticClass:\"summary-row discount-row\"},[_c('span',[_vm._v(\"Discount:\")]),_c('span',{staticClass:\"text-danger\"},[_vm._v(\"-\"+_vm._s(_vm.formatTunCurrency(_vm.headerDiscountAmount)))])]):_vm._e(),_c('div',{staticClass:\"summary-row total\"},[_c('span',[_vm._v(\"Total:\")]),_c('span',[_vm._v(_vm._s(_vm.formatTunCurrency(_vm.totalAmount)))])])]),_c('div',{staticClass:\"keyboard-toggle\"},[_c('b-button',{staticClass:\"keyboard-toggle-btn\",class:{ 'keyboard-active': _vm.showKeyboard },attrs:{\"variant\":\"outline-secondary\",\"block\":\"\"},on:{\"click\":_vm.toggleKeyboard}},[_c('feather-icon',{staticClass:\"mr-50\",attrs:{\"icon\":_vm.showKeyboard ? 'ChevronDownIcon' : 'ChevronUpIcon',\"size\":\"16\"}}),_vm._v(\" \"+_vm._s(_vm.showKeyboard ? 'Hide Keyboard' : 'Show Keyboard')+\" \")],1)],1),_c('transition',{attrs:{\"name\":\"keyboard-fade\"}},[(_vm.showKeyboard)?_c('div',{staticClass:\"virtual-keyboard\"},[_c('div',{staticClass:\"keyboard-header\"},[_c('strong',[_vm._v(\"Numeric Keyboard\")]),_c('b-button',{staticClass:\"keyboard-close-btn\",attrs:{\"size\":\"sm\",\"variant\":\"outline-secondary\"},on:{\"click\":_vm.toggleKeyboard}},[_c('feather-icon',{attrs:{\"icon\":\"XIcon\",\"size\":\"14\"}})],1)],1),_c('div',{staticClass:\"keyboard-grid\"},_vm._l(([1, 2, 3, 4, 5, 6, 7, 8, 9, '.', 0, '']),function(num){return _c('button',{key:num,staticClass:\"keyboard-key\",class:{ 'key-decimal': num === '.', 'key-backspace': num === '' },attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.handleKeyboardPress(num)}}},[_vm._v(\" \"+_vm._s(num)+\" \")])}),0),_c('div',{staticClass:\"keyboard-actions\"},[_c('button',{staticClass:\"keyboard-action-btn\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.handleKeyboardPress('CLEAR')}}},[_vm._v(\" Clear \")]),_c('button',{staticClass:\"keyboard-action-btn\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.handleKeyboardPress('BACK')}}},[_c('feather-icon',{attrs:{\"icon\":\"DeleteIcon\",\"size\":\"16\"}}),_vm._v(\" Back \")],1),_c('button',{staticClass:\"keyboard-action-btn keyboard-action-enter\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.handleKeyboardPress('ENTER')}}},[_c('feather-icon',{attrs:{\"icon\":\"CheckIcon\",\"size\":\"16\"}}),_vm._v(\" Enter \")],1)])]):_vm._e()])],1)],1),_c('b-modal',{attrs:{\"id\":\"pending-tickets-modal\",\"title\":\"Pending Tickets\",\"size\":\"xl\"},on:{\"show\":_vm.loadPendingTickets,\"hide\":_vm.resetPendingTickets},model:{value:(_vm.showPendingTicketsModal),callback:function ($$v) {_vm.showPendingTicketsModal=$$v},expression:\"showPendingTicketsModal\"}},[(_vm.loadingPendingTickets)?_c('div',{staticClass:\"text-center py-4\"},[_c('b-spinner',{staticClass:\"align-middle\"}),_c('p',{staticClass:\"mt-2\"},[_vm._v(\"Loading pending tickets...\")])],1):(_vm.pendingTickets.length === 0)?_c('div',{staticClass:\"text-center py-4\"},[_c('feather-icon',{staticClass:\"text-success mb-3\",attrs:{\"icon\":\"CheckCircleIcon\",\"size\":\"48\"}}),_c('h5',[_vm._v(\"No Pending Tickets\")]),_c('p',{staticClass:\"text-muted\"},[_vm._v(\"All tickets are completed\")])],1):_c('div',{staticClass:\"pending-tickets-list\"},_vm._l((_vm.pendingTickets),function(ticket){return _c('b-card',{key:ticket.id,staticClass:\"mb-3 ticket-card\"},[_c('div',{staticClass:\"d-flex justify-content-between align-items-start mb-2\"},[_c('div',[_c('h6',{staticClass:\"mb-1\"},[_vm._v(\"Ticket: \"+_vm._s(ticket.salesNumber))]),_c('small',{staticClass:\"text-muted\"},[_vm._v(\" Created: \"+_vm._s(_vm.formatDateTime(ticket.salesDate))+\" \")])]),_c('b-badge',{attrs:{\"variant\":\"warning\"}},[_vm._v(\"PENDING\")])],1),_c('div',{staticClass:\"ticket-items mb-2\"},[_c('h6',{staticClass:\"small font-weight-bold mb-1\"},[_vm._v(\"Items:\")]),_vm._l((ticket.salesLines),function(line,idx){return _c('div',{key:idx,staticClass:\"ticket-item-line\"},[_c('span',[_vm._v(_vm._s(line.item.name))]),_c('span',{staticClass:\"float-right\"},[_vm._v(\" \"+_vm._s(line.quantity)+\" x TND \"+_vm._s(_vm.formatPrice(line.unitPrice))+\" = TND \"+_vm._s(_vm.formatPrice(line.lineTotal))+\" \")])])})],2),_c('div',{staticClass:\"ticket-summary\"},[_c('div',{staticClass:\"d-flex justify-content-between\"},[_c('span',[_vm._v(\"Subtotal:\")]),_c('span',[_vm._v(\"TND \"+_vm._s(_vm.formatPrice(ticket.subtotal)))])]),_c('div',{staticClass:\"d-flex justify-content-between\"},[_c('span',[_vm._v(\"Tax:\")]),_c('span',[_vm._v(\"TND \"+_vm._s(_vm.formatPrice(ticket.taxAmount)))])]),_c('div',{staticClass:\"d-flex justify-content-between font-weight-bold\"},[_c('span',[_vm._v(\"Total:\")]),_c('span',[_vm._v(\"TND \"+_vm._s(_vm.formatPrice(ticket.totalAmount)))])])]),_c('div',{staticClass:\"mt-3 d-flex gap-2\"},[_c('b-button',{staticClass:\"flex-grow-1\",attrs:{\"variant\":\"primary\",\"size\":\"sm\"},on:{\"click\":function($event){return _vm.retrievePendingTicket(ticket)}}},[_c('feather-icon',{staticClass:\"mr-1\",attrs:{\"icon\":\"ArrowRightIcon\",\"size\":\"14\"}}),_vm._v(\" Continue \")],1),_c('b-button',{attrs:{\"variant\":\"danger\",\"size\":\"sm\"},on:{\"click\":function($event){return _vm.confirmDeletePendingTicket(ticket)}}},[_c('feather-icon',{attrs:{\"icon\":\"TrashIcon\",\"size\":\"14\"}})],1)],1)])}),1)]),_c('b-modal',{attrs:{\"id\":\"close-session-modal\",\"title\":\"Close Cashier Session\",\"size\":\"xl\",\"ok-disabled\":!_vm.canCloseSession,\"ok-variant\":\"danger\"},on:{\"ok\":_vm.closeSession,\"cancel\":_vm.resetCloseSessionForm,\"hide\":_vm.resetCloseSessionForm,\"shown\":_vm.onCloseSessionModalShown},scopedSlots:_vm._u([{key:\"modal-ok\",fn:function(){return [_c('feather-icon',{staticClass:\"mr-50\",attrs:{\"icon\":\"PowerIcon\",\"size\":\"16\"}}),_vm._v(\" Close Session \")]},proxy:true}]),model:{value:(_vm.showCloseSessionModal),callback:function ($$v) {_vm.showCloseSessionModal=$$v},expression:\"showCloseSessionModal\"}},[_c('div',{staticClass:\"cash-count-section\"},[_c('div',{staticClass:\"d-flex justify-content-between align-items-center mb-4\"},[_c('div',[_c('h5',{staticClass:\"mb-1\"},[_vm._v(\"Payment Count Details\")]),_c('p',{staticClass:\"text-muted small mb-0\"},[_vm._v(\"Count and record all payment methods for this session\")])]),_c('b-button',{staticClass:\"shadow-sm\",attrs:{\"variant\":\"primary\",\"size\":\"sm\"},on:{\"click\":_vm.addCashCountLine}},[_c('feather-icon',{staticClass:\"mr-50\",attrs:{\"icon\":\"PlusIcon\",\"size\":\"14\"}}),_vm._v(\" Add Line \")],1)],1),_c('div',{staticClass:\"cash-count-table-container\"},[(_vm.closeSessionData.cashCountLines.length > 0)?_c('b-table',{staticClass:\"mb-0\",attrs:{\"items\":_vm.closeSessionData.cashCountLines,\"fields\":_vm.cashCountFields,\"striped\":\"\",\"bordered\":\"\",\"small\":\"\",\"responsive\":\"\"},scopedSlots:_vm._u([{key:\"cell(denominationValue)\",fn:function(row){return [_c('b-input-group',{attrs:{\"prepend\":\"TND\",\"size\":\"sm\"}},[_c('b-form-input',{attrs:{\"type\":\"number\",\"step\":\"0.01\",\"min\":\"0\",\"size\":\"sm\",\"placeholder\":\"0.00\"},on:{\"input\":_vm.updateCashCountTotals},model:{value:(row.item.denominationValue),callback:function ($$v) {_vm.$set(row.item, \"denominationValue\", _vm._n($$v))},expression:\"row.item.denominationValue\"}})],1)]}},{key:\"cell(quantity)\",fn:function(row){return [_c('b-form-input',{attrs:{\"type\":\"number\",\"min\":\"1\",\"size\":\"sm\",\"placeholder\":\"0\"},on:{\"input\":_vm.updateCashCountTotals},model:{value:(row.item.quantity),callback:function ($$v) {_vm.$set(row.item, \"quantity\", _vm._n($$v))},expression:\"row.item.quantity\"}})]}},{key:\"cell(paymentMethod)\",fn:function(row){return [_c('b-form-select',{attrs:{\"options\":_vm.paymentMethodOptionsWithCash,\"value-field\":\"id\",\"text-field\":\"name\",\"size\":\"sm\"},on:{\"change\":_vm.updateCashCountTotals},model:{value:(row.item.paymentMethodId),callback:function ($$v) {_vm.$set(row.item, \"paymentMethodId\", $$v)},expression:\"row.item.paymentMethodId\"}})]}},{key:\"cell(lineTotal)\",fn:function(row){return [_c('strong',{staticClass:\"text-primary\"},[_vm._v(\"TND \"+_vm._s(_vm.formatPrice(row.item.denominationValue * row.item.quantity)))])]}},{key:\"cell(actions)\",fn:function(row){return [_c('b-button',{directives:[{name:\"b-tooltip\",rawName:\"v-b-tooltip.hover\",modifiers:{\"hover\":true}}],staticClass:\"text-danger p-0\",attrs:{\"variant\":\"link\",\"size\":\"sm\",\"title\":\"Remove line\"},on:{\"click\":function($event){return _vm.removeCashCountLine(row.index)}}},[_c('feather-icon',{attrs:{\"icon\":\"XIcon\",\"size\":\"16\"}})],1)]}}],null,false,1717590983)}):_c('div',{staticClass:\"text-center text-muted py-5\"},[_c('feather-icon',{staticClass:\"mb-2 text-muted\",attrs:{\"icon\":\"FileTextIcon\",\"size\":\"48\"}}),_c('p',{staticClass:\"mb-1\"},[_vm._v(\"No payment count lines added yet\")]),_c('p',{staticClass:\"small mb-0\"},[_vm._v(\"Click \\\"Add Line\\\" to start counting payments\")])],1)],1),(_vm.closeSessionData.cashCountLines.length > 0)?_c('div',{staticClass:\"cash-count-total mt-4\"},[_c('b-card',{staticClass:\"border-primary\"},[_c('div',{staticClass:\"d-flex justify-content-between align-items-center\"},[_c('div',[_c('strong',{staticClass:\"text-muted d-block mb-1\",staticStyle:{\"font-size\":\"0.9rem\"}},[_vm._v(\"Total Counted\")]),_c('strong',{staticClass:\"text-primary\",staticStyle:{\"font-size\":\"1.5rem\"}},[_vm._v(\" TND \"+_vm._s(_vm.formatPrice(_vm.calculatedTotalCash))+\" \")])]),_c('feather-icon',{staticClass:\"text-primary\",attrs:{\"icon\":\"DollarSignIcon\",\"size\":\"32\"}})],1)])],1):_vm._e(),_c('b-form-group',{staticClass:\"mt-4\",attrs:{\"label\":\"Notes (optional)\",\"label-for\":\"close-notes\"}},[_c('b-form-textarea',{attrs:{\"id\":\"close-notes\",\"placeholder\":\"Enter any notes about the payment count...\",\"rows\":\"3\"},model:{value:(_vm.closeSessionData.notes),callback:function ($$v) {_vm.$set(_vm.closeSessionData, \"notes\", $$v)},expression:\"closeSessionData.notes\"}})],1)],1)]),_c('b-modal',{attrs:{\"id\":\"discount-modal\",\"title\":\"Apply Discount\",\"size\":\"md\",\"ok-disabled\":!_vm.canApplyDiscount},on:{\"ok\":_vm.applyLineDiscount,\"hide\":_vm.resetDiscountForm},scopedSlots:_vm._u([{key:\"modal-ok\",fn:function(){return [_vm._v(\" Apply Discount \")]},proxy:true},{key:\"modal-cancel\",fn:function(){return [_vm._v(\" Cancel \")]},proxy:true}]),model:{value:(_vm.showDiscountModal),callback:function ($$v) {_vm.showDiscountModal=$$v},expression:\"showDiscountModal\"}},[(_vm.discountModalItemIndex !== null)?_c('div',[(_vm.getDiscountModalItem())?_c('div',{staticClass:\"mb-3\"},[_c('strong',[_vm._v(_vm._s(_vm.getDiscountModalItem().name))]),_c('div',{staticClass:\"text-muted small\"},[_vm._v(\"Original Line Total: \"+_vm._s(_vm.formatTunCurrency(_vm.getOriginalLineTotal())))])]):_vm._e(),_c('b-form-group',{attrs:{\"label\":\"Discount Type\"}},[_c('b-form-radio-group',{attrs:{\"options\":[\n          { text: 'Percentage (%)', value: 'percentage' },\n          { text: 'Amount (TND)', value: 'amount' }\n        ]},model:{value:(_vm.discountType),callback:function ($$v) {_vm.discountType=$$v},expression:\"discountType\"}})],1),_c('b-form-group',{attrs:{\"label\":_vm.discountType === 'percentage' ? 'Discount Percentage' : 'Discount Amount'}},[_c('b-input-group',[_c('b-form-input',{attrs:{\"type\":\"number\",\"step\":\"0.01\",\"min\":0,\"max\":_vm.discountType === 'percentage' ? 100 : _vm.getOriginalLineTotal(),\"placeholder\":_vm.discountType === 'percentage' ? '0.00' : '0.00'},model:{value:(_vm.discountValue),callback:function ($$v) {_vm.discountValue=_vm._n($$v)},expression:\"discountValue\"}}),_c('b-input-group-append',[_c('span',{staticClass:\"input-group-text\"},[_vm._v(_vm._s(_vm.discountType === 'percentage' ? '%' : 'TND'))])])],1)],1),_c('b-alert',{staticClass:\"mt-3\",attrs:{\"variant\":\"info\",\"show\":\"\"}},[_c('div',{staticClass:\"d-flex justify-content-between mb-1\"},[_c('span',[_vm._v(\"Original Total:\")]),_c('strong',[_vm._v(_vm._s(_vm.formatTunCurrency(_vm.getOriginalLineTotal())))])]),_c('div',{staticClass:\"d-flex justify-content-between mb-1\"},[_c('span',[_vm._v(\"Discount:\")]),_c('strong',{staticClass:\"text-danger\"},[_vm._v(\"-\"+_vm._s(_vm.formatTunCurrency(_vm.getCalculatedDiscount())))])]),_c('hr',{staticClass:\"my-2\"}),_c('div',{staticClass:\"d-flex justify-content-between\"},[_c('span',[_c('strong',[_vm._v(\"New Line Total:\")])]),_c('strong',{staticClass:\"text-success\"},[_vm._v(_vm._s(_vm.formatTunCurrency(_vm.getNewLineTotal())))])])])],1):_vm._e()])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"pos-container\">\r\n    <b-row class=\"pos-content\">\r\n      <!-- Items Grid -->\r\n      <b-col cols=\"12\" md=\"8\" lg=\"9\" class=\"items-column\">\r\n        <div class=\"items-section\" :class=\"{ 'compact-mode': compactMode }\">\r\n          <div class=\"items-header\">\r\n            <div class=\"input-row\">\r\n              <!-- Barcode Scanner Input -->\r\n              <div class=\"input-col barcode-col\">\r\n                <b-input-group>\r\n                  <b-input-group-prepend>\r\n                    <span class=\"input-group-text\">\r\n                      <feather-icon icon=\"HashIcon\" size=\"16\" />\r\n                    </span>\r\n                  </b-input-group-prepend>\r\n                  <b-form-input v-model=\"barcodeInput\" placeholder=\"Scan barcode (or type and press Enter)...\"\r\n                    @keyup.enter=\"handleBarcodeScan\" @input=\"onBarcodeInput\" ref=\"barcodeInput\"\r\n                    class=\"barcode-scanner-input\" :disabled=\"barcodeScanning\" autofocus\r\n                    @focus=\"setActiveInput('barcode')\" />\r\n                  <b-input-group-append>\r\n                    <b-button variant=\"primary\" @click=\"handleBarcodeScan\"\r\n                      :disabled=\"barcodeScanning || !barcodeInput.trim()\">\r\n                      <b-spinner v-if=\"barcodeScanning\" small class=\"mr-1\" />\r\n                      <feather-icon v-else icon=\"SearchIcon\" />\r\n                    </b-button>\r\n                  </b-input-group-append>\r\n                </b-input-group>\r\n              </div>\r\n\r\n              <!-- Regular Search Input -->\r\n              <div class=\"input-col search-col\">\r\n                <b-input-group>\r\n                  <b-input-group-prepend>\r\n                    <span class=\"input-group-text\">\r\n                      <feather-icon icon=\"SearchIcon\" size=\"16\" />\r\n                    </span>\r\n                  </b-input-group-prepend>\r\n                  <b-form-input v-model=\"searchQuery\" :placeholder=\"searchPlaceholder\" @input=\"handleSearchInput\"\r\n                    @focus=\"setActiveInput('search')\" />\r\n                  <b-input-group-append>\r\n                    <b-button variant=\"outline-secondary\" @click=\"clearSearch\" :disabled=\"!searchQuery.trim()\">\r\n                      <feather-icon icon=\"XIcon\" />\r\n                    </b-button>\r\n                  </b-input-group-append>\r\n                </b-input-group>\r\n              </div>\r\n            </div>\r\n\r\n            <div class=\"hierarchy-controls\">\r\n              <div class=\"hierarchy-group\">\r\n                <b-button v-if=\"canNavigateBack\" size=\"sm\" variant=\"outline-secondary\" @click=\"navigateBack\">\r\n                  <feather-icon icon=\"ArrowLeftIcon\" size=\"14\" class=\"mr-50\" />\r\n                  Back\r\n                </b-button>\r\n                <div class=\"breadcrumb-trail\">\r\n                  <span class=\"breadcrumb-chip\" :class=\"{ active: isFamiliesView }\" @click=\"resetToFamilies\">\r\n                    <feather-icon icon=\"LayersIcon\" size=\"14\" class=\"mr-25\" />\r\n                    Families\r\n                  </span>\r\n                  <template v-if=\"selectedFamily\">\r\n                    <span class=\"breadcrumb-separator\">\r\n                      <feather-icon icon=\"ChevronRightIcon\" size=\"14\" />\r\n                    </span>\r\n                    <span class=\"breadcrumb-chip\" :class=\"{ active: isSubFamiliesView && !selectedSubFamily }\"\r\n                      @click=\"returnToSelectedFamily\">\r\n                      <feather-icon icon=\"GridIcon\" size=\"14\" class=\"mr-25\" />\r\n                      {{ selectedFamily.name }}\r\n                    </span>\r\n                  </template>\r\n                  <template v-if=\"selectedSubFamily\">\r\n                    <span class=\"breadcrumb-separator\">\r\n                      <feather-icon icon=\"ChevronRightIcon\" size=\"14\" />\r\n                    </span>\r\n                    <span class=\"breadcrumb-chip active\">\r\n                      <feather-icon icon=\"PackageIcon\" size=\"14\" class=\"mr-25\" />\r\n                      {{ selectedSubFamily.name }}\r\n                    </span>\r\n                  </template>\r\n                </div>\r\n              </div>\r\n              <b-button size=\"sm\" :variant=\"compactMode ? 'outline-primary' : 'primary'\" class=\"compact-toggle\"\r\n                @click=\"toggleCompactMode\">\r\n                <feather-icon :icon=\"compactMode ? 'MaximizeIcon' : 'MinimizeIcon'\" size=\"14\" class=\"mr-50\" />\r\n                {{ compactMode ? 'Comfort view' : 'Compact view' }}\r\n              </b-button>\r\n            </div>\r\n          </div>\r\n\r\n          <div class=\"items-body\">\r\n            <div class=\"items-grid-wrapper\">\r\n              <div v-if=\"gridLoading\" class=\"grid-status\">\r\n                <b-spinner class=\"mb-1\" />\r\n                <p class=\"mb-0\">Loading {{ currentLevelLabel.toLowerCase() }}...</p>\r\n              </div>\r\n              <div v-else-if=\"filteredGridItems.length === 0\" class=\"grid-status empty-state\">\r\n                <feather-icon :icon=\"gridStatusIcon\" size=\"48\" class=\"text-muted mb-1\" />\r\n                <p class=\"mb-0\">No {{ currentLevelLabel.toLowerCase() }} found</p>\r\n                <small class=\"text-muted\">Try a different selection or clear the search</small>\r\n              </div>\r\n              <div v-else class=\"items-grid\">\r\n                <div v-for=\"entry in filteredGridItems\" :key=\"entry.id\" class=\"item-card\"\r\n                  :class=\"{ 'category-card': !isItemsView }\" @click=\"onGridEntryClick(entry)\">\r\n                  <template v-if=\"isItemsView\">\r\n                    <div class=\"item-image\">\r\n                      <feather-icon icon=\"PackageIcon\" size=\"34\" />\r\n                    </div>\r\n                    <div class=\"item-details\">\r\n                      <h5>{{ entry.name }}</h5>\r\n                      <p class=\"item-code\">{{ entry.itemCode }}</p>\r\n                      <p class=\"item-price\">{{ formatTunCurrency(getUnitPriceWithVat(entry)) }} TTC</p>\r\n                      <p v-if=\"entry.stockQuantity !== null\" class=\"item-stock\"\r\n                        :class=\"getStockClass(entry.stockQuantity)\">\r\n                        <feather-icon :icon=\"getStockIcon(entry.stockQuantity)\" size=\"12\" class=\"mr-25\" />\r\n                        Stock: {{ entry.stockQuantity }}\r\n                      </p>\r\n                    </div>\r\n                  </template>\r\n                  <template v-else>\r\n                    <div class=\"category-card-content\">\r\n                      <div class=\"category-icon\">\r\n                        <feather-icon :icon=\"isFamiliesView ? 'LayersIcon' : 'GridIcon'\" size=\"26\" />\r\n                      </div>\r\n                      <div class=\"category-title clamp-2\">{{ entry.name }}</div>\r\n                    </div>\r\n                  </template>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div class=\"actions-panel inline-panel\">\r\n          <div class=\"actions-grid\">\r\n            <b-button variant=\"primary\" block class=\"action-btn\" @click=\"proceedToPayment\"\r\n              :disabled=\"cart.length === 0\">\r\n              <feather-icon icon=\"CreditCardIcon\" size=\"16\" class=\"mr-50\" />\r\n              Payment\r\n            </b-button>\r\n            <b-button variant=\"outline-primary\" block class=\"action-btn\" @click=\"goToCustomerManagement\">\r\n              <feather-icon icon=\"UsersIcon\" size=\"16\" class=\"mr-50\" />\r\n              Customers\r\n            </b-button>\r\n            <b-button variant=\"outline-success\" block class=\"action-btn\" @click=\"goToReturn\">\r\n              <feather-icon icon=\"RotateCcwIcon\" size=\"16\" class=\"mr-50\" />\r\n              Return Products\r\n            </b-button>\r\n            <b-button variant=\"outline-warning\" block class=\"action-btn\" @click=\"openPendingTicketsModal\">\r\n              <feather-icon icon=\"ClockIcon\" size=\"16\" class=\"mr-50\" />\r\n              Pending Tickets\r\n              <b-badge v-if=\"pendingTicketsCount > 0\" variant=\"warning\" class=\"ml-50\">\r\n                {{ pendingTicketsCount }}\r\n              </b-badge>\r\n            </b-button>\r\n            <b-button variant=\"outline-secondary\" block class=\"action-btn\" disabled>\r\n              <feather-icon icon=\"ListIcon\" size=\"16\" class=\"mr-50\" />\r\n              Tickets List (soon)\r\n            </b-button>\r\n            <b-button variant=\"outline-danger\" block class=\"action-btn\" @click=\"showCloseSessionModal = true\">\r\n              <feather-icon icon=\"PowerIcon\" size=\"16\" class=\"mr-50\" />\r\n              Close Session\r\n            </b-button>\r\n          </div>\r\n        </div>\r\n      </b-col>\r\n\r\n      <!-- Cart Section -->\r\n      <b-col cols=\"12\" md=\"4\" lg=\"3\" class=\"cart-section\">\r\n        <div class=\"cart-items\" ref=\"cartList\" :class=\"{ 'cart-items--scrolled': cartScrollShadow }\">\r\n          <div v-if=\"cart.length === 0\" class=\"empty-cart\">\r\n            <feather-icon icon=\"ShoppingBagIcon\" size=\"36\" class=\"mb-1 text-muted\" />\r\n            <p class=\"mb-25\">Cart is empty</p>\r\n            <small class=\"text-muted d-block mb-1\">Scan a barcode or tap a product to add it.</small>\r\n            <b-button v-if=\"pendingTicketsCount > 0\" size=\"sm\" variant=\"outline-primary\"\r\n              @click=\"openPendingTicketsModal\">\r\n              View Pending Tickets ({{ pendingTicketsCount }})\r\n            </b-button>\r\n          </div>\r\n          <div v-for=\"(cartItem, index) in cart\" :key=\"index\" class=\"cart-item\"\r\n            :class=\"{ highlighted: highlightedItemId === cartItem.id }\">\r\n            <div class=\"cart-item-header\">\r\n              <div class=\"cart-item-title\">\r\n                <h6>{{ cartItem.name }}</h6>\r\n              </div>\r\n              <div class=\"cart-item-total\">\r\n                <div v-if=\"cartItem.discountPercentage || cartItem.discountAmount\" class=\"discounted-total\">\r\n                  <span class=\"original-amount\">{{ formatTunCurrency(getLineTotalWithVat(cartItem, false)) }}</span>\r\n                  <span class=\"total-amount\">{{ formatTunCurrency(getLineTotalWithVat(cartItem, true)) }}</span>\r\n                </div>\r\n                <span v-else class=\"total-amount\">{{ formatTunCurrency(getLineTotalWithVat(cartItem, true)) }}</span>\r\n              </div>\r\n            </div>\r\n            <div class=\"cart-item-breakdown\">\r\n              <div class=\"breakdown-row\">\r\n                <span class=\"breakdown-label\">Unit Price:</span>\r\n                <span class=\"breakdown-value\">{{ formatShortTun(cartItem.unitPrice) }} HT</span>\r\n                <span class=\"breakdown-value secondary\">{{ formatVatPercentage(cartItem) }}% VAT</span>\r\n                <span class=\"breakdown-value primary\">{{ formatShortTun(getUnitPriceWithVat(cartItem)) }} TTC</span>\r\n              </div>\r\n              <div v-if=\"cartItem.discountPercentage || cartItem.discountAmount\" class=\"breakdown-row discount-row\">\r\n                <feather-icon icon=\"PercentIcon\" size=\"14\" class=\"breakdown-icon\" />\r\n                <span class=\"breakdown-label\">Discount:</span>\r\n                <span class=\"breakdown-value discount\">\r\n                  {{ cartItem.discountPercentage ? formatDiscountPercentage(cartItem.discountPercentage) + '%' :\r\n                    formatShortTun(cartItem.discountAmount) }}\r\n                </span>\r\n              </div>\r\n            </div>\r\n            <div class=\"cart-item-controls\">\r\n              <div class=\"quantity-controls\">\r\n                <b-button variant=\"outline-primary\" size=\"sm\" class=\"qty-btn\" @click=\"decreaseQuantity(index)\">\r\n                  -\r\n                </b-button>\r\n                <span class=\"quantity\">{{ cartItem.quantity }}</span>\r\n                <b-button variant=\"outline-primary\" size=\"sm\" class=\"qty-btn\" @click=\"increaseQuantity(index)\">\r\n                  +\r\n                </b-button>\r\n              </div>\r\n              <div class=\"action-buttons\">\r\n                <b-button variant=\"outline-info\" size=\"sm\" class=\"discount-btn\" @click=\"openLineDiscountModal(index)\"\r\n                  :title=\"cartItem.discountPercentage || cartItem.discountAmount ? 'Edit discount' : 'Add discount'\">\r\n                  <feather-icon icon=\"PercentIcon\" size=\"14\" />\r\n                  <span v-if=\"cartItem.discountPercentage || cartItem.discountAmount\" class=\"discount-badge\">\r\n                    {{ cartItem.discountPercentage ? formatDiscountPercentage(cartItem.discountPercentage) + '%' :\r\n                      formatShortTun(cartItem.discountAmount) }}\r\n                  </span>\r\n                </b-button>\r\n                <b-button variant=\"outline-danger\" size=\"sm\" class=\"remove-btn\" @click=\"removeFromCart(index)\">\r\n                  <feather-icon icon=\"Trash2Icon\" size=\"14\" />\r\n                </b-button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div class=\"cart-summary\">\r\n          <div class=\"cart-summary-header\">\r\n            <span class=\"cart-summary-title\">Cart {{ cartCount > 0 ? `(${cartCount})` : '' }}</span>\r\n            <b-button v-if=\"cart.length > 0\" variant=\"outline-secondary\" size=\"sm\" @click=\"clearCart\"\r\n              class=\"cart-clear-btn\">\r\n              Clear\r\n            </b-button>\r\n          </div>\r\n          <div class=\"summary-row\">\r\n            <span>Items:</span>\r\n            <span>{{ cart.length }} ({{ cartCount }} units)</span>\r\n          </div>\r\n          <div class=\"summary-row\">\r\n            <span>Subtotal:</span>\r\n            <span>{{ formatTunCurrency(subtotal) }}</span>\r\n          </div>\r\n          <div class=\"summary-row\">\r\n            <span>Tax:</span>\r\n            <span>{{ formatTunCurrency(taxAmount) }}</span>\r\n          </div>\r\n          <div v-if=\"headerDiscountAmount > 0\" class=\"summary-row discount-row\">\r\n            <span>Discount:</span>\r\n            <span class=\"text-danger\">-{{ formatTunCurrency(headerDiscountAmount) }}</span>\r\n          </div>\r\n          <div class=\"summary-row total\">\r\n            <span>Total:</span>\r\n            <span>{{ formatTunCurrency(totalAmount) }}</span>\r\n          </div>\r\n        </div>\r\n\r\n        <div class=\"keyboard-toggle\">\r\n          <b-button variant=\"outline-secondary\" block @click=\"toggleKeyboard\" class=\"keyboard-toggle-btn\"\r\n            :class=\"{ 'keyboard-active': showKeyboard }\">\r\n            <feather-icon :icon=\"showKeyboard ? 'ChevronDownIcon' : 'ChevronUpIcon'\" class=\"mr-50\" size=\"16\" />\r\n            {{ showKeyboard ? 'Hide Keyboard' : 'Show Keyboard' }}\r\n          </b-button>\r\n        </div>\r\n\r\n        <transition name=\"keyboard-fade\">\r\n          <div class=\"virtual-keyboard\" v-if=\"showKeyboard\">\r\n            <div class=\"keyboard-header\">\r\n              <strong>Numeric Keyboard</strong>\r\n              <b-button size=\"sm\" variant=\"outline-secondary\" @click=\"toggleKeyboard\" class=\"keyboard-close-btn\">\r\n                <feather-icon icon=\"XIcon\" size=\"14\" />\r\n              </b-button>\r\n            </div>\r\n            <div class=\"keyboard-grid\">\r\n              <button v-for=\"num in [1, 2, 3, 4, 5, 6, 7, 8, 9, '.', 0, '']\" :key=\"num\" class=\"keyboard-key\"\r\n                :class=\"{ 'key-decimal': num === '.', 'key-backspace': num === '' }\" @click=\"handleKeyboardPress(num)\"\r\n                type=\"button\">\r\n                {{ num }}\r\n              </button>\r\n            </div>\r\n            <div class=\"keyboard-actions\">\r\n              <button class=\"keyboard-action-btn\" @click=\"handleKeyboardPress('CLEAR')\" type=\"button\">\r\n                Clear\r\n              </button>\r\n              <button class=\"keyboard-action-btn\" @click=\"handleKeyboardPress('BACK')\" type=\"button\">\r\n                <feather-icon icon=\"DeleteIcon\" size=\"16\" />\r\n                Back\r\n              </button>\r\n              <button class=\"keyboard-action-btn keyboard-action-enter\" @click=\"handleKeyboardPress('ENTER')\"\r\n                type=\"button\">\r\n                <feather-icon icon=\"CheckIcon\" size=\"16\" />\r\n                Enter\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </transition>\r\n      </b-col>\r\n    </b-row>\r\n\r\n    <!-- Pending Tickets Modal -->\r\n    <b-modal id=\"pending-tickets-modal\" v-model=\"showPendingTicketsModal\" title=\"Pending Tickets\" size=\"xl\"\r\n      @show=\"loadPendingTickets\" @hide=\"resetPendingTickets\">\r\n      <div v-if=\"loadingPendingTickets\" class=\"text-center py-4\">\r\n        <b-spinner class=\"align-middle\"></b-spinner>\r\n        <p class=\"mt-2\">Loading pending tickets...</p>\r\n      </div>\r\n\r\n      <div v-else-if=\"pendingTickets.length === 0\" class=\"text-center py-4\">\r\n        <feather-icon icon=\"CheckCircleIcon\" size=\"48\" class=\"text-success mb-3\" />\r\n        <h5>No Pending Tickets</h5>\r\n        <p class=\"text-muted\">All tickets are completed</p>\r\n      </div>\r\n\r\n      <div v-else class=\"pending-tickets-list\">\r\n        <b-card v-for=\"ticket in pendingTickets\" :key=\"ticket.id\" class=\"mb-3 ticket-card\">\r\n          <div class=\"d-flex justify-content-between align-items-start mb-2\">\r\n            <div>\r\n              <h6 class=\"mb-1\">Ticket: {{ ticket.salesNumber }}</h6>\r\n              <small class=\"text-muted\">\r\n                Created: {{ formatDateTime(ticket.salesDate) }}\r\n              </small>\r\n            </div>\r\n            <b-badge variant=\"warning\">PENDING</b-badge>\r\n          </div>\r\n\r\n          <div class=\"ticket-items mb-2\">\r\n            <h6 class=\"small font-weight-bold mb-1\">Items:</h6>\r\n            <div v-for=\"(line, idx) in ticket.salesLines\" :key=\"idx\" class=\"ticket-item-line\">\r\n              <span>{{ line.item.name }}</span>\r\n              <span class=\"float-right\">\r\n                {{ line.quantity }} x TND {{ formatPrice(line.unitPrice) }} = TND {{ formatPrice(line.lineTotal) }}\r\n              </span>\r\n            </div>\r\n          </div>\r\n\r\n          <div class=\"ticket-summary\">\r\n            <div class=\"d-flex justify-content-between\">\r\n              <span>Subtotal:</span>\r\n              <span>TND {{ formatPrice(ticket.subtotal) }}</span>\r\n            </div>\r\n            <div class=\"d-flex justify-content-between\">\r\n              <span>Tax:</span>\r\n              <span>TND {{ formatPrice(ticket.taxAmount) }}</span>\r\n            </div>\r\n            <div class=\"d-flex justify-content-between font-weight-bold\">\r\n              <span>Total:</span>\r\n              <span>TND {{ formatPrice(ticket.totalAmount) }}</span>\r\n            </div>\r\n          </div>\r\n\r\n          <div class=\"mt-3 d-flex gap-2\">\r\n            <b-button variant=\"primary\" size=\"sm\" class=\"flex-grow-1\" @click=\"retrievePendingTicket(ticket)\">\r\n              <feather-icon icon=\"ArrowRightIcon\" size=\"14\" class=\"mr-1\" />\r\n              Continue\r\n            </b-button>\r\n            <b-button variant=\"danger\" size=\"sm\" @click=\"confirmDeletePendingTicket(ticket)\">\r\n              <feather-icon icon=\"TrashIcon\" size=\"14\" />\r\n            </b-button>\r\n          </div>\r\n        </b-card>\r\n      </div>\r\n    </b-modal>\r\n\r\n    <!-- Close Session Modal -->\r\n    <b-modal id=\"close-session-modal\" v-model=\"showCloseSessionModal\" title=\"Close Cashier Session\" size=\"xl\"\r\n      @ok=\"closeSession\" @cancel=\"resetCloseSessionForm\" @hide=\"resetCloseSessionForm\" @shown=\"onCloseSessionModalShown\"\r\n      :ok-disabled=\"!canCloseSession\" ok-variant=\"danger\">\r\n      <div class=\"cash-count-section\">\r\n        <div class=\"d-flex justify-content-between align-items-center mb-4\">\r\n          <div>\r\n            <h5 class=\"mb-1\">Payment Count Details</h5>\r\n            <p class=\"text-muted small mb-0\">Count and record all payment methods for this session</p>\r\n          </div>\r\n          <b-button variant=\"primary\" size=\"sm\" @click=\"addCashCountLine\" class=\"shadow-sm\">\r\n            <feather-icon icon=\"PlusIcon\" size=\"14\" class=\"mr-50\" />\r\n            Add Line\r\n          </b-button>\r\n        </div>\r\n\r\n        <!-- Payment Count Lines Table -->\r\n        <div class=\"cash-count-table-container\">\r\n          <b-table v-if=\"closeSessionData.cashCountLines.length > 0\" :items=\"closeSessionData.cashCountLines\"\r\n            :fields=\"cashCountFields\" striped bordered small responsive class=\"mb-0\">\r\n            <template #cell(denominationValue)=\"row\">\r\n              <b-input-group prepend=\"TND\" size=\"sm\">\r\n                <b-form-input v-model.number=\"row.item.denominationValue\" type=\"number\" step=\"0.01\" min=\"0\"\r\n                  @input=\"updateCashCountTotals\" size=\"sm\" placeholder=\"0.00\" />\r\n              </b-input-group>\r\n            </template>\r\n            <template #cell(quantity)=\"row\">\r\n              <b-form-input v-model.number=\"row.item.quantity\" type=\"number\" min=\"1\" @input=\"updateCashCountTotals\"\r\n                size=\"sm\" placeholder=\"0\" />\r\n            </template>\r\n            <template #cell(paymentMethod)=\"row\">\r\n              <b-form-select v-model=\"row.item.paymentMethodId\" :options=\"paymentMethodOptionsWithCash\" \r\n                value-field=\"id\" text-field=\"name\" size=\"sm\" @change=\"updateCashCountTotals\">\r\n              </b-form-select>\r\n            </template>\r\n            <template #cell(lineTotal)=\"row\">\r\n              <strong class=\"text-primary\">TND {{ formatPrice(row.item.denominationValue * row.item.quantity) }}</strong>\r\n            </template>\r\n            <template #cell(actions)=\"row\">\r\n              <b-button variant=\"link\" size=\"sm\" @click=\"removeCashCountLine(row.index)\" \r\n                class=\"text-danger p-0\" v-b-tooltip.hover title=\"Remove line\">\r\n                <feather-icon icon=\"XIcon\" size=\"16\" />\r\n              </b-button>\r\n            </template>\r\n          </b-table>\r\n\r\n          <div v-else class=\"text-center text-muted py-5\">\r\n            <feather-icon icon=\"FileTextIcon\" size=\"48\" class=\"mb-2 text-muted\" />\r\n            <p class=\"mb-1\">No payment count lines added yet</p>\r\n            <p class=\"small mb-0\">Click \"Add Line\" to start counting payments</p>\r\n          </div>\r\n        </div>\r\n\r\n        <!-- Total Summary -->\r\n        <div v-if=\"closeSessionData.cashCountLines.length > 0\" class=\"cash-count-total mt-4\">\r\n          <b-card class=\"border-primary\">\r\n            <div class=\"d-flex justify-content-between align-items-center\">\r\n              <div>\r\n                <strong class=\"text-muted d-block mb-1\" style=\"font-size: 0.9rem;\">Total Counted</strong>\r\n                <strong class=\"text-primary\" style=\"font-size: 1.5rem;\">\r\n                  TND {{ formatPrice(calculatedTotalCash) }}\r\n                </strong>\r\n              </div>\r\n              <feather-icon icon=\"DollarSignIcon\" size=\"32\" class=\"text-primary\" />\r\n            </div>\r\n          </b-card>\r\n        </div>\r\n\r\n        <b-form-group label=\"Notes (optional)\" label-for=\"close-notes\" class=\"mt-4\">\r\n          <b-form-textarea id=\"close-notes\" v-model=\"closeSessionData.notes\"\r\n            placeholder=\"Enter any notes about the payment count...\" rows=\"3\" />\r\n        </b-form-group>\r\n      </div>\r\n      <template #modal-ok>\r\n        <feather-icon icon=\"PowerIcon\" size=\"16\" class=\"mr-50\" />\r\n        Close Session\r\n      </template>\r\n    </b-modal>\r\n\r\n    <!-- Discount Modal -->\r\n    <b-modal id=\"discount-modal\" v-model=\"showDiscountModal\" title=\"Apply Discount\" size=\"md\" @ok=\"applyLineDiscount\"\r\n      @hide=\"resetDiscountForm\" :ok-disabled=\"!canApplyDiscount\">\r\n      <div v-if=\"discountModalItemIndex !== null\">\r\n        <div class=\"mb-3\" v-if=\"getDiscountModalItem()\">\r\n          <strong>{{ getDiscountModalItem().name }}</strong>\r\n          <div class=\"text-muted small\">Original Line Total: {{ formatTunCurrency(getOriginalLineTotal()) }}</div>\r\n        </div>\r\n\r\n        <!-- Discount Type Toggle -->\r\n        <b-form-group label=\"Discount Type\">\r\n          <b-form-radio-group v-model=\"discountType\" :options=\"[\r\n            { text: 'Percentage (%)', value: 'percentage' },\r\n            { text: 'Amount (TND)', value: 'amount' }\r\n          ]\" />\r\n        </b-form-group>\r\n\r\n        <!-- Discount Input -->\r\n        <b-form-group :label=\"discountType === 'percentage' ? 'Discount Percentage' : 'Discount Amount'\">\r\n          <b-input-group>\r\n            <b-form-input v-model.number=\"discountValue\" type=\"number\" step=\"0.01\" :min=\"0\"\r\n              :max=\"discountType === 'percentage' ? 100 : getOriginalLineTotal()\"\r\n              :placeholder=\"discountType === 'percentage' ? '0.00' : '0.00'\" />\r\n            <b-input-group-append>\r\n              <span class=\"input-group-text\">{{ discountType === 'percentage' ? '%' : 'TND' }}</span>\r\n            </b-input-group-append>\r\n          </b-input-group>\r\n        </b-form-group>\r\n\r\n        <!-- Preview -->\r\n        <b-alert variant=\"info\" show class=\"mt-3\">\r\n          <div class=\"d-flex justify-content-between mb-1\">\r\n            <span>Original Total:</span>\r\n            <strong>{{ formatTunCurrency(getOriginalLineTotal()) }}</strong>\r\n          </div>\r\n          <div class=\"d-flex justify-content-between mb-1\">\r\n            <span>Discount:</span>\r\n            <strong class=\"text-danger\">-{{ formatTunCurrency(getCalculatedDiscount()) }}</strong>\r\n          </div>\r\n          <hr class=\"my-2\" />\r\n          <div class=\"d-flex justify-content-between\">\r\n            <span><strong>New Line Total:</strong></span>\r\n            <strong class=\"text-success\">{{ formatTunCurrency(getNewLineTotal()) }}</strong>\r\n          </div>\r\n        </b-alert>\r\n      </div>\r\n      <template #modal-ok>\r\n        Apply Discount\r\n      </template>\r\n      <template #modal-cancel>\r\n        Cancel\r\n      </template>\r\n    </b-modal>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport useJwt from '@/auth/jwt/useJwt'\r\nimport ToastificationContent from '@core/components/toastification/ToastificationContent.vue'\r\n\r\nexport default {\r\n  name: 'ItemSelection',\r\n  data() {\r\n    return {\r\n      families: [],\r\n      subFamilies: [],\r\n      items: [],\r\n      searchQuery: '',\r\n      barcodeInput: '',\r\n      barcodeScanning: false,\r\n      itemsWithBarcodes: [], // Cache of items with their barcodes\r\n      currentView: 'families',\r\n      selectedFamily: null,\r\n      selectedSubFamily: null,\r\n      gridLoading: false,\r\n      subFamilyCache: {},\r\n      itemCache: {},\r\n      showCloseSessionModal: false,\r\n      showPendingTicketsModal: false,\r\n      showDiscountModal: false,\r\n      discountModalItemIndex: null,\r\n      discountType: 'percentage', // 'percentage' or 'amount'\r\n      discountValue: null,\r\n      pendingTickets: [],\r\n      loadingPendingTickets: false,\r\n      pendingTicketsCount: 0,\r\n      pendingTicketsInterval: null,\r\n      ticketToDelete: null,\r\n      closeSessionData: {\r\n        notes: '',\r\n        cashCountLines: []\r\n      },\r\n      keyboardLayout: [\r\n        ['7', '8', '9'],\r\n        ['4', '5', '6'],\r\n        ['1', '2', '3'],\r\n        ['0', '00', '.'],\r\n        ['CLEAR', 'BACK', 'ENTER'],\r\n      ],\r\n      activeInput: 'barcode',\r\n      showKeyboard: false,\r\n      loadingSession: false,\r\n      highlightedItemId: null,\r\n      highlightTimer: null,\r\n      cartScrollShadow: false,\r\n      compactMode: false,\r\n      paymentMethods: [],\r\n      cashCountFields: [\r\n        { key: 'denominationValue', label: 'Value', sortable: false, thClass: 'text-nowrap' },\r\n        { key: 'quantity', label: 'Quantity', sortable: false, thClass: 'text-nowrap' },\r\n        { key: 'paymentMethod', label: 'Payment Method', sortable: false, thClass: 'text-nowrap' },\r\n        { key: 'lineTotal', label: 'Line Total', sortable: false, thClass: 'text-nowrap text-right', tdClass: 'text-right' },\r\n        { key: 'actions', label: '', sortable: false, thClass: 'text-center', tdClass: 'text-center' }\r\n      ]\r\n    }\r\n  },\r\n  computed: {\r\n    isFamiliesView() {\r\n      return this.currentView === 'families'\r\n    },\r\n    isSubFamiliesView() {\r\n      return this.currentView === 'subFamilies'\r\n    },\r\n    isItemsView() {\r\n      return this.currentView === 'items'\r\n    },\r\n    canNavigateBack() {\r\n      return !this.isFamiliesView\r\n    },\r\n    currentGridItems() {\r\n      if (this.isItemsView) {\r\n        return this.items\r\n      }\r\n      if (this.isSubFamiliesView) {\r\n        return this.subFamilies\r\n      }\r\n      return this.families\r\n    },\r\n    filteredGridItems() {\r\n      const collection = this.currentGridItems || []\r\n      if (!this.searchQuery) {\r\n        return collection\r\n      }\r\n      const query = this.searchQuery.toLowerCase()\r\n      if (this.isItemsView) {\r\n        return collection.filter(item => {\r\n          const matchesItem = (item.name && item.name.toLowerCase().includes(query)) ||\r\n            (item.itemCode && item.itemCode.toLowerCase().includes(query)) ||\r\n            (item.barcode && item.barcode.toLowerCase().includes(query))\r\n\r\n          const itemWithBarcodes = this.itemsWithBarcodes.find(iwb => iwb.item.id === item.id)\r\n          if (itemWithBarcodes && itemWithBarcodes.barcodes) {\r\n            const matchesBarcode = itemWithBarcodes.barcodes.some(barcode =>\r\n              barcode.barcode && barcode.barcode.toLowerCase().includes(query)\r\n            )\r\n            return matchesItem || matchesBarcode\r\n          }\r\n          return matchesItem\r\n        })\r\n      }\r\n      return collection.filter(entry => {\r\n        return (entry.name && entry.name.toLowerCase().includes(query)) ||\r\n          (entry.code && entry.code.toLowerCase().includes(query)) ||\r\n          (entry.description && entry.description.toLowerCase().includes(query))\r\n      })\r\n    },\r\n    currentLevelLabel() {\r\n      if (this.isItemsView) {\r\n        return 'Products'\r\n      }\r\n      if (this.isSubFamiliesView) {\r\n        return 'Sub families'\r\n      }\r\n      return 'Families'\r\n    },\r\n    searchPlaceholder() {\r\n      if (this.isItemsView) {\r\n        return 'Search products by name or code...'\r\n      }\r\n      if (this.isSubFamiliesView) {\r\n        return 'Search sub families...'\r\n      }\r\n      return 'Search families...'\r\n    },\r\n    gridStatusIcon() {\r\n      if (this.isItemsView) {\r\n        return 'PackageIcon'\r\n      }\r\n      if (this.isSubFamiliesView) {\r\n        return 'GridIcon'\r\n      }\r\n      return 'LayersIcon'\r\n    },\r\n    cart() {\r\n      // Always use store as source of truth\r\n      return this.$store.state.pos.cart || []\r\n    },\r\n    cartCount() {\r\n      return this.cart.reduce((sum, item) => sum + (item.quantity || 0), 0)\r\n    },\r\n    subtotal() {\r\n      // Subtotal is the sum of all line totals excluding VAT, after discount\r\n      return this.cart.reduce((sum, item) => {\r\n        const lineTotal = item.unitPrice * item.quantity\r\n        // If discount is a percentage, calculate discount amount from line total excluding VAT\r\n        let discount = 0\r\n        if (item.discountPercentage) {\r\n          discount = lineTotal * (item.discountPercentage / 100)\r\n        } else if (item.discountAmount) {\r\n          // If discount is an amount, need to calculate what portion applies to excluding VAT\r\n          // The discountAmount stored is for the total including VAT, so we need to convert it\r\n          const vat = this.getVatPercent(item)\r\n          // Calculate the excluding VAT portion of the discount\r\n          discount = item.discountAmount / (1 + (vat / 100))\r\n        }\r\n        return sum + (lineTotal - discount)\r\n      }, 0)\r\n    },\r\n    taxAmount() {\r\n      // Tax is calculated on the discounted amount excluding VAT\r\n      return this.cart.reduce((sum, item) => {\r\n        const lineTotal = item.unitPrice * item.quantity\r\n        let discount = 0\r\n        if (item.discountPercentage) {\r\n          discount = lineTotal * (item.discountPercentage / 100)\r\n        } else if (item.discountAmount) {\r\n          const vat = this.getVatPercent(item)\r\n          discount = item.discountAmount / (1 + (vat / 100))\r\n        }\r\n        const discountedTotal = lineTotal - discount\r\n        const vat = this.getVatPercent(item)\r\n        return sum + (discountedTotal * (vat / 100))\r\n      }, 0)\r\n    },\r\n    totalAmount() {\r\n      // Total amount should be sum of all line totals including VAT, with discounts applied\r\n      return this.cart.reduce((sum, item) => {\r\n        return sum + this.getLineTotalWithVat(item, true)\r\n      }, 0)\r\n    },\r\n    headerDiscountAmount() {\r\n      const orderSummary = this.$store.state.pos?.orderSummary\r\n      if (!orderSummary) return 0\r\n      const total = this.totalAmount\r\n\r\n      if (orderSummary.discountPercent && orderSummary.discountPercent > 0) {\r\n        return total * (orderSummary.discountPercent / 100)\r\n      } else if (orderSummary.discountAmount && orderSummary.discountAmount > 0) {\r\n        return orderSummary.discountAmount\r\n      }\r\n      return 0\r\n    },\r\n    canApplyDiscount() {\r\n      if (this.discountModalItemIndex === null || this.discountValue === null || this.discountValue <= 0) {\r\n        return false\r\n      }\r\n      if (this.discountType === 'percentage' && this.discountValue > 100) {\r\n        return false\r\n      }\r\n      if (this.discountType === 'amount') {\r\n        const originalTotal = this.getOriginalLineTotal()\r\n        return this.discountValue <= originalTotal\r\n      }\r\n      return true\r\n    },\r\n    pendingTicketId() {\r\n      return this.$store.state.pos.pendingTicketId\r\n    },\r\n    currentSession() {\r\n      return this.$store.state.pos.currentSession\r\n    },\r\n    paymentMethodOptions() {\r\n      return this.paymentMethods.filter(pm => pm.active !== false)\r\n    },\r\n    paymentMethodOptionsWithCash() {\r\n      // Add Cash as first option (null value), then all active payment methods\r\n      const cashOption = { id: null, name: 'Cash' }\r\n      return [cashOption, ...this.paymentMethodOptions]\r\n    },\r\n    calculatedTotalCash() {\r\n      return this.closeSessionData.cashCountLines.reduce((total, line) => {\r\n        const value = parseFloat(line.denominationValue) || 0\r\n        const qty = parseInt(line.quantity) || 0\r\n        return total + (value * qty)\r\n      }, 0)\r\n    },\r\n    canCloseSession() {\r\n      // Can close if cash count lines are provided and all are valid\r\n      if (this.closeSessionData.cashCountLines.length > 0) {\r\n        // All lines must have valid denomination and quantity\r\n        // paymentMethodId can be null (Cash) or any valid payment method ID\r\n        return this.closeSessionData.cashCountLines.every(line => {\r\n          return line.denominationValue && line.denominationValue > 0 &&\r\n            line.quantity && line.quantity > 0\r\n        })\r\n      }\r\n      return false\r\n    }\r\n  },\r\n  mounted() {\r\n    document.body.classList.add('pos-no-scroll')\r\n    this.loadCurrentSession()\r\n    this.loadFamilies()\r\n    // this.loadItemsWithBarcodes()\r\n    // this.loadPaymentMethods()\r\n    this.loadPendingTicketsCount()\r\n\r\n    // Cart is now always loaded from store via computed property\r\n    // Focus on barcode input when component mounts\r\n    this.$nextTick(() => {\r\n      if (this.$refs.barcodeInput) {\r\n        this.$refs.barcodeInput.focus()\r\n      }\r\n    })\r\n\r\n    // Listen for close session modal event from navbar\r\n    this.$root.$on('open-close-session-modal', () => {\r\n      this.showCloseSessionModal = true\r\n    })\r\n\r\n    // Refresh pending count periodically\r\n    this.pendingTicketsInterval = setInterval(() => {\r\n      this.loadPendingTicketsCount()\r\n    }, 10000) // Check every 10 seconds\r\n\r\n    if (this.$refs.cartList) {\r\n      this.$refs.cartList.addEventListener('scroll', this.handleCartScroll, { passive: true })\r\n      this.$nextTick(() => {\r\n        this.handleCartScroll()\r\n      })\r\n    }\r\n  },\r\n  beforeDestroy() {\r\n    document.body.classList.remove('pos-no-scroll')\r\n    if (this.pendingTicketsInterval) {\r\n      clearInterval(this.pendingTicketsInterval)\r\n    }\r\n    this.$root.$off('open-close-session-modal')\r\n    if (this.$refs.cartList) {\r\n      this.$refs.cartList.removeEventListener('scroll', this.handleCartScroll)\r\n    }\r\n    if (this.highlightTimer) {\r\n      clearTimeout(this.highlightTimer)\r\n    }\r\n  },\r\n  methods: {\r\n    getStockClass(stock) {\r\n      if (stock === null || stock === undefined) return 'stock-unknown'\r\n      if (stock === 0) return 'stock-out'\r\n      if (stock < 10) return 'stock-low'\r\n      return 'stock-ok'\r\n    },\r\n    getStockIcon(stock) {\r\n      if (stock === null || stock === undefined) return 'HelpCircleIcon'\r\n      if (stock === 0) return 'XCircleIcon'\r\n      if (stock < 10) return 'AlertTriangleIcon'\r\n      return 'CheckCircleIcon'\r\n    },\r\n    toggleCompactMode() {\r\n      this.compactMode = !this.compactMode\r\n    },\r\n    getVatPercent(item) {\r\n      if (!item) return 0\r\n      const vat = item.defaultVAT\r\n      return parseFloat(vat) || 0\r\n    },\r\n    getUnitVatAmount(item) {\r\n      const price = parseFloat(item.unitPrice) || 0\r\n      const vat = this.getVatPercent(item)\r\n      return price * (vat / 100)\r\n    },\r\n    formatShortTun(value) {\r\n      const amount = parseFloat(value) || 0\r\n      return amount.toLocaleString('en-US', { minimumFractionDigits: 2, maximumFractionDigits: 2 })\r\n    },\r\n    formatVatPercentage(item) {\r\n      const vat = this.getVatPercent(item)\r\n      if (!vat) return 0\r\n      return Number.isInteger(vat) ? vat : vat.toFixed(2)\r\n    },\r\n    formatDiscountPercentage(value) {\r\n      if (!value && value !== 0) return '0'\r\n      const num = parseFloat(value) || 0\r\n      return num.toFixed(3)\r\n    },\r\n    getUnitPriceWithVat(item) {\r\n      const price = parseFloat(item.unitPrice) || 0\r\n      const vat = this.getVatPercent(item)\r\n      return price * (1 + (vat / 100))\r\n    },\r\n    getLineVatAmount(item) {\r\n      const price = parseFloat(item.unitPrice) || 0\r\n      const vat = this.getVatPercent(item)\r\n      const quantity = item.quantity || 0\r\n      return price * (vat / 100) * quantity\r\n    },\r\n    getLineTotalWithVat(item, applyDiscount = true) {\r\n      const quantity = item.quantity || 0\r\n      const lineTotalWithVat = this.getUnitPriceWithVat(item) * quantity\r\n\r\n      if (applyDiscount && (item.discountPercentage || item.discountAmount)) {\r\n        let discountAmount = 0\r\n        if (item.discountAmount) {\r\n          discountAmount = item.discountAmount\r\n        } else if (item.discountPercentage) {\r\n          discountAmount = lineTotalWithVat * (item.discountPercentage / 100)\r\n        }\r\n        return Math.max(0, lineTotalWithVat - discountAmount)\r\n      }\r\n\r\n      return lineTotalWithVat\r\n    },\r\n    async loadFamilies() {\r\n      this.gridLoading = true\r\n      try {\r\n        const response = await this.$http.get('/item-family')\r\n        const payload = Array.isArray(response.data) ? response.data : []\r\n        this.families = payload\r\n          .filter(family => family.active !== false)\r\n          .sort((a, b) => (a.name || '').localeCompare(b.name || '', undefined, { sensitivity: 'base' }))\r\n          .sort((a, b) => {\r\n            const orderA = typeof a.displayOrder === 'number' ? a.displayOrder : Number.MAX_SAFE_INTEGER\r\n            const orderB = typeof b.displayOrder === 'number' ? b.displayOrder : Number.MAX_SAFE_INTEGER\r\n            return orderA - orderB\r\n          })\r\n      } catch (error) {\r\n        console.error('Error loading item families:', error)\r\n        this.$toast({\r\n          component: ToastificationContent,\r\n          props: {\r\n            title: 'Error',\r\n            icon: 'XIcon',\r\n            text: 'Failed to load item families',\r\n            variant: 'danger'\r\n          }\r\n        })\r\n      } finally {\r\n        this.gridLoading = false\r\n      }\r\n    },\r\n    async loadSubFamilies(family) {\r\n      if (!family) return\r\n      if (this.subFamilyCache[family.id]) {\r\n        this.subFamilies = this.subFamilyCache[family.id]\r\n        return\r\n      }\r\n      this.gridLoading = true\r\n      try {\r\n        const response = await this.$http.get(`/item-sub-family/by-family/${family.id}`)\r\n        const payload = Array.isArray(response.data) ? response.data : []\r\n        const list = payload\r\n          .filter(subFamily => subFamily.active !== false)\r\n          .sort((a, b) => (a.name || '').localeCompare(b.name || '', undefined, { sensitivity: 'base' }))\r\n        this.subFamilyCache[family.id] = list\r\n        this.subFamilies = list\r\n      } catch (error) {\r\n        console.error('Error loading sub families:', error)\r\n        this.$toast({\r\n          component: ToastificationContent,\r\n          props: {\r\n            title: 'Error',\r\n            icon: 'XIcon',\r\n            text: 'Failed to load sub families',\r\n            variant: 'danger'\r\n          }\r\n        })\r\n      } finally {\r\n        this.gridLoading = false\r\n      }\r\n    },\r\n    async loadItemsBySubFamily(subFamily) {\r\n      if (!subFamily) return\r\n      if (this.itemCache[subFamily.id]) {\r\n        this.items = this.itemCache[subFamily.id]\r\n        return\r\n      }\r\n      this.gridLoading = true\r\n      try {\r\n        const response = await this.$http.get(`/item/by-sub-family/${subFamily.id}`);\r\n        const payload = Array.isArray(response.data) ? response.data : []\r\n        const list = payload.filter(item => item.active !== false)\r\n        this.itemCache[subFamily.id] = list\r\n        this.items = list\r\n      } catch (error) {\r\n        console.error('Error loading items by sub family:', error)\r\n        this.$toast({\r\n          component: ToastificationContent,\r\n          props: {\r\n            title: 'Error',\r\n            icon: 'XIcon',\r\n            text: 'Failed to load products for this sub family',\r\n            variant: 'danger'\r\n          }\r\n        })\r\n      } finally {\r\n        this.gridLoading = false\r\n      }\r\n    },\r\n    async selectFamily(family) {\r\n      if (!family) return\r\n      this.selectedFamily = family\r\n      this.selectedSubFamily = null\r\n      this.currentView = 'subFamilies'\r\n      this.searchQuery = ''\r\n      await this.loadSubFamilies(family)\r\n    },\r\n    async selectSubFamily(subFamily) {\r\n      if (!subFamily) return\r\n      this.selectedSubFamily = subFamily\r\n      this.currentView = 'items'\r\n      this.searchQuery = ''\r\n      await this.loadItemsBySubFamily(subFamily)\r\n    },\r\n    resetToFamilies() {\r\n      this.currentView = 'families'\r\n      this.selectedFamily = null\r\n      this.selectedSubFamily = null\r\n      this.subFamilies = []\r\n      this.items = []\r\n      this.searchQuery = ''\r\n    },\r\n    async returnToSelectedFamily() {\r\n      if (!this.selectedFamily) return\r\n      this.currentView = 'subFamilies'\r\n      this.selectedSubFamily = null\r\n      this.items = []\r\n      this.searchQuery = ''\r\n      if (this.subFamilyCache[this.selectedFamily.id]) {\r\n        this.subFamilies = this.subFamilyCache[this.selectedFamily.id]\r\n      } else {\r\n        await this.loadSubFamilies(this.selectedFamily)\r\n      }\r\n    },\r\n    async navigateBack() {\r\n      if (this.isItemsView) {\r\n        await this.returnToSelectedFamily()\r\n      } else if (this.isSubFamiliesView) {\r\n        this.resetToFamilies()\r\n      }\r\n    },\r\n    onGridEntryClick(entry) {\r\n      if (this.isItemsView) {\r\n        this.addToCart(entry)\r\n      } else if (this.isSubFamiliesView) {\r\n        this.selectSubFamily(entry)\r\n      } else {\r\n        this.selectFamily(entry)\r\n      }\r\n    },\r\n    handleSearchInput() {\r\n      // Filtering handled reactively via computed property\r\n    },\r\n    async loadItemsWithBarcodes() {\r\n      try {\r\n        // Load items with their barcodes for faster lookup\r\n        const response = await this.$http.get('/item-barcode/items-with-barcodes', {\r\n          params: {\r\n            page: 0,\r\n            size: 5000,\r\n            filterType: 'withBarcodes',\r\n          },\r\n        })\r\n        const payload = response.data\r\n        if (payload && Array.isArray(payload.content)) {\r\n          this.itemsWithBarcodes = payload.content\r\n        } else {\r\n          this.itemsWithBarcodes = payload || []\r\n        }\r\n      } catch (error) {\r\n        console.error('Error loading items with barcodes:', error)\r\n        // Don't show error toast as this is optional optimization\r\n      }\r\n    },\r\n    onBarcodeInput() {\r\n      // Clear search query when barcode input changes to avoid conflicts\r\n      if (this.barcodeInput) {\r\n        this.searchQuery = ''\r\n      }\r\n    },\r\n    setActiveInput(field) {\r\n      this.activeInput = field\r\n    },\r\n    handleKeyboardPress(key) {\r\n      if (!this.activeInput) {\r\n        return\r\n      }\r\n      const targetField = this.activeInput === 'barcode' ? 'barcodeInput' : 'searchQuery'\r\n      const currentValue = this[targetField] || ''\r\n\r\n      if (key === 'BACK' || key === '') {\r\n        // Backspace - remove last character\r\n        this[targetField] = currentValue.slice(0, -1)\r\n      } else if (key === 'CLEAR') {\r\n        // Clear - empty the field\r\n        this[targetField] = ''\r\n      } else if (key === 'SPACE') {\r\n        // Space - add space\r\n        this[targetField] = `${currentValue} `\r\n      } else if (key === 'ENTER') {\r\n        // Enter - submit\r\n        if (targetField === 'barcodeInput') {\r\n          this.handleBarcodeScan()\r\n        } else {\r\n          this.handleSearchInput()\r\n        }\r\n        return\r\n      } else if (key === '.') {\r\n        // Decimal point - add if not present\r\n        if (!currentValue.includes('.')) {\r\n          this[targetField] = currentValue + '.'\r\n        }\r\n      } else if (key >= '0' && key <= '9') {\r\n        // Number - append\r\n        this[targetField] = currentValue + key\r\n      } else {\r\n        // Other characters (like '00')\r\n        this[targetField] = currentValue + key\r\n      }\r\n\r\n      if (targetField === 'searchQuery') {\r\n        this.handleSearchInput()\r\n      }\r\n    },\r\n    toggleKeyboard() {\r\n      this.showKeyboard = !this.showKeyboard\r\n    },\r\n    openPendingTicketsModal() {\r\n      this.showPendingTicketsModal = true\r\n    },\r\n    async handleBarcodeScan() {\r\n      if (!this.barcodeInput || this.barcodeInput.trim() === '') {\r\n        return\r\n      }\r\n\r\n      const barcode = this.barcodeInput.trim()\r\n      this.barcodeScanning = true\r\n\r\n      try {\r\n        // First try to find item by barcode in the cached itemsWithBarcodes\r\n        let foundItem = null\r\n\r\n        for (const itemData of this.itemsWithBarcodes) {\r\n          const barcodeMatch = itemData.barcodes.find(b =>\r\n            b.barcode && b.barcode.toLowerCase() === barcode.toLowerCase()\r\n          )\r\n          if (barcodeMatch && itemData.item.active !== false) {\r\n            foundItem = itemData.item\r\n            break\r\n          }\r\n        }\r\n\r\n        // If not found in cache, try the Item.barcode field (legacy support)\r\n        if (!foundItem) {\r\n          foundItem = this.items.find(item =>\r\n            item.barcode && item.barcode.toLowerCase() === barcode.toLowerCase() &&\r\n            item.active !== false\r\n          )\r\n        }\r\n\r\n        // If still not found, try API call to find item by barcode\r\n        if (!foundItem) {\r\n          try {\r\n            const response = await this.$http.get(`/item-barcode/barcode/${encodeURIComponent(barcode)}`)\r\n            if (response.data) {\r\n              foundItem = response.data\r\n            }\r\n          } catch (apiError) {\r\n            // API endpoint might not exist or item not found\r\n            if (apiError.response && apiError.response.status === 404) {\r\n              // Item not found - this is expected, will show message below\r\n            } else {\r\n              console.error('Error finding item by barcode:', apiError)\r\n            }\r\n          }\r\n        }\r\n\r\n        if (foundItem) {\r\n          // Add item to cart\r\n          this.addToCart(foundItem)\r\n\r\n          // Clear barcode input and refocus\r\n          this.barcodeInput = ''\r\n          this.$nextTick(() => {\r\n            if (this.$refs.barcodeInput) {\r\n              this.$refs.barcodeInput.focus()\r\n            }\r\n          })\r\n\r\n          // Show success feedback (silent - no toast to avoid interruption during fast scanning)\r\n          // Toast can be annoying when scanning multiple items quickly\r\n        } else {\r\n          // Barcode not found\r\n          this.$toast({\r\n            component: ToastificationContent,\r\n            props: {\r\n              title: 'Barcode Not Found',\r\n              icon: 'AlertCircleIcon',\r\n              text: `No item found with barcode: ${barcode}`,\r\n              variant: 'warning'\r\n            }\r\n          })\r\n\r\n          // Keep barcode in input so user can correct it\r\n          this.$nextTick(() => {\r\n            if (this.$refs.barcodeInput) {\r\n              this.$refs.barcodeInput.select()\r\n              this.$refs.barcodeInput.focus()\r\n            }\r\n          })\r\n        }\r\n      } catch (error) {\r\n        console.error('Error scanning barcode:', error)\r\n        this.$toast({\r\n          component: ToastificationContent,\r\n          props: {\r\n            title: 'Error',\r\n            icon: 'XIcon',\r\n            text: 'Failed to scan barcode. Please try again.',\r\n            variant: 'danger'\r\n          }\r\n        })\r\n      } finally {\r\n        this.barcodeScanning = false\r\n      }\r\n    },\r\n    clearSearch() {\r\n      this.searchQuery = ''\r\n      this.handleSearchInput()\r\n    },\r\n    async loadPendingTicketsCount() {\r\n      try {\r\n        const response = await this.$http.get('/sales-header/pending-sales')\r\n        this.pendingTicketsCount = response.data.length\r\n        // Update navbar if needed\r\n        this.$forceUpdate()\r\n      } catch (error) {\r\n        console.error('Error loading pending tickets count:', error)\r\n      }\r\n    },\r\n    async loadPendingTickets() {\r\n      this.loadingPendingTickets = true\r\n      try {\r\n        const response = await this.$http.get('/sales-header/pending-sales')\r\n        this.pendingTickets = response.data\r\n        this.pendingTicketsCount = response.data.length\r\n      } catch (error) {\r\n        console.error('Error loading pending tickets:', error)\r\n        this.$toast({\r\n          component: require('@core/components/toastification/ToastificationContent.vue').default,\r\n          props: {\r\n            title: 'Error',\r\n            icon: 'XIcon',\r\n            text: 'Failed to load pending tickets',\r\n            variant: 'danger'\r\n          }\r\n        })\r\n      } finally {\r\n        this.loadingPendingTickets = false\r\n      }\r\n    },\r\n    retrievePendingTicket(ticket) {\r\n      // Convert pending ticket sales lines to cart items\r\n      const cartItems = ticket.salesLines.map(line => ({\r\n        id: line.item.id,\r\n        itemCode: line.item.itemCode,\r\n        name: line.item.name,\r\n        unitPrice: line.unitPrice,\r\n        quantity: line.quantity,\r\n        defaultVAT: line.item.defaultVAT || 0,\r\n        discountPercentage: line.discountPercentage || null,\r\n        discountAmount: line.discountAmount || null\r\n      }))\r\n\r\n      // Set cart and order summary\r\n      this.$store.dispatch('pos/setCart', cartItems)\r\n      this.$store.dispatch('pos/setOrderSummary', {\r\n        subtotal: ticket.subtotal,\r\n        taxAmount: ticket.taxAmount,\r\n        discountAmount: ticket.discountAmount || 0,\r\n        discountPercent: ticket.discountPercentage || 0,\r\n        totalAmount: ticket.totalAmount\r\n      })\r\n\r\n      // Store pending ticket ID in store for later use\r\n      this.$store.dispatch('pos/setPendingTicketId', ticket.id)\r\n\r\n      // Close modal and stay on item selection page (so user can add more items)\r\n      this.showPendingTicketsModal = false\r\n\r\n      this.$toast({\r\n        component: ToastificationContent,\r\n        props: {\r\n          title: 'Ticket Retrieved',\r\n          icon: 'CheckCircleIcon',\r\n          text: `Pending ticket ${ticket.salesNumber} loaded. You can add more items or proceed to payment.`,\r\n          variant: 'success'\r\n        }\r\n      })\r\n\r\n      // Focus on barcode input\r\n      this.$nextTick(() => {\r\n        if (this.$refs.barcodeInput) {\r\n          this.$refs.barcodeInput.focus()\r\n        }\r\n      })\r\n    },\r\n    resetPendingTickets() {\r\n      // Refresh count when modal closes\r\n      this.loadPendingTicketsCount()\r\n      this.ticketToDelete = null\r\n    },\r\n    confirmDeletePendingTicket(ticket) {\r\n      this.ticketToDelete = ticket\r\n      this.$bvModal.msgBoxConfirm(\r\n        `Are you sure you want to delete pending ticket \"${ticket.salesNumber}\"? This action cannot be undone.`,\r\n        {\r\n          title: 'Delete Pending Ticket',\r\n          size: 'sm',\r\n          buttonSize: 'sm',\r\n          okVariant: 'danger',\r\n          okTitle: 'Delete',\r\n          cancelTitle: 'Cancel',\r\n          footerClass: 'p-2',\r\n          hideHeaderClose: false,\r\n          centered: true\r\n        }\r\n      )\r\n        .then(value => {\r\n          if (value) {\r\n            this.deletePendingTicket(ticket.id)\r\n          }\r\n          this.ticketToDelete = null\r\n        })\r\n    },\r\n    async deletePendingTicket(ticketId) {\r\n      try {\r\n        const response = await this.$http.post(`/sales-header/cancel-pending/${ticketId}`)\r\n\r\n        if (response.status === 200) {\r\n          this.$toast({\r\n            component: ToastificationContent,\r\n            props: {\r\n              title: 'Success',\r\n              icon: 'CheckCircleIcon',\r\n              text: 'Pending ticket deleted successfully',\r\n              variant: 'success'\r\n            }\r\n          })\r\n\r\n          // Reload pending tickets\r\n          await this.loadPendingTickets()\r\n          this.loadPendingTicketsCount()\r\n\r\n          // If the deleted ticket was the one we were working on, clear it\r\n          if (this.pendingTicketId === ticketId) {\r\n            this.$store.dispatch('pos/clearPendingTicketId')\r\n          }\r\n        }\r\n      } catch (error) {\r\n        console.error('Error deleting pending ticket:', error)\r\n        let errorMessage = 'Failed to delete pending ticket. Please try again.'\r\n\r\n        if (error.response && error.response.data) {\r\n          errorMessage = error.response.data.message || error.response.data || errorMessage\r\n        }\r\n\r\n        this.$toast({\r\n          component: ToastificationContent,\r\n          props: {\r\n            title: 'Error',\r\n            icon: 'XIcon',\r\n            text: errorMessage,\r\n            variant: 'danger'\r\n          }\r\n        })\r\n      }\r\n    },\r\n    formatDateTime(dateString) {\r\n      if (!dateString) return ''\r\n      const date = new Date(dateString)\r\n      return date.toLocaleString()\r\n    },\r\n    addToCart(item) {\r\n      const currentCart = [...this.cart]\r\n      const existingIndex = currentCart.findIndex(cartItem => cartItem.id === item.id)\r\n      if (existingIndex !== -1) {\r\n        const existingItem = currentCart[existingIndex]\r\n        existingItem.quantity += 1\r\n        currentCart.splice(existingIndex, 1)\r\n        currentCart.unshift(existingItem)\r\n      } else {\r\n        currentCart.unshift({\r\n          id: item.id,\r\n          itemCode: item.itemCode,\r\n          name: item.name,\r\n          unitPrice: item.unitPrice || 0,\r\n          defaultVAT: item.defaultVAT || 0,\r\n          quantity: 1,\r\n          discountPercentage: null,\r\n          discountAmount: null,\r\n        })\r\n      }\r\n      this.$store.dispatch('pos/setCart', currentCart)\r\n      this.highlightCartItem(item.id)\r\n\r\n      // Add visual feedback - scroll to top of cart and highlight\r\n      this.$nextTick(() => {\r\n        if (this.$refs.cartList) {\r\n          this.$refs.cartList.scrollTop = 0\r\n        }\r\n      })\r\n\r\n      // Show toast notification\r\n      this.$toast({\r\n        component: ToastificationContent,\r\n        props: {\r\n          title: 'Added to Cart',\r\n          icon: 'CheckIcon',\r\n          text: `${item.name} added to cart`,\r\n          variant: 'success'\r\n        },\r\n      }, {\r\n        position: 'top-left', //  here\r\n      })\r\n    },\r\n    increaseQuantity(index) {\r\n      const currentCart = [...this.cart]\r\n      currentCart[index].quantity += 1\r\n      this.$store.dispatch('pos/setCart', currentCart)\r\n    },\r\n    decreaseQuantity(index) {\r\n      const currentCart = [...this.cart]\r\n      if (currentCart[index].quantity > 1) {\r\n        currentCart[index].quantity -= 1\r\n        this.$store.dispatch('pos/setCart', currentCart)\r\n      } else {\r\n        this.removeFromCart(index)\r\n      }\r\n    },\r\n    removeFromCart(index) {\r\n      const currentCart = [...this.cart]\r\n      currentCart.splice(index, 1)\r\n      this.$store.dispatch('pos/setCart', currentCart)\r\n    },\r\n    clearCart() {\r\n      this.$store.dispatch('pos/clearCart')\r\n      // Also clear pending ticket if any\r\n      if (this.pendingTicketId) {\r\n        this.$store.dispatch('pos/clearPendingTicketId')\r\n      }\r\n    },\r\n    formatPrice(price) {\r\n      const value = parseFloat(price) || 0\r\n      return value.toLocaleString('en-US', { minimumFractionDigits: 2, maximumFractionDigits: 2 })\r\n    },\r\n    formatTunCurrency(value) {\r\n      const amount = parseFloat(value) || 0\r\n      const formatted = amount.toLocaleString('en-US', { minimumFractionDigits: 2, maximumFractionDigits: 2 })\r\n      return `${formatted} TND`\r\n    },\r\n    highlightCartItem(itemId) {\r\n      this.highlightedItemId = itemId\r\n      if (this.highlightTimer) {\r\n        clearTimeout(this.highlightTimer)\r\n      }\r\n      this.highlightTimer = setTimeout(() => {\r\n        this.highlightedItemId = null\r\n        this.highlightTimer = null\r\n      }, 800)\r\n    },\r\n    handleCartScroll() {\r\n      if (!this.$refs.cartList) return\r\n      this.cartScrollShadow = this.$refs.cartList.scrollTop > 0\r\n    },\r\n    proceedToPayment() {\r\n      // Update order summary with current values (may have changed if items were added/removed)\r\n      // Cart is already in store, just update summary\r\n      this.$store.dispatch('pos/setOrderSummary', {\r\n        subtotal: this.subtotal,\r\n        taxAmount: this.taxAmount,\r\n        totalAmount: this.totalAmount\r\n      })\r\n      this.$router.push({ name: 'pos-payment' })\r\n    },\r\n    goToCustomerManagement() {\r\n      // Navigate to customer management page with return route\r\n      this.$router.push({\r\n        name: 'pos-customers',\r\n        query: { returnTo: 'pos-item-selection' }\r\n      })\r\n    },\r\n    goToReturn() {\r\n      // Navigate to return products page\r\n      this.$router.push({ name: 'pos-return' })\r\n    },\r\n    clearPendingTicket() {\r\n      // Clear pending ticket ID and reset to normal flow\r\n      this.$store.dispatch('pos/clearPendingTicketId')\r\n      this.$toast({\r\n        component: ToastificationContent,\r\n        props: {\r\n          title: 'Cleared',\r\n          icon: 'InfoIcon',\r\n          text: 'Pending ticket cleared. Starting new sale.',\r\n          variant: 'info'\r\n        }\r\n      })\r\n    },\r\n    async loadCurrentSession() {\r\n      this.loadingSession = true\r\n\r\n      // Use store to get session (checks API only if not cached)\r\n      const session = await this.$store.dispatch('pos/checkSession')\r\n\r\n      if (!session) {\r\n        // No open session, redirect to open session page\r\n        this.$router.push({ name: 'pos-open-session' })\r\n      }\r\n\r\n      this.loadingSession = false\r\n    },\r\n    loadPaymentMethods() {\r\n      this.$http.get('/payment-method')\r\n        .then(response => {\r\n          this.paymentMethods = response.data.filter(pm => pm.active !== false)\r\n        })\r\n        .catch(error => {\r\n          console.error('Error loading payment methods:', error)\r\n          // Set default payment methods if API fails\r\n          this.paymentMethods = [\r\n            { id: 1, name: 'Cash' },\r\n            { id: 2, name: 'Card' }\r\n          ]\r\n        })\r\n    },\r\n    addCashCountLine() {\r\n      this.closeSessionData.cashCountLines.push({\r\n        denominationValue: null,\r\n        quantity: null,\r\n        paymentMethodId: null, // null = cash (default)\r\n        notes: ''\r\n      })\r\n    },\r\n    onCloseSessionModalShown() {\r\n      // Load payment methods when modal opens\r\n      if (this.paymentMethods.length === 0) {\r\n        this.loadPaymentMethods()\r\n      }\r\n    },\r\n    removeCashCountLine(index) {\r\n      this.closeSessionData.cashCountLines.splice(index, 1)\r\n      this.updateCashCountTotals()\r\n    },\r\n    updateCashCountTotals() {\r\n      // Trigger reactivity update\r\n      this.$forceUpdate()\r\n    },\r\n    async closeSession() {\r\n      // Check for pending tickets first\r\n      if (this.pendingTicketsCount > 0) {\r\n        this.$toast({\r\n          component: require('@core/components/toastification/ToastificationContent.vue').default,\r\n          props: {\r\n            title: 'Cannot Close Session',\r\n            icon: 'AlertCircleIcon',\r\n            text: `You have ${this.pendingTicketsCount} pending ticket(s). Please complete or cancel all pending tickets before closing the session.`,\r\n            variant: 'warning'\r\n          }\r\n        })\r\n        this.showCloseSessionModal = false\r\n        return\r\n      }\r\n\r\n      if (!this.canCloseSession) {\r\n        this.$toast({\r\n          component: require('@core/components/toastification/ToastificationContent.vue').default,\r\n          props: {\r\n            title: 'Error',\r\n            icon: 'XIcon',\r\n            text: 'Please add cash count lines or enter actual cash amount',\r\n            variant: 'danger'\r\n          }\r\n        })\r\n        return\r\n      }\r\n\r\n      try {\r\n        // Prepare request with cash count lines\r\n        const requestData = {\r\n          notes: this.closeSessionData.notes\r\n        }\r\n\r\n        // Add cash count lines if any\r\n        if (this.closeSessionData.cashCountLines.length > 0) {\r\n          requestData.cashCountLines = this.closeSessionData.cashCountLines.map(line => ({\r\n            denominationValue: parseFloat(line.denominationValue) || 0,\r\n            quantity: parseInt(line.quantity) || 0,\r\n            paymentMethodId: line.paymentMethodId !== null ? line.paymentMethodId : null,\r\n            notes: line.notes || null\r\n          }))\r\n        }\r\n\r\n        const response = await this.$http.post('/cashier-session/close', requestData)\r\n\r\n        if (response.status === 200) {\r\n          this.$toast({\r\n            component: ToastificationContent,\r\n            props: {\r\n              title: 'Success',\r\n              icon: 'CheckCircleIcon',\r\n              text: 'Session closed successfully!',\r\n              variant: 'success'\r\n            }\r\n          })\r\n\r\n          // Clear session from store\r\n          this.$store.dispatch('pos/clearCurrentSession')\r\n\r\n          this.resetCloseSessionForm()\r\n          this.showCloseSessionModal = false\r\n\r\n          // Redirect to login or open new session\r\n          setTimeout(() => {\r\n            useJwt.logout()\r\n            this.$router.push({ name: 'login' })\r\n          }, 1500)\r\n        }\r\n      } catch (error) {\r\n        console.error('Error closing session:', error)\r\n        let errorMessage = 'Failed to close session. Please try again.'\r\n        if (error.response && error.response.data) {\r\n          errorMessage = error.response.data || errorMessage\r\n        }\r\n        this.$toast({\r\n          component: ToastificationContent,\r\n          props: {\r\n            title: 'Error',\r\n            icon: 'XIcon',\r\n            text: errorMessage,\r\n            variant: 'danger'\r\n          }\r\n        })\r\n      }\r\n    },\r\n    resetCloseSessionForm() {\r\n      this.closeSessionData = {\r\n        notes: '',\r\n        cashCountLines: []\r\n      }\r\n    },\r\n    openLineDiscountModal(index) {\r\n      if (index < 0 || index >= this.cart.length) return\r\n\r\n      this.discountModalItemIndex = index\r\n      const item = this.cart[index]\r\n\r\n      // Initialize with existing discount if any\r\n      if (item.discountPercentage) {\r\n        this.discountType = 'percentage'\r\n        this.discountValue = item.discountPercentage\r\n      } else if (item.discountAmount) {\r\n        this.discountType = 'amount'\r\n        this.discountValue = item.discountAmount\r\n      } else {\r\n        this.discountType = 'percentage'\r\n        this.discountValue = null\r\n      }\r\n\r\n      this.showDiscountModal = true\r\n    },\r\n    getDiscountModalItem() {\r\n      if (this.discountModalItemIndex === null || this.discountModalItemIndex >= this.cart.length) {\r\n        return null\r\n      }\r\n      return this.cart[this.discountModalItemIndex]\r\n    },\r\n    getOriginalLineTotal() {\r\n      const item = this.getDiscountModalItem()\r\n      if (!item) return 0\r\n      return this.getLineTotalWithVat(item, false)\r\n    },\r\n    getCalculatedDiscount() {\r\n      if (!this.discountValue || this.discountValue <= 0) return 0\r\n\r\n      const originalTotal = this.getOriginalLineTotal()\r\n\r\n      if (this.discountType === 'percentage') {\r\n        return originalTotal * (this.discountValue / 100)\r\n      } else {\r\n        return Math.min(this.discountValue, originalTotal)\r\n      }\r\n    },\r\n    getNewLineTotal() {\r\n      const originalTotal = this.getOriginalLineTotal()\r\n      const discount = this.getCalculatedDiscount()\r\n      return Math.max(0, originalTotal - discount)\r\n    },\r\n    applyLineDiscount() {\r\n      if (!this.canApplyDiscount || this.discountModalItemIndex === null) return\r\n\r\n      const cart = [...this.cart]\r\n      const item = cart[this.discountModalItemIndex]\r\n      const originalTotal = this.getLineTotalWithVat(item, false)\r\n\r\n      let discountPercentage = null\r\n      let discountAmount = null\r\n\r\n      if (this.discountType === 'percentage') {\r\n        discountPercentage = this.discountValue\r\n        discountAmount = originalTotal * (this.discountValue / 100)\r\n      } else {\r\n        discountAmount = Math.min(this.discountValue, originalTotal)\r\n        discountPercentage = originalTotal > 0 ? (discountAmount / originalTotal) * 100 : 0\r\n      }\r\n\r\n      item.discountPercentage = discountPercentage\r\n      item.discountAmount = discountAmount\r\n\r\n      this.$store.dispatch('pos/setCart', cart)\r\n      this.resetDiscountForm()\r\n    },\r\n    resetDiscountForm() {\r\n      this.showDiscountModal = false\r\n      this.discountModalItemIndex = null\r\n      this.discountType = 'percentage'\r\n      this.discountValue = null\r\n    },\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.pos-container {\r\n  margin: 0;\r\n  padding: 0;\r\n  height: 100vh;\r\n  width: 100%;\r\n  max-width: 100%;\r\n  overflow: hidden;\r\n  position: fixed;\r\n  top: 0;\r\n  left: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n  background: #f5f5f5;\r\n  display: flex;\r\n  flex-direction: column;\r\n  box-sizing: border-box;\r\n}\r\n\r\n.pos-content {\r\n  flex: 1;\r\n  overflow: hidden;\r\n  padding: 0 0px;\r\n  display: flex;\r\n  gap: 0;\r\n  min-width: 0;\r\n  box-sizing: border-box;\r\n  margin-left: 0;\r\n  margin-right: 0;\r\n}\r\n\r\n.pos-content>[class*='col'] {\r\n  padding: 0;\r\n}\r\n\r\n@media (max-width: 767.98px) {\r\n  .pos-content {\r\n    flex-direction: column;\r\n    padding: 0 10px;\r\n    gap: 0;\r\n  }\r\n}\r\n\r\n.items-column {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 0;\r\n  height: 100%;\r\n  min-width: 0;\r\n  box-sizing: border-box;\r\n}\r\n\r\n.items-section {\r\n  background: #fff;\r\n  border: none;\r\n  border-radius: 0;\r\n  padding: 10px;\r\n  height: 100%;\r\n  display: flex;\r\n  flex-direction: column;\r\n  min-height: 0;\r\n  box-shadow: none;\r\n  box-sizing: border-box;\r\n  border-right: 2px solid #e0e0e0;\r\n}\r\n\r\n.items-section.compact-mode {\r\n  padding: 8px;\r\n}\r\n\r\n@media (max-width: 767.98px) {\r\n  .items-section {\r\n    border-radius: 0;\r\n    border-right: none;\r\n    border-bottom: 2px solid #e0e0e0;\r\n    padding: 10px;\r\n    margin-bottom: 0;\r\n  }\r\n}\r\n\r\n.items-header {\r\n  margin-bottom: 15px;\r\n  flex-shrink: 0;\r\n}\r\n\r\n.input-row {\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n  gap: 15px;\r\n}\r\n\r\n.input-col {\r\n  flex: 1;\r\n  min-width: 220px;\r\n}\r\n\r\n.barcode-col {\r\n  flex: 3;\r\n}\r\n\r\n.search-col {\r\n  flex: 2;\r\n}\r\n\r\n.hierarchy-controls {\r\n  margin-top: 15px;\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  flex-wrap: wrap;\r\n  gap: 10px;\r\n}\r\n\r\n.hierarchy-group {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 12px;\r\n  flex-wrap: wrap;\r\n}\r\n\r\n.compact-toggle {\r\n  white-space: nowrap;\r\n}\r\n\r\n.breadcrumb-trail {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 6px;\r\n  font-weight: 500;\r\n  flex-wrap: wrap;\r\n}\r\n\r\n.breadcrumb-chip {\r\n  display: inline-flex;\r\n  align-items: center;\r\n  gap: 6px;\r\n  padding: 3px 8px;\r\n  border-radius: 12px;\r\n  background: #f4f5f7;\r\n  color: #5e5873;\r\n  cursor: pointer;\r\n  transition: all 0.2s ease;\r\n  font-size: 0.82rem;\r\n}\r\n\r\n.breadcrumb-chip:hover {\r\n  background: #e7e9fc;\r\n  color: #7367f0;\r\n}\r\n\r\n.breadcrumb-chip.active {\r\n  background: #7367f0;\r\n  color: #fff;\r\n  cursor: default;\r\n}\r\n\r\n.breadcrumb-separator {\r\n  color: #c0c5d2;\r\n}\r\n\r\n.barcode-scanner-input {\r\n  font-size: 1.1rem;\r\n  font-weight: 500;\r\n  text-align: center;\r\n  letter-spacing: 1px;\r\n}\r\n\r\n.barcode-scanner-input:focus {\r\n  border-color: #28a745;\r\n  box-shadow: 0 0 0 0.2rem rgba(40, 167, 69, 0.25);\r\n}\r\n\r\n@media (max-width: 575.98px) {\r\n\r\n  .items-header h4,\r\n  .cart-header h4 {\r\n    font-size: 1rem;\r\n  }\r\n\r\n  .barcode-col,\r\n  .search-col {\r\n    flex: 1 1 100%;\r\n  }\r\n\r\n  .input-row {\r\n    flex-direction: column;\r\n  }\r\n}\r\n\r\n.items-body {\r\n  flex: 1;\r\n  display: flex;\r\n  flex-direction: column;\r\n  min-height: 0;\r\n}\r\n\r\n.items-grid-wrapper {\r\n  flex: 1;\r\n  overflow-y: auto;\r\n  overflow-x: hidden;\r\n  min-width: 0;\r\n  box-sizing: border-box;\r\n  /* Hide scrollbar but keep touch scrolling */\r\n  scrollbar-width: none;\r\n  /* Firefox */\r\n  -ms-overflow-style: none;\r\n  /* IE and Edge */\r\n}\r\n\r\n.items-grid-wrapper::-webkit-scrollbar {\r\n  display: none;\r\n  /* Chrome, Safari, Opera */\r\n}\r\n\r\n.items-grid {\r\n  flex: 1;\r\n  display: flex;\r\n  flex-direction: column;\r\n  min-height: 0;\r\n  padding-bottom: 0;\r\n}\r\n\r\n.items-grid-wrapper {\r\n  flex: 1;\r\n  overflow-y: auto;\r\n  padding-right: 6px;\r\n}\r\n\r\n.items-section.compact-mode .items-grid {\r\n  gap: 6px;\r\n}\r\n\r\n.actions-panel {\r\n  margin-top: 0;\r\n  padding: 12px 15px;\r\n  border: none;\r\n  border-top: 2px solid #e0e0e0;\r\n  border-right: 2px solid #e0e0e0;\r\n  background: #fff;\r\n  border-radius: 0;\r\n  box-shadow: 0 -2px 4px rgba(0, 0, 0, 0.1);\r\n  margin-bottom: 0;\r\n  flex-shrink: 0;\r\n}\r\n\r\n.actions-grid {\r\n  display: flex;\r\n  flex-direction: row;\r\n  gap: 8px;\r\n  justify-content: center;\r\n  align-items: center;\r\n  flex-wrap: wrap;\r\n}\r\n\r\n@media (max-width: 1500px) {\r\n  .actions-grid {\r\n    gap: 8px;\r\n  }\r\n}\r\n\r\n@media (max-width: 1150px) {\r\n  .actions-grid {\r\n    gap: 8px;\r\n  }\r\n}\r\n\r\n.action-btn {\r\n  flex: 1;\r\n  min-width: 150px;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  height: 45px;\r\n  padding: 8px 15px;\r\n  font-weight: 600;\r\n  font-size: 0.95rem;\r\n  border-width: 2px;\r\n  gap: 6px;\r\n  margin: 0 !important;\r\n  touch-action: manipulation;\r\n}\r\n\r\n.action-btn.btn-primary {\r\n  border-color: transparent;\r\n}\r\n\r\n.grid-status {\r\n  border: 2px dashed #e0e0e0;\r\n  border-radius: 12px;\r\n  padding: 40px 20px;\r\n  text-align: center;\r\n  color: #6c757d;\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  justify-content: center;\r\n  gap: 8px;\r\n}\r\n\r\n.grid-status.empty-state {\r\n  color: #868e96;\r\n}\r\n\r\n.items-grid {\r\n  display: grid;\r\n  grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));\r\n  gap: 6px;\r\n}\r\n\r\n.items-section.compact-mode .items-grid {\r\n  grid-template-columns: repeat(auto-fill, minmax(140px, 1fr));\r\n  gap: 4px;\r\n}\r\n\r\n@media (max-width: 1200px) {\r\n  .items-grid {\r\n    grid-template-columns: repeat(auto-fill, minmax(130px, 1fr));\r\n    gap: 5px;\r\n  }\r\n}\r\n\r\n.items-grid::-webkit-scrollbar {\r\n  display: none;\r\n}\r\n\r\n.items-grid {\r\n  -ms-overflow-style: none;\r\n  scrollbar-width: none;\r\n}\r\n\r\n@media (min-width: 1600px) {\r\n  .items-grid {\r\n    grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));\r\n    gap: 6px;\r\n  }\r\n}\r\n\r\n@media (max-width: 1200px) {\r\n  .items-grid {\r\n    grid-template-columns: repeat(auto-fill, minmax(120px, 1fr));\r\n    gap: 4px;\r\n  }\r\n}\r\n\r\n@media (max-width: 991.98px) {\r\n  .items-grid {\r\n    grid-template-columns: repeat(auto-fill, minmax(110px, 1fr));\r\n    gap: 4px;\r\n  }\r\n}\r\n\r\n@media (max-width: 768px) {\r\n  .items-grid {\r\n    grid-template-columns: repeat(auto-fill, minmax(100px, 1fr));\r\n    gap: 4px;\r\n  }\r\n}\r\n\r\n@media (max-width: 575.98px) {\r\n  .items-grid {\r\n    grid-template-columns: repeat(auto-fill, minmax(120px, 1fr));\r\n    gap: 4px;\r\n  }\r\n}\r\n\r\n.item-card {\r\n  border: 2px solid #e0e0e0;\r\n  border-radius: 6px;\r\n  padding: 6px;\r\n  cursor: pointer;\r\n  transition: all 0.25s ease;\r\n  background: #fff;\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  text-align: center;\r\n  box-shadow: 0 2px 6px rgba(0, 0, 0, 0.02);\r\n}\r\n\r\n@media (max-width: 575.98px) {\r\n  .item-card {\r\n    padding: 6px;\r\n  }\r\n\r\n  .item-details h5 {\r\n    font-size: 0.65rem;\r\n  }\r\n\r\n  .item-price {\r\n    font-size: 0.85rem;\r\n  }\r\n}\r\n\r\n.item-card:hover {\r\n  border-color: #28a745;\r\n  box-shadow: 0 10px 24px rgba(40, 167, 69, 0.15);\r\n  transform: translateY(3px);\r\n}\r\n\r\n.category-card {\r\n  padding: 5px;\r\n  justify-content: center;\r\n}\r\n\r\n.category-card-content {\r\n  width: 100%;\r\n  min-height: 50px;\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  justify-content: center;\r\n  gap: 10px;\r\n  text-align: center;\r\n}\r\n\r\n.category-icon {\r\n  color: #6c63ff;\r\n}\r\n\r\n.category-title {\r\n  width: 95%;\r\n  font-size: clamp(0.64rem, 0.85vw, 0.74rem);\r\n  font-weight: 500;\r\n  text-transform: uppercase;\r\n  line-height: 1.2;\r\n}\r\n\r\n.clamp-2 {\r\n  display: -webkit-box;\r\n  -webkit-line-clamp: 2;\r\n  -webkit-box-orient: vertical;\r\n  overflow: hidden;\r\n  text-align: center;\r\n  width: 100%;\r\n}\r\n\r\n.item-image {\r\n  text-align: center;\r\n  margin-bottom: 2px;\r\n  color: #007bff;\r\n}\r\n\r\n.item-image svg {\r\n  width: 26px;\r\n  height: 26px;\r\n}\r\n\r\n.item-details {\r\n  width: 100%;\r\n  margin-top: 1px;\r\n}\r\n\r\n.item-details h5 {\r\n  font-size: 0.68rem;\r\n  font-weight: 500;\r\n  color: #2c3e50;\r\n  line-height: 1.2;\r\n  min-height: 2em;\r\n  display: -webkit-box;\r\n  -webkit-line-clamp: 3;\r\n  -webkit-box-orient: vertical;\r\n  overflow: hidden;\r\n}\r\n\r\n.item-code {\r\n  font-size: 0.62rem;\r\n  color: #6c757d;\r\n  margin: 1px 0 3px 0;\r\n  font-weight: 500;\r\n}\r\n\r\n.item-price {\r\n  font-size: 0.8rem;\r\n  font-weight: bold;\r\n  color: #28a745;\r\n  margin: 0px;\r\n}\r\n\r\n.items-section.compact-mode .item-card {\r\n  padding: 5px;\r\n  border-radius: 5px;\r\n}\r\n\r\n.items-section.compact-mode .item-image {\r\n  margin-bottom: 1px;\r\n}\r\n\r\n.items-section.compact-mode .item-image svg {\r\n  width: 24px;\r\n  height: 24px;\r\n}\r\n\r\n.items-section.compact-mode .item-details h5 {\r\n  font-size: 0.65rem;\r\n  -webkit-line-clamp: 2;\r\n  min-height: 1.8em;\r\n}\r\n\r\n.items-section.compact-mode .item-code {\r\n  font-size: 0.6rem;\r\n  margin-bottom: 3px;\r\n}\r\n\r\n.items-section.compact-mode .item-price {\r\n  font-size: 0.75rem;\r\n}\r\n\r\n.item-vat {\r\n  font-size: 0.78rem;\r\n  color: #6c757d;\r\n  margin-bottom: 4px;\r\n}\r\n\r\n.item-stock {\r\n  font-size: 0.7rem;\r\n  margin: 3px 0 0 0;\r\n  font-weight: 600;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  gap: 4px;\r\n  padding: 2px 6px;\r\n  border-radius: 4px;\r\n}\r\n\r\n.stock-ok {\r\n  color: #155724;\r\n  background: #d4edda;\r\n}\r\n\r\n.stock-low {\r\n  color: #856404;\r\n  background: #fff3cd;\r\n}\r\n\r\n.stock-out {\r\n  color: #721c24;\r\n  background: #f8d7da;\r\n}\r\n\r\n.stock-unknown {\r\n  color: #6c757d;\r\n  background: #e9ecef;\r\n}\r\n\r\n.cart-section {\r\n  height: 100%;\r\n  display: flex;\r\n  flex-direction: column;\r\n  min-height: 0;\r\n  overflow: hidden;\r\n  background: #fff;\r\n  border: none;\r\n  border-radius: 0;\r\n  box-shadow: none;\r\n  padding: 6px !important;\r\n  min-width: 0;\r\n  max-width: 100%;\r\n  box-sizing: border-box;\r\n  margin-right: 0;\r\n}\r\n\r\n@media (max-width: 767.98px) {\r\n  .cart-section {\r\n    height: auto;\r\n    max-height: none;\r\n    max-width: none;\r\n    border-radius: 0;\r\n    border-top: 2px solid #e0e0e0;\r\n    padding: 10px;\r\n  }\r\n}\r\n\r\n\r\n.cart-items {\r\n  flex: 1;\r\n  min-height: 0;\r\n  /* Allow shrinking but maintain usability */\r\n  overflow-y: auto;\r\n  overflow-x: hidden;\r\n  margin-bottom: 8px;\r\n  position: relative;\r\n  padding-bottom: 8px;\r\n  min-width: 0;\r\n  box-sizing: border-box;\r\n  /* Hide scrollbar but keep touch scrolling */\r\n  scrollbar-width: none;\r\n  /* Firefox */\r\n  -ms-overflow-style: none;\r\n  /* IE and Edge */\r\n}\r\n\r\n.cart-items::-webkit-scrollbar {\r\n  display: none;\r\n  /* Chrome, Safari, Opera */\r\n}\r\n\r\n.cart-items::before {\r\n  content: '';\r\n  position: absolute;\r\n  top: 0;\r\n  left: 0;\r\n  right: 0;\r\n  height: 14px;\r\n  display: block;\r\n  background: linear-gradient(180deg, rgba(115, 103, 240, 0.18), rgba(255, 255, 255, 0));\r\n  opacity: 0;\r\n  pointer-events: none;\r\n  transition: opacity 0.2s ease;\r\n}\r\n\r\n.cart-items--scrolled::before {\r\n  opacity: 1;\r\n}\r\n\r\n.empty-cart {\r\n  text-align: center;\r\n  padding: 40px 20px;\r\n  color: #999;\r\n  border: 2px dashed #e6e9ef;\r\n  border-radius: 12px;\r\n  background: #f9fafc;\r\n}\r\n\r\n.cart-item {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 3px;\r\n  padding: 8px;\r\n  margin-bottom: 4px;\r\n  border: 1px solid #e0e0e0;\r\n  border-radius: 6px;\r\n  transition: all 0.2s ease;\r\n  background: #f8f9fa;\r\n  box-sizing: border-box;\r\n}\r\n\r\n.cart-item.highlighted {\r\n  background: #e8f5e9;\r\n  border-color: #28a745;\r\n  border-width: 2px;\r\n  box-shadow: 0 0 0 3px rgba(40, 167, 69, 0.2);\r\n  transition: background-color 0.3s ease, border-color 0.3s ease, box-shadow 0.3s ease;\r\n}\r\n\r\n.cart-item-header {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  gap: 8px;\r\n  align-items: flex-start;\r\n  margin-bottom: 0;\r\n}\r\n\r\n.cart-item-title h6 {\r\n  margin: 0;\r\n  line-height: 1.3;\r\n  font-size: 0.9rem;\r\n}\r\n\r\n.cart-item-total {\r\n  text-align: right;\r\n  font-weight: bold;\r\n  color: #28a745;\r\n}\r\n\r\n.cart-item-total .total-amount {\r\n  font-size: 0.95rem;\r\n  display: block;\r\n}\r\n\r\n.cart-item-breakdown {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 4px;\r\n  padding: 6px;\r\n  background: #f8f9fa;\r\n  border-radius: 5px;\r\n  margin: 2px 0;\r\n  font-size: 0.75rem;\r\n}\r\n\r\n.breakdown-row {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 6px;\r\n  flex-wrap: wrap;\r\n}\r\n\r\n.breakdown-label {\r\n  color: #6c757d;\r\n  font-weight: 500;\r\n  min-width: 70px;\r\n}\r\n\r\n.breakdown-value {\r\n  font-weight: 600;\r\n  padding: 2px 8px;\r\n  border-radius: 4px;\r\n  background: #e9ecef;\r\n  color: #495057;\r\n}\r\n\r\n.breakdown-value.primary {\r\n  background: #d4edda;\r\n  color: #155724;\r\n}\r\n\r\n.breakdown-value.secondary {\r\n  background: #fff3cd;\r\n  color: #856404;\r\n}\r\n\r\n.breakdown-value.discount {\r\n  background: #fff3e0;\r\n  color: #e65100;\r\n}\r\n\r\n.breakdown-row.discount-row {\r\n  margin-top: 2px;\r\n  padding-top: 2px;\r\n  border-top: 1px solid #e0e0e0;\r\n}\r\n\r\n.breakdown-icon {\r\n  color: #e65100;\r\n}\r\n\r\n.cart-item-controls {\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n  gap: 6px;\r\n  flex-wrap: nowrap;\r\n  margin-top: 0;\r\n}\r\n\r\n.action-buttons {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 6px;\r\n}\r\n\r\n.discount-btn {\r\n  padding: 4px 8px;\r\n  display: inline-flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  gap: 4px;\r\n  position: relative;\r\n}\r\n\r\n.discount-badge {\r\n  font-size: 0.75rem;\r\n  font-weight: 600;\r\n  margin-left: 2px;\r\n}\r\n\r\n.discounted-total {\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: flex-end;\r\n  gap: 2px;\r\n}\r\n\r\n.original-amount {\r\n  font-size: 0.85rem;\r\n  color: #999;\r\n  text-decoration: line-through;\r\n}\r\n\r\n.cart-item-controls .quantity-controls {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 8px;\r\n  flex: 1;\r\n}\r\n\r\n.qty-btn {\r\n  min-width: 36px;\r\n  width: 36px;\r\n  height: 36px;\r\n  padding: 0;\r\n  line-height: 1;\r\n  font-size: 1.1rem;\r\n  font-weight: bold;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  border-radius: 6px;\r\n  touch-action: manipulation;\r\n  transition: all 0.2s ease;\r\n}\r\n\r\n.qty-btn:hover {\r\n  transform: scale(1.1);\r\n}\r\n\r\n.qty-btn:active {\r\n  transform: scale(0.95);\r\n}\r\n\r\n.quantity {\r\n  min-width: 40px;\r\n  text-align: center;\r\n  font-weight: bold;\r\n  font-size: 1rem;\r\n  padding: 4px 8px;\r\n  background: #f8f9fa;\r\n  border-radius: 6px;\r\n}\r\n\r\n.remove-btn {\r\n  padding: 4px 8px;\r\n  display: inline-flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n}\r\n\r\n@media (max-width: 575.98px) {\r\n  .cart-item {\r\n    padding: 8px 0;\r\n  }\r\n\r\n  .cart-item-header {\r\n    flex-direction: column;\r\n    align-items: flex-start;\r\n  }\r\n\r\n  .cart-item-total {\r\n    text-align: left;\r\n  }\r\n\r\n  .cart-item-controls {\r\n    width: 100%;\r\n    flex-wrap: wrap;\r\n    gap: 6px;\r\n  }\r\n\r\n  .cart-item-breakdown {\r\n    font-size: 0.7rem;\r\n    padding: 6px;\r\n    gap: 4px;\r\n  }\r\n}\r\n\r\n.quantity {\r\n  min-width: 30px;\r\n  text-align: center;\r\n  font-weight: bold;\r\n}\r\n\r\n.cart-summary {\r\n  border-top: 3px solid #e0e0e0;\r\n  padding-top: 10px;\r\n  /* margin-top: 10px; */\r\n  margin-bottom: 10px;\r\n  flex-shrink: 0;\r\n}\r\n\r\n.cart-summary-header {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  margin-bottom: 8px;\r\n  padding-bottom: 8px;\r\n  border-bottom: 1px solid #e0e0e0;\r\n}\r\n\r\n.cart-summary-title {\r\n  font-size: 0.95rem;\r\n  font-weight: 600;\r\n  color: #2c3e50;\r\n}\r\n\r\n.cart-clear-btn {\r\n  padding: 2px 8px;\r\n  font-size: 0.75rem;\r\n}\r\n\r\n.summary-row {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  margin-bottom: 4px;\r\n  font-size: 0.85rem;\r\n  padding: 1px 0;\r\n}\r\n\r\n.summary-row.discount-row {\r\n  color: #dc3545;\r\n}\r\n\r\n.summary-row.total {\r\n  font-size: 1.15rem;\r\n  font-weight: bold;\r\n  border-top: 2px solid #e0e0e0;\r\n  padding-top: 6px;\r\n  margin-top: 4px;\r\n  margin-bottom: 0;\r\n}\r\n\r\n@media (max-width: 575.98px) {\r\n  .cart-summary {\r\n    font-size: 0.9rem;\r\n  }\r\n\r\n  .summary-row.total {\r\n    font-size: 1.1rem;\r\n  }\r\n\r\n  .cart-section .btn {\r\n    font-size: 0.9rem;\r\n  }\r\n}\r\n\r\n/* Cash Count Modal Styles */\r\n.cash-count-section {\r\n  padding: 10px 0;\r\n}\r\n\r\n.cash-count-table-container {\r\n  max-height: 450px;\r\n  overflow-y: auto;\r\n  border: 1px solid #e0e0e0;\r\n  border-radius: 8px;\r\n  padding: 15px;\r\n  background-color: #fafafa;\r\n  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.05);\r\n}\r\n\r\n.cash-count-table-container::-webkit-scrollbar {\r\n  width: 8px;\r\n}\r\n\r\n.cash-count-table-container::-webkit-scrollbar-track {\r\n  background: #f1f1f1;\r\n  border-radius: 4px;\r\n}\r\n\r\n.cash-count-table-container::-webkit-scrollbar-thumb {\r\n  background: #c1c1c1;\r\n  border-radius: 4px;\r\n}\r\n\r\n.cash-count-table-container::-webkit-scrollbar-thumb:hover {\r\n  background: #a8a8a8;\r\n}\r\n\r\n@media (max-width: 575.98px) {\r\n  .cash-count-table-container {\r\n    max-height: 300px;\r\n    padding: 10px;\r\n  }\r\n}\r\n\r\n.cash-count-total {\r\n  padding-top: 10px;\r\n}\r\n\r\n.cash-count-total .card {\r\n  box-shadow: 0 2px 8px rgba(0, 123, 255, 0.15);\r\n  transition: box-shadow 0.3s ease;\r\n}\r\n\r\n.cash-count-total .card:hover {\r\n  box-shadow: 0 4px 12px rgba(0, 123, 255, 0.25);\r\n}\r\n\r\n/* Fix for table responsive on mobile */\r\n@media (max-width: 575.98px) {\r\n  .table-responsive {\r\n    font-size: 0.85rem;\r\n  }\r\n}\r\n\r\n/* Pending Tickets Modal Styles */\r\n.pending-tickets-list {\r\n  max-height: 500px;\r\n  overflow-y: auto;\r\n}\r\n\r\n.ticket-card {\r\n  border-left: 4px solid #ffc107;\r\n  transition: all 0.2s;\r\n}\r\n\r\n.ticket-card:hover {\r\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);\r\n}\r\n\r\n.ticket-item-line {\r\n  padding: 4px 0;\r\n  border-bottom: 1px solid #f0f0f0;\r\n  font-size: 0.9rem;\r\n}\r\n\r\n.ticket-item-line:last-child {\r\n  border-bottom: none;\r\n}\r\n\r\n.ticket-summary {\r\n  padding-top: 10px;\r\n  border-top: 1px dashed #dee2e6;\r\n  margin-top: 10px;\r\n  font-size: 0.95rem;\r\n}\r\n\r\n.gap-2 {\r\n  gap: 0.5rem;\r\n}\r\n\r\n.virtual-keyboard {\r\n  background: #fff;\r\n  border: 2px solid #e0e0e0;\r\n  border-radius: 8px;\r\n  padding: 10px 15px;\r\n  margin-bottom: 10px;\r\n  flex-shrink: 0;\r\n  box-sizing: border-box;\r\n}\r\n\r\n.keyboard-header {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  margin-bottom: 10px;\r\n  padding-bottom: 8px;\r\n  border-bottom: 1px solid #e0e0e0;\r\n}\r\n\r\n.keyboard-header strong {\r\n  font-size: 0.9rem;\r\n  color: #2c3e50;\r\n}\r\n\r\n.keyboard-close-btn {\r\n  padding: 4px 8px;\r\n}\r\n\r\n.keyboard-grid {\r\n  display: grid;\r\n  grid-template-columns: repeat(4, 1fr);\r\n  gap: 10px;\r\n  width: 100%;\r\n  box-sizing: border-box;\r\n  margin-bottom: 10px;\r\n}\r\n\r\n.keyboard-key {\r\n  min-height: 50px;\r\n  height: 50px;\r\n  font-size: 1.3rem;\r\n  font-weight: 600;\r\n  border: 2px solid #e0e0e0;\r\n  border-radius: 8px;\r\n  background: #fff;\r\n  color: #2c3e50;\r\n  cursor: pointer;\r\n  transition: all 0.15s ease;\r\n  touch-action: manipulation;\r\n  user-select: none;\r\n  padding: 0;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n}\r\n\r\n.keyboard-key:hover:not(:disabled) {\r\n  background: #f0f0f0;\r\n  border-color: #7367f0;\r\n  transform: scale(0.98);\r\n}\r\n\r\n.keyboard-key:active:not(:disabled) {\r\n  transform: scale(0.95);\r\n  background: #e0e0e0;\r\n}\r\n\r\n.keyboard-key:disabled {\r\n  opacity: 0.5;\r\n  cursor: not-allowed;\r\n}\r\n\r\n.key-decimal {\r\n  font-size: 1.2rem;\r\n}\r\n\r\n.key-backspace {\r\n  background: #ffc107;\r\n  color: #000;\r\n  font-weight: bold;\r\n}\r\n\r\n.key-backspace:hover:not(:disabled) {\r\n  background: #ffb300;\r\n}\r\n\r\n.keyboard-actions {\r\n  display: flex;\r\n  gap: 10px;\r\n  justify-content: space-between;\r\n}\r\n\r\n.keyboard-action-btn {\r\n  flex: 1;\r\n  min-height: 45px;\r\n  font-weight: 600;\r\n  border: 2px solid #e0e0e0;\r\n  border-radius: 8px;\r\n  background: #fff;\r\n  color: #2c3e50;\r\n  cursor: pointer;\r\n  transition: all 0.15s ease;\r\n  touch-action: manipulation;\r\n  user-select: none;\r\n  padding: 8px;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  gap: 6px;\r\n}\r\n\r\n.keyboard-action-btn:hover:not(:disabled) {\r\n  background: #f0f0f0;\r\n  border-color: #7367f0;\r\n  transform: scale(0.98);\r\n}\r\n\r\n.keyboard-action-btn:active:not(:disabled) {\r\n  transform: scale(0.95);\r\n  background: #e0e0e0;\r\n}\r\n\r\n.keyboard-action-enter {\r\n  background: #28a745;\r\n  color: #fff;\r\n  border-color: #28a745;\r\n}\r\n\r\n.keyboard-action-enter:hover:not(:disabled) {\r\n  background: #218838;\r\n  border-color: #218838;\r\n}\r\n\r\n.keyboard-toggle {\r\n  flex-shrink: 0;\r\n  /* margin-bottom: 10px; */\r\n}\r\n\r\n.keyboard-toggle-btn {\r\n  height: 40px;\r\n  font-weight: 600;\r\n  transition: all 0.2s ease;\r\n  background-color: rgba(255, 255, 255, 0.7);\r\n  border-color: rgba(0, 0, 0, 0.1);\r\n  color: #6c757d;\r\n  backdrop-filter: blur(4px);\r\n}\r\n\r\n.keyboard-toggle-btn:hover:not(.keyboard-active) {\r\n  background-color: rgba(255, 255, 255, 0.85);\r\n  border-color: rgba(0, 0, 0, 0.15);\r\n  color: #5a6268;\r\n}\r\n\r\n.keyboard-toggle-btn.keyboard-active {\r\n  background-color: rgba(233, 236, 239, 0.8);\r\n  border-color: rgba(0, 0, 0, 0.12);\r\n  color: #495057;\r\n  backdrop-filter: blur(4px);\r\n}\r\n\r\n.keyboard-toggle-btn.keyboard-active:hover {\r\n  background-color: rgba(222, 226, 230, 0.9);\r\n  border-color: rgba(0, 0, 0, 0.15);\r\n  color: #343a40;\r\n}\r\n\r\n/* Responsive: On smaller screens, reduce keyboard size or adjust layout */\r\n@media (max-width: 768px) {\r\n  .cart-section {\r\n    /* When keyboard is shown, ensure cart items still have minimum space */\r\n    min-height: 0;\r\n  }\r\n\r\n  .cart-items {\r\n    /* Minimum height to ensure some items are visible even when keyboard is shown */\r\n    min-height: 150px;\r\n  }\r\n\r\n  .virtual-keyboard {\r\n    /* Smaller keyboard on mobile */\r\n    padding: 8px 10px;\r\n  }\r\n\r\n  .keyboard-grid {\r\n    gap: 6px;\r\n  }\r\n\r\n  .keyboard-key {\r\n    min-height: 45px;\r\n    height: 45px;\r\n    font-size: 1.1rem;\r\n  }\r\n\r\n  .keyboard-action-btn {\r\n    min-height: 40px;\r\n    font-size: 0.9rem;\r\n  }\r\n\r\n  .cart-item-breakdown {\r\n    font-size: 0.7rem;\r\n    padding: 6px;\r\n  }\r\n\r\n  .breakdown-label {\r\n    min-width: 60px;\r\n    font-size: 0.7rem;\r\n  }\r\n\r\n  .breakdown-value {\r\n    font-size: 0.7rem;\r\n    padding: 2px 6px;\r\n  }\r\n}\r\n</style>\r\n\r\n<style>\r\nbody.pos-no-scroll {\r\n  overflow: hidden;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ItemSelection.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ItemSelection.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./ItemSelection.vue?vue&type=template&id=1dfa5196&scoped=true\"\nimport script from \"./ItemSelection.vue?vue&type=script&lang=js\"\nexport * from \"./ItemSelection.vue?vue&type=script&lang=js\"\nimport style0 from \"./ItemSelection.vue?vue&type=style&index=0&id=1dfa5196&prod&scoped=true&lang=css\"\nimport style1 from \"./ItemSelection.vue?vue&type=style&index=1&id=1dfa5196&prod&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1dfa5196\",\n  null\n  \n)\n\nexport default component.exports","var $ = require('../internals/export');\nvar isInteger = require('../internals/is-integer');\n\n// `Number.isInteger` method\n// https://tc39.github.io/ecma262/#sec-number.isinteger\n$({ target: 'Number', stat: true }, {\n  isInteger: isInteger\n});\n","var $ = require('../internals/export');\n\n// `Number.MAX_SAFE_INTEGER` constant\n// https://tc39.github.io/ecma262/#sec-number.max_safe_integer\n$({ target: 'Number', stat: true }, {\n  MAX_SAFE_INTEGER: 0x1FFFFFFFFFFFFF\n});\n","'use strict';\nvar $ = require('../internals/export');\nvar toInteger = require('../internals/to-integer');\nvar thisNumberValue = require('../internals/this-number-value');\nvar repeat = require('../internals/string-repeat');\nvar fails = require('../internals/fails');\n\nvar nativeToFixed = 1.0.toFixed;\nvar floor = Math.floor;\n\nvar pow = function (x, n, acc) {\n  return n === 0 ? acc : n % 2 === 1 ? pow(x, n - 1, acc * x) : pow(x * x, n / 2, acc);\n};\n\nvar log = function (x) {\n  var n = 0;\n  var x2 = x;\n  while (x2 >= 4096) {\n    n += 12;\n    x2 /= 4096;\n  }\n  while (x2 >= 2) {\n    n += 1;\n    x2 /= 2;\n  } return n;\n};\n\nvar FORCED = nativeToFixed && (\n  0.00008.toFixed(3) !== '0.000' ||\n  0.9.toFixed(0) !== '1' ||\n  1.255.toFixed(2) !== '1.25' ||\n  1000000000000000128.0.toFixed(0) !== '1000000000000000128'\n) || !fails(function () {\n  // V8 ~ Android 4.3-\n  nativeToFixed.call({});\n});\n\n// `Number.prototype.toFixed` method\n// https://tc39.github.io/ecma262/#sec-number.prototype.tofixed\n$({ target: 'Number', proto: true, forced: FORCED }, {\n  // eslint-disable-next-line max-statements\n  toFixed: function toFixed(fractionDigits) {\n    var number = thisNumberValue(this);\n    var fractDigits = toInteger(fractionDigits);\n    var data = [0, 0, 0, 0, 0, 0];\n    var sign = '';\n    var result = '0';\n    var e, z, j, k;\n\n    var multiply = function (n, c) {\n      var index = -1;\n      var c2 = c;\n      while (++index < 6) {\n        c2 += n * data[index];\n        data[index] = c2 % 1e7;\n        c2 = floor(c2 / 1e7);\n      }\n    };\n\n    var divide = function (n) {\n      var index = 6;\n      var c = 0;\n      while (--index >= 0) {\n        c += data[index];\n        data[index] = floor(c / n);\n        c = (c % n) * 1e7;\n      }\n    };\n\n    var dataToString = function () {\n      var index = 6;\n      var s = '';\n      while (--index >= 0) {\n        if (s !== '' || index === 0 || data[index] !== 0) {\n          var t = String(data[index]);\n          s = s === '' ? t : s + repeat.call('0', 7 - t.length) + t;\n        }\n      } return s;\n    };\n\n    if (fractDigits < 0 || fractDigits > 20) throw RangeError('Incorrect fraction digits');\n    // eslint-disable-next-line no-self-compare\n    if (number != number) return 'NaN';\n    if (number <= -1e21 || number >= 1e21) return String(number);\n    if (number < 0) {\n      sign = '-';\n      number = -number;\n    }\n    if (number > 1e-21) {\n      e = log(number * pow(2, 69, 1)) - 69;\n      z = e < 0 ? number * pow(2, -e, 1) : number / pow(2, e, 1);\n      z *= 0x10000000000000;\n      e = 52 - e;\n      if (e > 0) {\n        multiply(0, z);\n        j = fractDigits;\n        while (j >= 7) {\n          multiply(1e7, 0);\n          j -= 7;\n        }\n        multiply(pow(10, j, 1), 0);\n        j = e - 1;\n        while (j >= 23) {\n          divide(1 << 23);\n          j -= 23;\n        }\n        divide(1 << j);\n        multiply(1, 1);\n        divide(2);\n        result = dataToString();\n      } else {\n        multiply(0, z);\n        multiply(1 << -e, 0);\n        result = dataToString() + repeat.call('0', fractDigits);\n      }\n    }\n    if (fractDigits > 0) {\n      k = result.length;\n      result = sign + (k <= fractDigits\n        ? '0.' + repeat.call('0', fractDigits - k) + result\n        : result.slice(0, k - fractDigits) + '.' + result.slice(k - fractDigits));\n    } else {\n      result = sign + result;\n    } return result;\n  }\n});\n","import unsupportedIterableToArray from \"./unsupportedIterableToArray.js\";\nfunction _createForOfIteratorHelper(r, e) {\n  var t = \"undefined\" != typeof Symbol && r[Symbol.iterator] || r[\"@@iterator\"];\n  if (!t) {\n    if (Array.isArray(r) || (t = unsupportedIterableToArray(r)) || e && r && \"number\" == typeof r.length) {\n      t && (r = t);\n      var _n = 0,\n        F = function F() {};\n      return {\n        s: F,\n        n: function n() {\n          return _n >= r.length ? {\n            done: !0\n          } : {\n            done: !1,\n            value: r[_n++]\n          };\n        },\n        e: function e(r) {\n          throw r;\n        },\n        f: F\n      };\n    }\n    throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n  }\n  var o,\n    a = !0,\n    u = !1;\n  return {\n    s: function s() {\n      t = t.call(r);\n    },\n    n: function n() {\n      var r = t.next();\n      return a = r.done, r;\n    },\n    e: function e(r) {\n      u = !0, o = r;\n    },\n    f: function f() {\n      try {\n        a || null == t[\"return\"] || t[\"return\"]();\n      } finally {\n        if (u) throw o;\n      }\n    }\n  };\n}\nexport { _createForOfIteratorHelper as default };","var aFunction = require('../internals/a-function');\nvar toObject = require('../internals/to-object');\nvar IndexedObject = require('../internals/indexed-object');\nvar toLength = require('../internals/to-length');\n\n// `Array.prototype.{ reduce, reduceRight }` methods implementation\nvar createMethod = function (IS_RIGHT) {\n  return function (that, callbackfn, argumentsLength, memo) {\n    aFunction(callbackfn);\n    var O = toObject(that);\n    var self = IndexedObject(O);\n    var length = toLength(O.length);\n    var index = IS_RIGHT ? length - 1 : 0;\n    var i = IS_RIGHT ? -1 : 1;\n    if (argumentsLength < 2) while (true) {\n      if (index in self) {\n        memo = self[index];\n        index += i;\n        break;\n      }\n      index += i;\n      if (IS_RIGHT ? index < 0 : length <= index) {\n        throw TypeError('Reduce of empty array with no initial value');\n      }\n    }\n    for (;IS_RIGHT ? index >= 0 : length > index; index += i) if (index in self) {\n      memo = callbackfn(memo, self[index], index, O);\n    }\n    return memo;\n  };\n};\n\nmodule.exports = {\n  // `Array.prototype.reduce` method\n  // https://tc39.github.io/ecma262/#sec-array.prototype.reduce\n  left: createMethod(false),\n  // `Array.prototype.reduceRight` method\n  // https://tc39.github.io/ecma262/#sec-array.prototype.reduceright\n  right: createMethod(true)\n};\n","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ItemSelection.vue?vue&type=style&index=0&id=1dfa5196&prod&scoped=true&lang=css\""],"sourceRoot":""}