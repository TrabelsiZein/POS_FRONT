{"version":3,"sources":["webpack:///./node_modules/core-js/internals/string-repeat.js","webpack:///./src/@core/components/toastification/ToastificationContent.vue?0408","webpack:///src/@core/components/toastification/ToastificationContent.vue","webpack:///./src/@core/components/toastification/ToastificationContent.vue?5e2e","webpack:///./src/@core/components/toastification/ToastificationContent.vue","webpack:///./src/@core/components/toastification/ToastificationContent.vue?b3fb","webpack:///./node_modules/core-js/internals/this-number-value.js","webpack:///./src/views/pos/CustomerManagement.vue?2775","webpack:///./src/views/pos/CustomerManagement.vue?18d0","webpack:///src/views/pos/CustomerManagement.vue","webpack:///./src/views/pos/CustomerManagement.vue?bbf2","webpack:///./src/views/pos/CustomerManagement.vue?7367","webpack:///./node_modules/core-js/modules/es.number.to-fixed.js"],"names":["toInteger","requireObjectCoercible","module","exports","repeat","count","str","String","this","result","n","Infinity","RangeError","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","variant","icon","class","domProps","_s","title","_e","text","on","$event","$emit","hideClose","staticRenderFns","components","BAvatar","props","type","default","Boolean","component","classof","value","TypeError","_v","goBack","loadCustomers","openAddCustomerModal","model","callback","$$v","searchTerm","expression","clearSearch","statusFilterOptions","statusFilter","showDefaultOnly","totalRows","paginatedCustomers","customerFields","loading","scopedSlots","_u","key","fn","proxy","row","item","active","isDefault","customerCode","phone","email","address","city","country","filter","join","setAsDefaultCustomer","staticStyle","perPageOptions","perPage","startIndex","endIndex","currentPage","editingCustomer","canSaveCustomer","saveCustomer","resetCustomerForm","showAddCustomerModal","customerForm","$set","name","trim","length","_n","deleteCustomer","showDeleteModal","customerToDelete","data","customers","paymentMethods","pendingTicketsCount","taxId","creditLimit","notes","label","sortable","thClass","tdClass","computed","isPosUser","userData","getUserData","role","filteredCustomers","filtered","customer","term","toLowerCase","some","field","toString","includes","start","slice","Math","min","paymentMethodOptions","pm","watch","newList","maxPage","max","ceil","mounted","loadPaymentMethods","loadPendingTicketsCount","methods","_this","_asyncToGenerator","_regeneratorRuntime","mark","_callee","response","wrap","_context","prev","next","$http","get","sent","t0","console","error","$toast","ToastificationContent","finish","stop","editCustomer","_this2","_callee2","customerData","errorMessage","_context2","abrupt","_objectSpread","put","concat","id","post","status","isPassengerCustomer","confirmDeleteCustomer","_this3","_callee3","_context3","delete","resetFilters","returnTo","$route","query","$router","push","window","history","go","_this4","_callee4","_context4","_this5","then","catch","formatPrice","price","parseFloat","toFixed","_this6","_callee5","_yield$_this6$$swal","confirmed","_context5","$swal","showCancelButton","confirmButtonText","cancelButtonText","customClass","confirmButton","cancelButton","buttonsStyling","$","thisNumberValue","fails","nativeToFixed","floor","pow","x","acc","log","x2","FORCED","call","target","proto","forced","fractionDigits","e","z","j","k","number","fractDigits","sign","multiply","c","index","c2","divide","dataToString","s","t"],"mappings":"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","file":"js/chunk-d2595d6e.1b025783.js","sourcesContent":["'use strict';\nvar toInteger = require('../internals/to-integer');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\n\n// `String.prototype.repeat` method implementation\n// https://tc39.github.io/ecma262/#sec-string.prototype.repeat\nmodule.exports = ''.repeat || function repeat(count) {\n  var str = String(requireObjectCoercible(this));\n  var result = '';\n  var n = toInteger(count);\n  if (n < 0 || n == Infinity) throw RangeError('Wrong number of repetitions');\n  for (;n > 0; (n >>>= 1) && (str += str)) if (n & 1) result += str;\n  return result;\n};\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"toastification\"},[_c('div',{staticClass:\"d-flex align-items-start\"},[_c('b-avatar',{staticClass:\"mr-75 flex-shrink-0\",attrs:{\"variant\":_vm.variant,\"size\":\"1.8rem\"}},[_c('feather-icon',{attrs:{\"icon\":_vm.icon,\"size\":\"15\"}})],1),_c('div',{staticClass:\"d-flex flex-grow-1\"},[_c('div',[(_vm.title)?_c('h5',{staticClass:\"mb-0 font-weight-bolder toastification-title\",class:(\"text-\" + _vm.variant),domProps:{\"textContent\":_vm._s(_vm.title)}}):_vm._e(),(_vm.text)?_c('small',{staticClass:\"d-inline-block text-body\",domProps:{\"textContent\":_vm._s(_vm.text)}}):_vm._e()]),_c('span',{staticClass:\"cursor-pointer toastification-close-icon ml-auto \",on:{\"click\":function($event){return _vm.$emit('close-toast')}}},[(!_vm.hideClose)?_c('feather-icon',{staticClass:\"text-body\",attrs:{\"icon\":\"XIcon\"}}):_vm._e()],1)])],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"toastification\">\r\n    <div class=\"d-flex align-items-start\">\r\n      <b-avatar\r\n        :variant=\"variant\"\r\n        size=\"1.8rem\"\r\n        class=\"mr-75 flex-shrink-0\"\r\n      >\r\n        <feather-icon\r\n          :icon=\"icon\"\r\n          size=\"15\"\r\n        />\r\n      </b-avatar>\r\n      <div class=\"d-flex flex-grow-1\">\r\n        <div>\r\n          <h5\r\n            v-if=\"title\"\r\n            class=\"mb-0 font-weight-bolder toastification-title\"\r\n            :class=\"`text-${variant}`\"\r\n            v-text=\"title\"\r\n          />\r\n          <small\r\n            v-if=\"text\"\r\n            class=\"d-inline-block text-body\"\r\n            v-text=\"text\"\r\n          />\r\n        </div>\r\n        <span\r\n          class=\"cursor-pointer toastification-close-icon ml-auto \"\r\n          @click=\"$emit('close-toast')\"\r\n        >\r\n          <feather-icon\r\n            v-if=\"!hideClose\"\r\n            icon=\"XIcon\"\r\n            class=\"text-body\"\r\n          />\r\n        </span>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { BAvatar } from 'bootstrap-vue'\r\n\r\nexport default {\r\n  components: {\r\n    BAvatar,\r\n  },\r\n  props: {\r\n    variant: {\r\n      type: String,\r\n      default: 'primary',\r\n    },\r\n    icon: {\r\n      type: String,\r\n      default: null,\r\n    },\r\n    title: {\r\n      type: String,\r\n      default: null,\r\n    },\r\n    text: {\r\n      type: String,\r\n      default: null,\r\n    },\r\n    hideClose: {\r\n      type: Boolean,\r\n      default: false,\r\n    },\r\n  },\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.toastification-close-icon,\r\n.toastification-title {\r\n  line-height: 26px;\r\n}\r\n\r\n.toastification-title {\r\n  color: inherit;\r\n}\r\n</style>\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ToastificationContent.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ToastificationContent.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./ToastificationContent.vue?vue&type=template&id=55dd3057&scoped=true\"\nimport script from \"./ToastificationContent.vue?vue&type=script&lang=js\"\nexport * from \"./ToastificationContent.vue?vue&type=script&lang=js\"\nimport style0 from \"./ToastificationContent.vue?vue&type=style&index=0&id=55dd3057&prod&lang=scss&scoped=true\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"55dd3057\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ToastificationContent.vue?vue&type=style&index=0&id=55dd3057&prod&lang=scss&scoped=true\"","var classof = require('../internals/classof-raw');\n\n// `thisNumberValue` abstract operation\n// https://tc39.github.io/ecma262/#sec-thisnumbervalue\nmodule.exports = function (value) {\n  if (typeof value != 'number' && classof(value) != 'Number') {\n    throw TypeError('Incorrect invocation');\n  }\n  return +value;\n};\n","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CustomerManagement.vue?vue&type=style&index=0&id=5f5f6c38&prod&scoped=true&lang=css\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"customer-management-container\"},[_c('div',{staticClass:\"page-header\"},[_c('h2',{staticClass:\"mb-0\"},[_vm._v(\"Customer Management\")]),_c('div',{staticClass:\"d-flex align-items-center\"},[(_vm.isPosUser)?_c('b-button',{staticClass:\"mr-2\",attrs:{\"variant\":\"outline-secondary\"},on:{\"click\":_vm.goBack}},[_c('feather-icon',{staticClass:\"mr-1\",attrs:{\"icon\":\"ArrowLeftIcon\",\"size\":\"16\"}}),_vm._v(\" Back \")],1):_vm._e(),_c('b-button',{staticClass:\"mr-2\",attrs:{\"variant\":\"outline-primary\"},on:{\"click\":_vm.loadCustomers}},[_c('feather-icon',{attrs:{\"icon\":\"RefreshCwIcon\",\"size\":\"16\"}}),_vm._v(\" Refresh \")],1),_c('b-button',{attrs:{\"variant\":\"primary\",\"disabled\":\"\"},on:{\"click\":_vm.openAddCustomerModal}},[_c('feather-icon',{attrs:{\"icon\":\"PlusIcon\",\"size\":\"16\"}}),_vm._v(\" Add Customer \")],1)],1)]),_c('b-card',{staticClass:\"mb-3\"},[_c('b-row',[_c('b-col',{attrs:{\"cols\":\"12\",\"lg\":\"6\"}},[_c('b-form-group',{staticClass:\"mb-lg-0\",attrs:{\"label\":\"Search\",\"label-for\":\"search-input\"}},[_c('b-input-group',[_c('b-form-input',{attrs:{\"id\":\"search-input\",\"placeholder\":\"Customer Code, Name, Email, Phone...\"},model:{value:(_vm.searchTerm),callback:function ($$v) {_vm.searchTerm=$$v},expression:\"searchTerm\"}}),_c('b-input-group-append',[_c('b-button',{attrs:{\"variant\":\"outline-secondary\",\"disabled\":!_vm.searchTerm},on:{\"click\":_vm.clearSearch}},[_c('feather-icon',{attrs:{\"icon\":\"XIcon\",\"size\":\"14\"}})],1)],1)],1)],1)],1),_c('b-col',{attrs:{\"cols\":\"12\",\"lg\":\"6\"}},[_c('b-row',[_c('b-col',{attrs:{\"cols\":\"12\",\"md\":\"6\"}},[_c('b-form-group',{staticClass:\"mb-md-0\",attrs:{\"label\":\"Filter by Status\",\"label-for\":\"status-filter\"}},[_c('b-form-select',{attrs:{\"id\":\"status-filter\",\"options\":_vm.statusFilterOptions},model:{value:(_vm.statusFilter),callback:function ($$v) {_vm.statusFilter=$$v},expression:\"statusFilter\"}})],1)],1),_c('b-col',{attrs:{\"cols\":\"12\",\"md\":\"6\"}},[_c('b-form-group',{staticClass:\"mb-md-0\",attrs:{\"label\":\"Filter by Default\",\"label-for\":\"default-filter\"}},[_c('b-form-checkbox',{staticClass:\"mt-2\",attrs:{\"id\":\"default-filter\"},model:{value:(_vm.showDefaultOnly),callback:function ($$v) {_vm.showDefaultOnly=$$v},expression:\"showDefaultOnly\"}},[_vm._v(\" Show Default Only \")])],1)],1)],1)],1)],1),_c('b-row',{staticClass:\"mt-1\"},[_c('b-col',{staticClass:\"d-flex align-items-end justify-content-lg-end\",attrs:{\"cols\":\"12\"}},[_c('small',{staticClass:\"text-muted\"},[_vm._v(\" Showing \"+_vm._s(_vm.totalRows)+\" \"+_vm._s(_vm.totalRows === 1 ? 'customer' : 'customers')+\" \")])])],1)],1),_c('b-card',[_c('b-table',{attrs:{\"items\":_vm.paginatedCustomers,\"fields\":_vm.customerFields,\"striped\":\"\",\"hover\":\"\",\"responsive\":\"\",\"busy\":_vm.loading,\"show-empty\":\"\"},scopedSlots:_vm._u([{key:\"table-busy\",fn:function(){return [_c('div',{staticClass:\"text-center my-2\"},[_c('b-spinner',{staticClass:\"align-middle\"}),_c('strong',[_vm._v(\"Loading...\")])],1)]},proxy:true},{key:\"empty\",fn:function(){return [_c('div',{staticClass:\"text-center py-4\"},[_c('feather-icon',{staticClass:\"text-muted mb-2\",attrs:{\"icon\":\"InboxIcon\",\"size\":\"48\"}}),_c('p',{staticClass:\"text-muted mb-0\"},[_vm._v(\"No customers found.\")])],1)]},proxy:true},{key:\"cell(active)\",fn:function(row){return [_c('b-badge',{attrs:{\"variant\":row.item.active ? 'success' : 'danger'}},[_vm._v(\" \"+_vm._s(row.item.active ? 'Active' : 'Inactive')+\" \")])]}},{key:\"cell(isDefault)\",fn:function(row){return [_c('b-badge',{attrs:{\"variant\":row.item.isDefault ? 'success' : 'secondary'}},[_vm._v(\" \"+_vm._s(row.item.isDefault ? 'Default' : 'No')+\" \")])]}},{key:\"cell(customerCode)\",fn:function(row){return [_c('strong',[_vm._v(_vm._s(row.item.customerCode))])]}},{key:\"cell(contact)\",fn:function(row){return [(row.item.phone || row.item.email)?_c('div',[(row.item.phone)?_c('div',{staticClass:\"small\"},[_c('feather-icon',{staticClass:\"mr-1\",attrs:{\"icon\":\"PhoneIcon\",\"size\":\"12\"}}),_vm._v(\" \"+_vm._s(row.item.phone)+\" \")],1):_vm._e(),(row.item.email)?_c('div',{staticClass:\"small\"},[_c('feather-icon',{staticClass:\"mr-1\",attrs:{\"icon\":\"MailIcon\",\"size\":\"12\"}}),_vm._v(\" \"+_vm._s(row.item.email)+\" \")],1):_vm._e()]):_c('span',{staticClass:\"text-muted small\"},[_vm._v(\"-\")])]}},{key:\"cell(address)\",fn:function(row){return [(row.item.address || row.item.city || row.item.country)?_c('div',{staticClass:\"small\"},[(row.item.address)?_c('div',[_vm._v(_vm._s(row.item.address))]):_vm._e(),(row.item.city || row.item.country)?_c('div',[_vm._v(\" \"+_vm._s([row.item.city, row.item.country].filter(Boolean).join(', '))+\" \")]):_vm._e()]):_c('span',{staticClass:\"text-muted small\"},[_vm._v(\"-\")])]}},{key:\"cell(actions)\",fn:function(row){return [_c('div',{staticClass:\"d-flex justify-content-end\"},[_c('b-button',{attrs:{\"variant\":\"outline-primary\",\"size\":\"sm\",\"disabled\":row.item.isDefault},on:{\"click\":function($event){return _vm.setAsDefaultCustomer(row.item)}}},[_c('feather-icon',{attrs:{\"icon\":\"StarIcon\",\"size\":\"14\"}}),_vm._v(\" Set as Default \")],1)],1)]}}])}),_c('div',{staticClass:\"mt-3\"},[_c('b-row',{attrs:{\"align-v\":\"center\"}},[_c('b-col',{staticClass:\"mb-2 mb-md-0\",attrs:{\"cols\":\"12\",\"md\":\"6\"}},[_c('div',{staticClass:\"d-flex align-items-center\"},[_c('label',{staticClass:\"mr-2 mb-0\",attrs:{\"for\":\"customers-per-page\"}},[_vm._v(\"Items per page:\")]),_c('b-form-select',{staticStyle:{\"width\":\"auto\"},attrs:{\"id\":\"customers-per-page\",\"options\":_vm.perPageOptions,\"size\":\"sm\"},model:{value:(_vm.perPage),callback:function ($$v) {_vm.perPage=$$v},expression:\"perPage\"}})],1)]),_c('b-col',{attrs:{\"cols\":\"12\",\"md\":\"6\"}},[_c('div',{staticClass:\"text-center text-md-right\"},[_c('small',{staticClass:\"text-muted\"},[_vm._v(\" Showing \"+_vm._s(_vm.startIndex)+\" to \"+_vm._s(_vm.endIndex)+\" of \"+_vm._s(_vm.totalRows)+\" customers \")])])])],1),_c('div',{staticClass:\"d-flex justify-content-center mt-2\"},[_c('b-pagination',{attrs:{\"total-rows\":_vm.totalRows,\"per-page\":_vm.perPage,\"align\":\"center\"},model:{value:(_vm.currentPage),callback:function ($$v) {_vm.currentPage=$$v},expression:\"currentPage\"}})],1)],1)],1),_c('b-modal',{attrs:{\"title\":_vm.editingCustomer ? 'Edit Customer' : 'Add New Customer',\"size\":\"lg\",\"ok-disabled\":!_vm.canSaveCustomer},on:{\"ok\":_vm.saveCustomer,\"cancel\":_vm.resetCustomerForm},model:{value:(_vm.showAddCustomerModal),callback:function ($$v) {_vm.showAddCustomerModal=$$v},expression:\"showAddCustomerModal\"}},[_c('b-form',[_c('b-row',[(_vm.editingCustomer)?_c('b-col',{attrs:{\"md\":\"6\"}},[_c('b-form-group',{attrs:{\"label\":\"Customer Code\",\"label-for\":\"customerCode\"}},[_c('b-form-input',{attrs:{\"id\":\"customerCode\",\"disabled\":\"\",\"placeholder\":\"Auto-generated\",\"readonly\":\"\"},model:{value:(_vm.customerForm.customerCode),callback:function ($$v) {_vm.$set(_vm.customerForm, \"customerCode\", $$v)},expression:\"customerForm.customerCode\"}}),_c('small',{staticClass:\"form-text text-muted\"},[_vm._v(\" Customer code is auto-generated and cannot be changed \")])],1)],1):_c('b-col',{attrs:{\"md\":\"6\"}},[_c('b-form-group',{attrs:{\"label\":\"Customer Code\",\"label-for\":\"customerCode\"}},[_c('b-form-input',{attrs:{\"id\":\"customerCode\",\"value\":\"Auto-generated on save\",\"disabled\":\"\",\"placeholder\":\"Will be auto-generated\",\"readonly\":\"\"}}),_c('small',{staticClass:\"form-text text-muted\"},[_vm._v(\" Customer code will be auto-generated when you save \")])],1)],1),_c('b-col',{attrs:{\"md\":\"6\"}},[_c('b-form-group',{attrs:{\"label\":\"Name\",\"label-for\":\"name\"}},[_c('b-form-input',{attrs:{\"id\":\"name\",\"required\":\"\",\"placeholder\":\"Customer Name\",\"state\":_vm.customerForm.name && _vm.customerForm.name.trim().length > 0 ? null : false},model:{value:(_vm.customerForm.name),callback:function ($$v) {_vm.$set(_vm.customerForm, \"name\", $$v)},expression:\"customerForm.name\"}}),_c('b-form-invalid-feedback',[_vm._v(\" Name is required \")])],1)],1)],1),_c('b-row',[_c('b-col',{attrs:{\"md\":\"6\"}},[_c('b-form-group',{attrs:{\"label\":\"Email\",\"label-for\":\"email\"}},[_c('b-form-input',{attrs:{\"id\":\"email\",\"type\":\"email\",\"placeholder\":\"customer@example.com\"},model:{value:(_vm.customerForm.email),callback:function ($$v) {_vm.$set(_vm.customerForm, \"email\", $$v)},expression:\"customerForm.email\"}})],1)],1),_c('b-col',{attrs:{\"md\":\"6\"}},[_c('b-form-group',{attrs:{\"label\":\"Phone\",\"label-for\":\"phone\"}},[_c('b-form-input',{attrs:{\"id\":\"phone\",\"required\":\"\",\"placeholder\":\"+216 98 123 456\",\"state\":_vm.customerForm.phone && _vm.customerForm.phone.trim().length > 0 ? null : false},model:{value:(_vm.customerForm.phone),callback:function ($$v) {_vm.$set(_vm.customerForm, \"phone\", $$v)},expression:\"customerForm.phone\"}}),_c('b-form-invalid-feedback',[_vm._v(\" Phone is required \")])],1)],1)],1),_c('b-form-group',{attrs:{\"label\":\"Address\",\"label-for\":\"address\"}},[_c('b-form-input',{attrs:{\"id\":\"address\",\"placeholder\":\"Street address\"},model:{value:(_vm.customerForm.address),callback:function ($$v) {_vm.$set(_vm.customerForm, \"address\", $$v)},expression:\"customerForm.address\"}})],1),_c('b-row',[_c('b-col',{attrs:{\"md\":\"6\"}},[_c('b-form-group',{attrs:{\"label\":\"City\",\"label-for\":\"city\"}},[_c('b-form-input',{attrs:{\"id\":\"city\",\"placeholder\":\"City\"},model:{value:(_vm.customerForm.city),callback:function ($$v) {_vm.$set(_vm.customerForm, \"city\", $$v)},expression:\"customerForm.city\"}})],1)],1),_c('b-col',{attrs:{\"md\":\"6\"}},[_c('b-form-group',{attrs:{\"label\":\"Country\",\"label-for\":\"country\"}},[_c('b-form-input',{attrs:{\"id\":\"country\",\"placeholder\":\"Country\"},model:{value:(_vm.customerForm.country),callback:function ($$v) {_vm.$set(_vm.customerForm, \"country\", $$v)},expression:\"customerForm.country\"}})],1)],1)],1),_c('b-row',[_c('b-col',{attrs:{\"md\":\"6\"}},[_c('b-form-group',{attrs:{\"label\":\"Tax ID\",\"label-for\":\"taxId\"}},[_c('b-form-input',{attrs:{\"id\":\"taxId\",\"placeholder\":\"12345678-A\"},model:{value:(_vm.customerForm.taxId),callback:function ($$v) {_vm.$set(_vm.customerForm, \"taxId\", $$v)},expression:\"customerForm.taxId\"}})],1)],1),_c('b-col',{attrs:{\"md\":\"6\"}},[_c('b-form-group',{attrs:{\"label\":\"Credit Limit\",\"label-for\":\"creditLimit\"}},[_c('b-input-group',{attrs:{\"prepend\":\"$\"}},[_c('b-form-input',{attrs:{\"id\":\"creditLimit\",\"type\":\"number\",\"step\":\"0.01\",\"min\":\"0\",\"placeholder\":\"0.00\"},model:{value:(_vm.customerForm.creditLimit),callback:function ($$v) {_vm.$set(_vm.customerForm, \"creditLimit\", _vm._n($$v))},expression:\"customerForm.creditLimit\"}})],1)],1)],1)],1),_c('b-form-group',{attrs:{\"label\":\"Notes\",\"label-for\":\"notes\"}},[_c('b-form-textarea',{attrs:{\"id\":\"notes\",\"rows\":\"3\",\"placeholder\":\"Additional notes...\"},model:{value:(_vm.customerForm.notes),callback:function ($$v) {_vm.$set(_vm.customerForm, \"notes\", $$v)},expression:\"customerForm.notes\"}})],1),(_vm.editingCustomer)?_c('b-form-group',[_c('b-form-checkbox',{model:{value:(_vm.customerForm.active),callback:function ($$v) {_vm.$set(_vm.customerForm, \"active\", $$v)},expression:\"customerForm.active\"}},[_vm._v(\" Active \")])],1):_vm._e()],1)],1),_c('b-modal',{attrs:{\"title\":\"Delete Customer\",\"ok-variant\":\"danger\"},on:{\"ok\":_vm.deleteCustomer},model:{value:(_vm.showDeleteModal),callback:function ($$v) {_vm.showDeleteModal=$$v},expression:\"showDeleteModal\"}},[_c('p',[_vm._v(\" Are you sure you want to delete customer \"),_c('strong',[_vm._v(_vm._s(_vm.customerToDelete && _vm.customerToDelete.name ? _vm.customerToDelete.name : ''))]),_vm._v(\" (\"+_vm._s(_vm.customerToDelete && _vm.customerToDelete.customerCode ? _vm.customerToDelete.customerCode : '')+\")? \")]),_c('p',{staticClass:\"text-danger\"},[_vm._v(\"This action cannot be undone.\")])])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"customer-management-container\">\r\n    <div class=\"page-header\">\r\n      <h2 class=\"mb-0\">Customer Management</h2>\r\n      <div class=\"d-flex align-items-center\">\r\n        <b-button \r\n          v-if=\"isPosUser\" \r\n          variant=\"outline-secondary\" \r\n          @click=\"goBack\" \r\n          class=\"mr-2\"\r\n        >\r\n          <feather-icon icon=\"ArrowLeftIcon\" size=\"16\" class=\"mr-1\" />\r\n          Back\r\n        </b-button>\r\n        <b-button variant=\"outline-primary\" @click=\"loadCustomers\" class=\"mr-2\">\r\n          <feather-icon icon=\"RefreshCwIcon\" size=\"16\" />\r\n          Refresh\r\n        </b-button>\r\n        <b-button variant=\"primary\" @click=\"openAddCustomerModal\" disabled>\r\n          <feather-icon icon=\"PlusIcon\" size=\"16\" />\r\n          Add Customer\r\n        </b-button>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- Filters -->\r\n    <b-card class=\"mb-3\">\r\n      <b-row>\r\n        <b-col cols=\"12\" lg=\"6\">\r\n          <b-form-group label=\"Search\" label-for=\"search-input\" class=\"mb-lg-0\">\r\n            <b-input-group>\r\n              <b-form-input\r\n                id=\"search-input\"\r\n                v-model=\"searchTerm\"\r\n                placeholder=\"Customer Code, Name, Email, Phone...\"\r\n              />\r\n              <b-input-group-append>\r\n                <b-button variant=\"outline-secondary\" @click=\"clearSearch\" :disabled=\"!searchTerm\">\r\n                  <feather-icon icon=\"XIcon\" size=\"14\" />\r\n                </b-button>\r\n              </b-input-group-append>\r\n            </b-input-group>\r\n          </b-form-group>\r\n        </b-col>\r\n        <b-col cols=\"12\" lg=\"6\">\r\n          <b-row>\r\n            <b-col cols=\"12\" md=\"6\">\r\n              <b-form-group label=\"Filter by Status\" label-for=\"status-filter\" class=\"mb-md-0\">\r\n                <b-form-select\r\n                  id=\"status-filter\"\r\n                  v-model=\"statusFilter\"\r\n                  :options=\"statusFilterOptions\"\r\n                />\r\n              </b-form-group>\r\n            </b-col>\r\n            <b-col cols=\"12\" md=\"6\">\r\n              <b-form-group label=\"Filter by Default\" label-for=\"default-filter\" class=\"mb-md-0\">\r\n                <b-form-checkbox\r\n                  id=\"default-filter\"\r\n                  v-model=\"showDefaultOnly\"\r\n                  class=\"mt-2\"\r\n                >\r\n                  Show Default Only\r\n                </b-form-checkbox>\r\n              </b-form-group>\r\n            </b-col>\r\n          </b-row>\r\n        </b-col>\r\n      </b-row>\r\n      <b-row class=\"mt-1\">\r\n        <b-col cols=\"12\" class=\"d-flex align-items-end justify-content-lg-end\">\r\n          <small class=\"text-muted\">\r\n            Showing {{ totalRows }} {{ totalRows === 1 ? 'customer' : 'customers' }}\r\n          </small>\r\n        </b-col>\r\n      </b-row>\r\n    </b-card>\r\n\r\n    <!-- Customers Table -->\r\n    <b-card>\r\n      <b-table\r\n        :items=\"paginatedCustomers\"\r\n        :fields=\"customerFields\"\r\n        striped\r\n        hover\r\n        responsive\r\n        :busy=\"loading\"\r\n        show-empty\r\n      >\r\n        <template #table-busy>\r\n          <div class=\"text-center my-2\">\r\n            <b-spinner class=\"align-middle\"></b-spinner>\r\n            <strong>Loading...</strong>\r\n          </div>\r\n        </template>\r\n\r\n        <template #empty>\r\n          <div class=\"text-center py-4\">\r\n            <feather-icon icon=\"InboxIcon\" size=\"48\" class=\"text-muted mb-2\" />\r\n            <p class=\"text-muted mb-0\">No customers found.</p>\r\n          </div>\r\n        </template>\r\n\r\n        <template #cell(active)=\"row\">\r\n          <b-badge :variant=\"row.item.active ? 'success' : 'danger'\">\r\n            {{ row.item.active ? 'Active' : 'Inactive' }}\r\n          </b-badge>\r\n        </template>\r\n\r\n        <template #cell(isDefault)=\"row\">\r\n          <b-badge :variant=\"row.item.isDefault ? 'success' : 'secondary'\">\r\n            {{ row.item.isDefault ? 'Default' : 'No' }}\r\n          </b-badge>\r\n        </template>\r\n\r\n        <template #cell(customerCode)=\"row\">\r\n          <strong>{{ row.item.customerCode }}</strong>\r\n        </template>\r\n\r\n        <template #cell(contact)=\"row\">\r\n          <div v-if=\"row.item.phone || row.item.email\">\r\n            <div v-if=\"row.item.phone\" class=\"small\">\r\n              <feather-icon icon=\"PhoneIcon\" size=\"12\" class=\"mr-1\" />\r\n              {{ row.item.phone }}\r\n            </div>\r\n            <div v-if=\"row.item.email\" class=\"small\">\r\n              <feather-icon icon=\"MailIcon\" size=\"12\" class=\"mr-1\" />\r\n              {{ row.item.email }}\r\n            </div>\r\n          </div>\r\n          <span v-else class=\"text-muted small\">-</span>\r\n        </template>\r\n \r\n        <template #cell(address)=\"row\">\r\n          <div class=\"small\" v-if=\"row.item.address || row.item.city || row.item.country\">\r\n            <div v-if=\"row.item.address\">{{ row.item.address }}</div>\r\n            <div v-if=\"row.item.city || row.item.country\">\r\n              {{ [row.item.city, row.item.country].filter(Boolean).join(', ') }}\r\n            </div>\r\n          </div>\r\n          <span v-else class=\"text-muted small\">-</span>\r\n        </template>\r\n \r\n        <template #cell(actions)=\"row\">\r\n          <div class=\"d-flex justify-content-end\">\r\n            <b-button \r\n              variant=\"outline-primary\" \r\n              size=\"sm\" \r\n              @click=\"setAsDefaultCustomer(row.item)\"\r\n              :disabled=\"row.item.isDefault\"\r\n            >\r\n              <feather-icon icon=\"StarIcon\" size=\"14\" />\r\n              Set as Default\r\n            </b-button>\r\n          </div>\r\n        </template>\r\n      </b-table>\r\n\r\n      <div class=\"mt-3\">\r\n        <b-row align-v=\"center\">\r\n          <b-col cols=\"12\" md=\"6\" class=\"mb-2 mb-md-0\">\r\n            <div class=\"d-flex align-items-center\">\r\n              <label for=\"customers-per-page\" class=\"mr-2 mb-0\">Items per page:</label>\r\n              <b-form-select\r\n                id=\"customers-per-page\"\r\n                v-model=\"perPage\"\r\n                :options=\"perPageOptions\"\r\n                size=\"sm\"\r\n                style=\"width: auto;\"\r\n              />\r\n            </div>\r\n          </b-col>\r\n          <b-col cols=\"12\" md=\"6\">\r\n            <div class=\"text-center text-md-right\">\r\n              <small class=\"text-muted\">\r\n                Showing {{ startIndex }} to {{ endIndex }} of {{ totalRows }} customers\r\n              </small>\r\n            </div>\r\n          </b-col>\r\n        </b-row>\r\n        <div class=\"d-flex justify-content-center mt-2\">\r\n          <b-pagination\r\n            v-model=\"currentPage\"\r\n            :total-rows=\"totalRows\"\r\n            :per-page=\"perPage\"\r\n            align=\"center\"\r\n          />\r\n        </div>\r\n      </div>\r\n    </b-card>\r\n\r\n    <!-- Add/Edit Customer Modal -->\r\n    <b-modal\r\n      v-model=\"showAddCustomerModal\"\r\n      :title=\"editingCustomer ? 'Edit Customer' : 'Add New Customer'\"\r\n      size=\"lg\"\r\n      @ok=\"saveCustomer\"\r\n      @cancel=\"resetCustomerForm\"\r\n      :ok-disabled=\"!canSaveCustomer\"\r\n    >\r\n      <b-form>\r\n        <b-row>\r\n          <b-col md=\"6\" v-if=\"editingCustomer\">\r\n            <b-form-group label=\"Customer Code\" label-for=\"customerCode\">\r\n              <b-form-input\r\n                id=\"customerCode\"\r\n                v-model=\"customerForm.customerCode\"\r\n                disabled\r\n                placeholder=\"Auto-generated\"\r\n                readonly\r\n              />\r\n              <small class=\"form-text text-muted\">\r\n                Customer code is auto-generated and cannot be changed\r\n              </small>\r\n            </b-form-group>\r\n          </b-col>\r\n          <b-col md=\"6\" v-else>\r\n            <b-form-group label=\"Customer Code\" label-for=\"customerCode\">\r\n              <b-form-input\r\n                id=\"customerCode\"\r\n                value=\"Auto-generated on save\"\r\n                disabled\r\n                placeholder=\"Will be auto-generated\"\r\n                readonly\r\n              />\r\n              <small class=\"form-text text-muted\">\r\n                Customer code will be auto-generated when you save\r\n              </small>\r\n            </b-form-group>\r\n          </b-col>\r\n          <b-col md=\"6\">\r\n            <b-form-group label=\"Name\" label-for=\"name\">\r\n              <b-form-input\r\n                id=\"name\"\r\n                v-model=\"customerForm.name\"\r\n                required\r\n                placeholder=\"Customer Name\"\r\n                :state=\"customerForm.name && customerForm.name.trim().length > 0 ? null : false\"\r\n              />\r\n              <b-form-invalid-feedback>\r\n                Name is required\r\n              </b-form-invalid-feedback>\r\n            </b-form-group>\r\n          </b-col>\r\n        </b-row>\r\n\r\n        <b-row>\r\n          <b-col md=\"6\">\r\n            <b-form-group label=\"Email\" label-for=\"email\">\r\n              <b-form-input\r\n                id=\"email\"\r\n                v-model=\"customerForm.email\"\r\n                type=\"email\"\r\n                placeholder=\"customer@example.com\"\r\n              />\r\n            </b-form-group>\r\n          </b-col>\r\n          <b-col md=\"6\">\r\n            <b-form-group label=\"Phone\" label-for=\"phone\">\r\n              <b-form-input\r\n                id=\"phone\"\r\n                v-model=\"customerForm.phone\"\r\n                required\r\n                placeholder=\"+216 98 123 456\"\r\n                :state=\"customerForm.phone && customerForm.phone.trim().length > 0 ? null : false\"\r\n              />\r\n              <b-form-invalid-feedback>\r\n                Phone is required\r\n              </b-form-invalid-feedback>\r\n            </b-form-group>\r\n          </b-col>\r\n        </b-row>\r\n\r\n        <b-form-group label=\"Address\" label-for=\"address\">\r\n          <b-form-input\r\n            id=\"address\"\r\n            v-model=\"customerForm.address\"\r\n            placeholder=\"Street address\"\r\n          />\r\n        </b-form-group>\r\n\r\n        <b-row>\r\n          <b-col md=\"6\">\r\n            <b-form-group label=\"City\" label-for=\"city\">\r\n              <b-form-input\r\n                id=\"city\"\r\n                v-model=\"customerForm.city\"\r\n                placeholder=\"City\"\r\n              />\r\n            </b-form-group>\r\n          </b-col>\r\n          <b-col md=\"6\">\r\n            <b-form-group label=\"Country\" label-for=\"country\">\r\n              <b-form-input\r\n                id=\"country\"\r\n                v-model=\"customerForm.country\"\r\n                placeholder=\"Country\"\r\n              />\r\n            </b-form-group>\r\n          </b-col>\r\n        </b-row>\r\n\r\n        <b-row>\r\n          <b-col md=\"6\">\r\n            <b-form-group label=\"Tax ID\" label-for=\"taxId\">\r\n              <b-form-input\r\n                id=\"taxId\"\r\n                v-model=\"customerForm.taxId\"\r\n                placeholder=\"12345678-A\"\r\n              />\r\n            </b-form-group>\r\n          </b-col>\r\n          <b-col md=\"6\">\r\n            <b-form-group label=\"Credit Limit\" label-for=\"creditLimit\">\r\n              <b-input-group prepend=\"$\">\r\n                <b-form-input\r\n                  id=\"creditLimit\"\r\n                  v-model.number=\"customerForm.creditLimit\"\r\n                  type=\"number\"\r\n                  step=\"0.01\"\r\n                  min=\"0\"\r\n                  placeholder=\"0.00\"\r\n                />\r\n              </b-input-group>\r\n            </b-form-group>\r\n          </b-col>\r\n        </b-row>\r\n\r\n        <b-form-group label=\"Notes\" label-for=\"notes\">\r\n          <b-form-textarea\r\n            id=\"notes\"\r\n            v-model=\"customerForm.notes\"\r\n            rows=\"3\"\r\n            placeholder=\"Additional notes...\"\r\n          />\r\n        </b-form-group>\r\n\r\n        <b-form-group v-if=\"editingCustomer\">\r\n          <b-form-checkbox v-model=\"customerForm.active\">\r\n            Active\r\n          </b-form-checkbox>\r\n        </b-form-group>\r\n      </b-form>\r\n    </b-modal>\r\n\r\n    <!-- Delete Confirmation Modal -->\r\n    <b-modal\r\n      v-model=\"showDeleteModal\"\r\n      title=\"Delete Customer\"\r\n      @ok=\"deleteCustomer\"\r\n      ok-variant=\"danger\"\r\n    >\r\n      <p>\r\n        Are you sure you want to delete customer\r\n        <strong>{{ customerToDelete && customerToDelete.name ? customerToDelete.name : '' }}</strong>\r\n        ({{ customerToDelete && customerToDelete.customerCode ? customerToDelete.customerCode : '' }})?\r\n      </p>\r\n      <p class=\"text-danger\">This action cannot be undone.</p>\r\n    </b-modal>\r\n\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport ToastificationContent from '@core/components/toastification/ToastificationContent.vue'\r\nimport { getUserData } from '@/auth/utils'\r\n\r\nexport default {\r\n  name: 'CustomerManagement',\r\n  data() {\r\n    return {\r\n      customers: [],\r\n      loading: false,\r\n      searchTerm: '',\r\n      statusFilter: 'all',\r\n      statusFilterOptions: [\r\n        { value: 'all', text: 'All' },\r\n        { value: 'active', text: 'Active Only' },\r\n        { value: 'inactive', text: 'Inactive Only' }\r\n      ],\r\n      showDefaultOnly: false,\r\n      currentPage: 1,\r\n      perPage: 10,\r\n      perPageOptions: [\r\n        { value: 10, text: '10' },\r\n        { value: 20, text: '20' },\r\n        { value: 50, text: '50' },\r\n        { value: 100, text: '100' }\r\n      ],\r\n      showAddCustomerModal: false,\r\n      showDeleteModal: false,\r\n      editingCustomer: null,\r\n      customerToDelete: null,\r\n      paymentMethods: [],\r\n      pendingTicketsCount: 0,\r\n      customerForm: {\r\n        name: '',\r\n        email: '',\r\n        phone: '',\r\n        address: '',\r\n        city: '',\r\n        country: '',\r\n        taxId: '',\r\n        creditLimit: null,\r\n        notes: '',\r\n        active: true\r\n      },\r\n      customerFields: [\r\n        { key: 'customerCode', label: 'Code', sortable: true },\r\n        { key: 'name', label: 'Name', sortable: true },\r\n        { key: 'contact', label: 'Contact' },\r\n        { key: 'address', label: 'Address' },\r\n        { key: 'active', label: 'Status', sortable: true },\r\n        { key: 'isDefault', label: 'Default', sortable: true },\r\n        { key: 'actions', label: 'Actions', sortable: false, thClass: 'text-right', tdClass: 'text-right' }\r\n      ]\r\n    }\r\n  },\r\n  computed: {\r\n    isPosUser() {\r\n      const userData = getUserData()\r\n      return userData && userData.role === 'POS_USER'\r\n    },\r\n    filteredCustomers() {\r\n      let filtered = this.customers\r\n\r\n      // Filter by status\r\n      if (this.statusFilter === 'active') {\r\n        filtered = filtered.filter(customer => customer.active === true)\r\n      } else if (this.statusFilter === 'inactive') {\r\n        filtered = filtered.filter(customer => customer.active === false)\r\n      }\r\n\r\n      // Filter by default status\r\n      if (this.showDefaultOnly) {\r\n        filtered = filtered.filter(customer => customer.isDefault === true)\r\n      }\r\n\r\n      // Filter by search term\r\n      const term = this.searchTerm.trim().toLowerCase()\r\n      if (term) {\r\n        filtered = filtered.filter(customer => {\r\n          return [\r\n            customer.customerCode,\r\n            customer.name,\r\n            customer.email,\r\n            customer.phone,\r\n            customer.city,\r\n            customer.country,\r\n            customer.taxId\r\n          ].some(field => field && field.toString().toLowerCase().includes(term))\r\n        })\r\n      }\r\n\r\n      return filtered\r\n    },\r\n    totalRows() {\r\n      return this.filteredCustomers.length\r\n    },\r\n    paginatedCustomers() {\r\n      const start = (this.currentPage - 1) * this.perPage\r\n      return this.filteredCustomers.slice(start, start + this.perPage)\r\n    },\r\n    startIndex() {\r\n      return this.totalRows === 0 ? 0 : (this.currentPage - 1) * this.perPage + 1\r\n    },\r\n    endIndex() {\r\n      return Math.min(this.currentPage * this.perPage, this.totalRows)\r\n    },\r\n    canSaveCustomer() {\r\n      return this.customerForm.name && \r\n             this.customerForm.name.trim().length > 0 &&\r\n             this.customerForm.phone && \r\n             this.customerForm.phone.trim().length > 0\r\n    },\r\n    paymentMethodOptions() {\r\n      return this.paymentMethods.filter(pm => pm.active !== false)\r\n    }\r\n  },\r\n  watch: {\r\n    searchTerm() {\r\n      this.currentPage = 1\r\n    },\r\n    statusFilter() {\r\n      this.currentPage = 1\r\n    },\r\n    showDefaultOnly() {\r\n      this.currentPage = 1\r\n    },\r\n    perPage() {\r\n      this.currentPage = 1\r\n    },\r\n    filteredCustomers(newList) {\r\n      const maxPage = Math.max(1, Math.ceil(newList.length / this.perPage))\r\n      if (this.currentPage > maxPage) {\r\n        this.currentPage = maxPage\r\n      }\r\n    }\r\n  },\r\n  mounted() {\r\n    this.loadCustomers()\r\n    \r\n    // Only load payment methods for POS users\r\n    if (this.isPosUser) {\r\n      this.loadPaymentMethods()\r\n      this.loadPendingTicketsCount()\r\n    }\r\n  },\r\n  methods: {\r\n    async loadCustomers() {\r\n      this.loading = true\r\n      try {\r\n        const response = await this.$http.get('/customer')\r\n        this.customers = response.data\r\n        this.totalRows = response.data.length\r\n      } catch (error) {\r\n        console.error('Error loading customers:', error)\r\n        this.$toast({\r\n          component: ToastificationContent,\r\n          props: {\r\n            title: 'Error',\r\n            icon: 'AlertCircleIcon',\r\n            text: 'Failed to load customers',\r\n            variant: 'danger'\r\n          }\r\n        })\r\n      } finally {\r\n        this.loading = false\r\n      }\r\n    },\r\n    openAddCustomerModal() {\r\n      this.resetCustomerForm()\r\n      this.showAddCustomerModal = true\r\n    },\r\n    editCustomer(customer) {\r\n      this.editingCustomer = customer\r\n      this.customerForm = {\r\n        customerCode: customer.customerCode || '',\r\n        name: customer.name || '',\r\n        email: customer.email || '',\r\n        phone: customer.phone || '',\r\n        address: customer.address || '',\r\n        city: customer.city || '',\r\n        country: customer.country || '',\r\n        taxId: customer.taxId || '',\r\n        creditLimit: customer.creditLimit || null,\r\n        notes: customer.notes || '',\r\n        active: customer.active !== false\r\n      }\r\n      this.showAddCustomerModal = true\r\n    },\r\n    async saveCustomer() {\r\n      if (!this.canSaveCustomer) {\r\n        this.$toast({\r\n          component: ToastificationContent,\r\n          props: {\r\n            title: 'Validation Error',\r\n            icon: 'AlertCircleIcon',\r\n            text: 'Please fill in required fields (Name and Phone)',\r\n            variant: 'warning'\r\n          }\r\n        })\r\n        return\r\n      }\r\n\r\n      try {\r\n        // Prepare customer data - don't send customerCode for new customers (it will be auto-generated)\r\n        const customerData = { ...this.customerForm }\r\n        if (!this.editingCustomer) {\r\n          // Remove customerCode for new customers - backend will generate it\r\n          delete customerData.customerCode\r\n        }\r\n\r\n        let response\r\n        if (this.editingCustomer) {\r\n          // Update existing customer\r\n          response = await this.$http.put(`/customer/${this.editingCustomer.id}`, customerData)\r\n        } else {\r\n          // Create new customer - customerCode will be auto-generated by backend\r\n          response = await this.$http.post('/customer', customerData)\r\n        }\r\n\r\n        if (response.status === 200 || response.status === 201) {\r\n          this.$toast({\r\n            component: ToastificationContent,\r\n            props: {\r\n              title: 'Success',\r\n              icon: 'CheckCircleIcon',\r\n              text: `Customer ${this.editingCustomer ? 'updated' : 'created'} successfully`,\r\n              variant: 'success'\r\n            }\r\n          })\r\n          this.resetCustomerForm()\r\n          this.showAddCustomerModal = false\r\n          await this.loadCustomers()\r\n        }\r\n      } catch (error) {\r\n        console.error('Error saving customer:', error)\r\n        let errorMessage = `Failed to ${this.editingCustomer ? 'update' : 'create'} customer. Please try again.`\r\n        if (error.response && error.response.data) {\r\n          errorMessage = error.response.data || errorMessage\r\n        }\r\n        this.$toast({\r\n          component: ToastificationContent,\r\n          props: {\r\n            title: 'Error',\r\n            icon: 'XIcon',\r\n            text: errorMessage,\r\n            variant: 'danger'\r\n          }\r\n        })\r\n      }\r\n    },\r\n    isPassengerCustomer(customer) {\r\n      return customer && customer.customerCode === 'PASSENGER'\r\n    },\r\n    confirmDeleteCustomer(customer) {\r\n      // Prevent deletion of passenger customer\r\n      if (this.isPassengerCustomer(customer)) {\r\n        this.$toast({\r\n          component: ToastificationContent,\r\n          props: {\r\n            title: 'Cannot Delete',\r\n            icon: 'AlertCircleIcon',\r\n            text: 'The passenger customer cannot be deleted as it is required by the system.',\r\n            variant: 'warning'\r\n          }\r\n        })\r\n        return\r\n      }\r\n      \r\n      this.customerToDelete = customer\r\n      this.showDeleteModal = true\r\n    },\r\n    async deleteCustomer() {\r\n      if (!this.customerToDelete) return\r\n\r\n      // Double check - prevent deletion of passenger customer\r\n      if (this.isPassengerCustomer(this.customerToDelete)) {\r\n        this.$toast({\r\n          component: ToastificationContent,\r\n          props: {\r\n            title: 'Cannot Delete',\r\n            icon: 'AlertCircleIcon',\r\n            text: 'The passenger customer cannot be deleted as it is required by the system.',\r\n            variant: 'warning'\r\n          }\r\n        })\r\n        this.showDeleteModal = false\r\n        this.customerToDelete = null\r\n        return\r\n      }\r\n\r\n      try {\r\n        const response = await this.$http.delete(`/customer/${this.customerToDelete.id}`)\r\n        if (response.status === 204 || response.status === 200) {\r\n          this.$toast({\r\n            component: ToastificationContent,\r\n            props: {\r\n              title: 'Success',\r\n              icon: 'CheckCircleIcon',\r\n              text: 'Customer deleted successfully',\r\n              variant: 'success'\r\n            }\r\n          })\r\n          this.showDeleteModal = false\r\n          this.customerToDelete = null\r\n          await this.loadCustomers()\r\n        }\r\n      } catch (error) {\r\n        console.error('Error deleting customer:', error)\r\n        let errorMessage = 'Failed to delete customer. Please try again.'\r\n        if (error.response && error.response.data) {\r\n          errorMessage = error.response.data || errorMessage\r\n        }\r\n        this.$toast({\r\n          component: ToastificationContent,\r\n          props: {\r\n            title: 'Error',\r\n            icon: 'XIcon',\r\n            text: errorMessage,\r\n            variant: 'danger'\r\n          }\r\n        })\r\n      }\r\n    },\r\n    resetCustomerForm() {\r\n      this.editingCustomer = null\r\n      this.customerForm = {\r\n        name: '',\r\n        email: '',\r\n        phone: '',\r\n        address: '',\r\n        city: '',\r\n        country: '',\r\n        taxId: '',\r\n        creditLimit: null,\r\n        notes: '',\r\n        active: true\r\n      }\r\n    },\r\n    clearSearch() {\r\n      this.searchTerm = ''\r\n    },\r\n    resetFilters() {\r\n      this.searchTerm = ''\r\n      this.statusFilter = 'all'\r\n    },\r\n    goBack() {\r\n      // Check if there's a return route in query params\r\n      const returnTo = this.$route.query.returnTo\r\n      \r\n      if (returnTo) {\r\n        // Navigate to the specified return route\r\n        this.$router.push({ name: returnTo })\r\n      } else {\r\n        // Try to go back in history, fallback to item selection\r\n        if (window.history.length > 1) {\r\n          this.$router.go(-1)\r\n        } else {\r\n          this.$router.push({ name: 'pos-item-selection' })\r\n        }\r\n      }\r\n    },\r\n    async loadPendingTicketsCount() {\r\n      try {\r\n        const response = await this.$http.get('/sales-header/pending-sales')\r\n        if (response.data) {\r\n          this.pendingTicketsCount = response.data.length || 0\r\n        }\r\n      } catch (error) {\r\n        console.error('Error loading pending tickets count:', error)\r\n        this.pendingTicketsCount = 0\r\n      }\r\n    },\r\n    loadPaymentMethods() {\r\n      this.$http.get('/payment-method')\r\n        .then(response => {\r\n          this.paymentMethods = response.data.filter(pm => pm.active !== false)\r\n        })\r\n        .catch(error => {\r\n          console.error('Error loading payment methods:', error)\r\n          this.paymentMethods = [\r\n            { id: 1, name: 'Client Espce', type: 'CLIENT_ESPECES', active: true },\r\n            { id: 2, name: 'Return Voucher', type: 'RETURN_VOUCHER', active: true }\r\n          ]\r\n        })\r\n    },\r\n    formatPrice(price) {\r\n      if (!price && price !== 0) return '0.00'\r\n      return parseFloat(price).toFixed(2)\r\n    },\r\n    async setAsDefaultCustomer(customer) {\r\n      try {\r\n        const { value: confirmed } = await this.$swal({\r\n          title: 'Set as Default Customer?',\r\n          text: `Are you sure you want to set \"${customer.name}\" (${customer.customerCode}) as the default customer?`,\r\n          icon: 'question',\r\n          showCancelButton: true,\r\n          confirmButtonText: 'Yes, set as default',\r\n          cancelButtonText: 'Cancel',\r\n          customClass: {\r\n            confirmButton: 'btn btn-primary',\r\n            cancelButton: 'btn btn-outline-secondary ml-1',\r\n          },\r\n          buttonsStyling: false,\r\n        })\r\n\r\n        if (!confirmed) {\r\n          return\r\n        }\r\n\r\n        this.loading = true\r\n        const response = await this.$http.put(`/customer/${customer.id}/set-default`, {})\r\n\r\n        if (response.status === 200) {\r\n          this.$toast({\r\n            component: ToastificationContent,\r\n            props: {\r\n              title: 'Success',\r\n              icon: 'CheckCircleIcon',\r\n              text: 'Default customer updated successfully',\r\n              variant: 'success'\r\n            }\r\n          })\r\n          await this.loadCustomers()\r\n        }\r\n      } catch (error) {\r\n        console.error('Error setting default customer:', error)\r\n        let errorMessage = 'Failed to set default customer'\r\n        if (error.response && error.response.data) {\r\n          errorMessage = error.response.data || errorMessage\r\n        }\r\n        this.$toast({\r\n          component: ToastificationContent,\r\n          props: {\r\n            title: 'Error',\r\n            icon: 'XIcon',\r\n            text: errorMessage,\r\n            variant: 'danger'\r\n          }\r\n        })\r\n      } finally {\r\n        this.loading = false\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.customer-management-container {\r\n  padding: 20px;\r\n}\r\n\r\n.page-header {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  margin-bottom: 20px;\r\n}\r\n\r\n.page-header h2 {\r\n  margin: 0;\r\n}\r\n\r\n@media (max-width: 575.98px) {\r\n  .page-header {\r\n    flex-direction: column;\r\n    align-items: stretch;\r\n    gap: 15px;\r\n  }\r\n\r\n  .page-header .btn {\r\n    width: 100%;\r\n  }\r\n}\r\n</style>\r\n\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CustomerManagement.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CustomerManagement.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./CustomerManagement.vue?vue&type=template&id=5f5f6c38&scoped=true\"\nimport script from \"./CustomerManagement.vue?vue&type=script&lang=js\"\nexport * from \"./CustomerManagement.vue?vue&type=script&lang=js\"\nimport style0 from \"./CustomerManagement.vue?vue&type=style&index=0&id=5f5f6c38&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5f5f6c38\",\n  null\n  \n)\n\nexport default component.exports","'use strict';\nvar $ = require('../internals/export');\nvar toInteger = require('../internals/to-integer');\nvar thisNumberValue = require('../internals/this-number-value');\nvar repeat = require('../internals/string-repeat');\nvar fails = require('../internals/fails');\n\nvar nativeToFixed = 1.0.toFixed;\nvar floor = Math.floor;\n\nvar pow = function (x, n, acc) {\n  return n === 0 ? acc : n % 2 === 1 ? pow(x, n - 1, acc * x) : pow(x * x, n / 2, acc);\n};\n\nvar log = function (x) {\n  var n = 0;\n  var x2 = x;\n  while (x2 >= 4096) {\n    n += 12;\n    x2 /= 4096;\n  }\n  while (x2 >= 2) {\n    n += 1;\n    x2 /= 2;\n  } return n;\n};\n\nvar FORCED = nativeToFixed && (\n  0.00008.toFixed(3) !== '0.000' ||\n  0.9.toFixed(0) !== '1' ||\n  1.255.toFixed(2) !== '1.25' ||\n  1000000000000000128.0.toFixed(0) !== '1000000000000000128'\n) || !fails(function () {\n  // V8 ~ Android 4.3-\n  nativeToFixed.call({});\n});\n\n// `Number.prototype.toFixed` method\n// https://tc39.github.io/ecma262/#sec-number.prototype.tofixed\n$({ target: 'Number', proto: true, forced: FORCED }, {\n  // eslint-disable-next-line max-statements\n  toFixed: function toFixed(fractionDigits) {\n    var number = thisNumberValue(this);\n    var fractDigits = toInteger(fractionDigits);\n    var data = [0, 0, 0, 0, 0, 0];\n    var sign = '';\n    var result = '0';\n    var e, z, j, k;\n\n    var multiply = function (n, c) {\n      var index = -1;\n      var c2 = c;\n      while (++index < 6) {\n        c2 += n * data[index];\n        data[index] = c2 % 1e7;\n        c2 = floor(c2 / 1e7);\n      }\n    };\n\n    var divide = function (n) {\n      var index = 6;\n      var c = 0;\n      while (--index >= 0) {\n        c += data[index];\n        data[index] = floor(c / n);\n        c = (c % n) * 1e7;\n      }\n    };\n\n    var dataToString = function () {\n      var index = 6;\n      var s = '';\n      while (--index >= 0) {\n        if (s !== '' || index === 0 || data[index] !== 0) {\n          var t = String(data[index]);\n          s = s === '' ? t : s + repeat.call('0', 7 - t.length) + t;\n        }\n      } return s;\n    };\n\n    if (fractDigits < 0 || fractDigits > 20) throw RangeError('Incorrect fraction digits');\n    // eslint-disable-next-line no-self-compare\n    if (number != number) return 'NaN';\n    if (number <= -1e21 || number >= 1e21) return String(number);\n    if (number < 0) {\n      sign = '-';\n      number = -number;\n    }\n    if (number > 1e-21) {\n      e = log(number * pow(2, 69, 1)) - 69;\n      z = e < 0 ? number * pow(2, -e, 1) : number / pow(2, e, 1);\n      z *= 0x10000000000000;\n      e = 52 - e;\n      if (e > 0) {\n        multiply(0, z);\n        j = fractDigits;\n        while (j >= 7) {\n          multiply(1e7, 0);\n          j -= 7;\n        }\n        multiply(pow(10, j, 1), 0);\n        j = e - 1;\n        while (j >= 23) {\n          divide(1 << 23);\n          j -= 23;\n        }\n        divide(1 << j);\n        multiply(1, 1);\n        divide(2);\n        result = dataToString();\n      } else {\n        multiply(0, z);\n        multiply(1 << -e, 0);\n        result = dataToString() + repeat.call('0', fractDigits);\n      }\n    }\n    if (fractDigits > 0) {\n      k = result.length;\n      result = sign + (k <= fractDigits\n        ? '0.' + repeat.call('0', fractDigits - k) + result\n        : result.slice(0, k - fractDigits) + '.' + result.slice(k - fractDigits));\n    } else {\n      result = sign + result;\n    } return result;\n  }\n});\n"],"sourceRoot":""}