(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-d2595d6e"],{1148:function(t,e,r){"use strict";var s=r("a691"),o=r("1d80");t.exports="".repeat||function(t){var e=String(o(this)),r="",a=s(t);if(a<0||a==1/0)throw RangeError("Wrong number of repetitions");for(;a>0;(a>>>=1)&&(e+=e))1&a&&(r+=e);return r}},"216b":function(t,e,r){},"223c":function(t,e,r){"use strict";r.r(e);var s=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"toastification"},[r("div",{staticClass:"d-flex align-items-start"},[r("b-avatar",{staticClass:"mr-75 flex-shrink-0",attrs:{variant:t.variant,size:"1.8rem"}},[r("feather-icon",{attrs:{icon:t.icon,size:"15"}})],1),r("div",{staticClass:"d-flex flex-grow-1"},[r("div",[t.title?r("h5",{staticClass:"mb-0 font-weight-bolder toastification-title",class:"text-"+t.variant,domProps:{textContent:t._s(t.title)}}):t._e(),t.text?r("small",{staticClass:"d-inline-block text-body",domProps:{textContent:t._s(t.text)}}):t._e()]),r("span",{staticClass:"cursor-pointer toastification-close-icon ml-auto ",on:{click:function(e){return t.$emit("close-toast")}}},[t.hideClose?t._e():r("feather-icon",{staticClass:"text-body",attrs:{icon:"XIcon"}})],1)])],1)])},o=[],a=r("e8a3"),n={components:{BAvatar:a["a"]},props:{variant:{type:String,default:"primary"},icon:{type:String,default:null},title:{type:String,default:null},text:{type:String,default:null},hideClose:{type:Boolean,default:!1}}},i=n,c=(r("2edd"),r("2877")),l=Object(c["a"])(i,s,o,!1,null,"55dd3057",null);e["default"]=l.exports},"2edd":function(t,e,r){"use strict";r("216b")},"36f9":function(t,e,r){},"408a":function(t,e,r){var s=r("c6b6");t.exports=function(t){if("number"!=typeof t&&"Number"!=s(t))throw TypeError("Incorrect invocation");return+t}},"7af3":function(t,e,r){"use strict";r("36f9")},8199:function(t,e,r){"use strict";r.r(e);var s=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"customer-management-container"},[r("div",{staticClass:"page-header"},[r("h2",{staticClass:"mb-0"},[t._v("Customer Management")]),r("div",{staticClass:"d-flex align-items-center"},[t.isPosUser?r("b-button",{staticClass:"mr-2",attrs:{variant:"outline-secondary"},on:{click:t.goBack}},[r("feather-icon",{staticClass:"mr-1",attrs:{icon:"ArrowLeftIcon",size:"16"}}),t._v(" Back ")],1):t._e(),r("b-button",{staticClass:"mr-2",attrs:{variant:"outline-primary"},on:{click:t.loadCustomers}},[r("feather-icon",{attrs:{icon:"RefreshCwIcon",size:"16"}}),t._v(" Refresh ")],1),r("b-button",{attrs:{variant:"primary",disabled:""},on:{click:t.openAddCustomerModal}},[r("feather-icon",{attrs:{icon:"PlusIcon",size:"16"}}),t._v(" Add Customer ")],1)],1)]),r("b-card",{staticClass:"mb-3"},[r("b-row",[r("b-col",{attrs:{cols:"12",lg:"6"}},[r("b-form-group",{staticClass:"mb-lg-0",attrs:{label:"Search","label-for":"search-input"}},[r("b-input-group",[r("b-form-input",{attrs:{id:"search-input",placeholder:"Customer Code, Name, Email, Phone..."},model:{value:t.searchTerm,callback:function(e){t.searchTerm=e},expression:"searchTerm"}}),r("b-input-group-append",[r("b-button",{attrs:{variant:"outline-secondary",disabled:!t.searchTerm},on:{click:t.clearSearch}},[r("feather-icon",{attrs:{icon:"XIcon",size:"14"}})],1)],1)],1)],1)],1),r("b-col",{attrs:{cols:"12",lg:"6"}},[r("b-row",[r("b-col",{attrs:{cols:"12",md:"6"}},[r("b-form-group",{staticClass:"mb-md-0",attrs:{label:"Filter by Status","label-for":"status-filter"}},[r("b-form-select",{attrs:{id:"status-filter",options:t.statusFilterOptions},model:{value:t.statusFilter,callback:function(e){t.statusFilter=e},expression:"statusFilter"}})],1)],1),r("b-col",{attrs:{cols:"12",md:"6"}},[r("b-form-group",{staticClass:"mb-md-0",attrs:{label:"Filter by Default","label-for":"default-filter"}},[r("b-form-checkbox",{staticClass:"mt-2",attrs:{id:"default-filter"},model:{value:t.showDefaultOnly,callback:function(e){t.showDefaultOnly=e},expression:"showDefaultOnly"}},[t._v(" Show Default Only ")])],1)],1)],1)],1)],1),r("b-row",{staticClass:"mt-1"},[r("b-col",{staticClass:"d-flex align-items-end justify-content-lg-end",attrs:{cols:"12"}},[r("small",{staticClass:"text-muted"},[t._v(" Showing "+t._s(t.totalRows)+" "+t._s(1===t.totalRows?"customer":"customers")+" ")])])],1)],1),r("b-card",[r("b-table",{attrs:{items:t.paginatedCustomers,fields:t.customerFields,striped:"",hover:"",responsive:"",busy:t.loading,"show-empty":""},scopedSlots:t._u([{key:"table-busy",fn:function(){return[r("div",{staticClass:"text-center my-2"},[r("b-spinner",{staticClass:"align-middle"}),r("strong",[t._v("Loading...")])],1)]},proxy:!0},{key:"empty",fn:function(){return[r("div",{staticClass:"text-center py-4"},[r("feather-icon",{staticClass:"text-muted mb-2",attrs:{icon:"InboxIcon",size:"48"}}),r("p",{staticClass:"text-muted mb-0"},[t._v("No customers found.")])],1)]},proxy:!0},{key:"cell(active)",fn:function(e){return[r("b-badge",{attrs:{variant:e.item.active?"success":"danger"}},[t._v(" "+t._s(e.item.active?"Active":"Inactive")+" ")])]}},{key:"cell(isDefault)",fn:function(e){return[r("b-badge",{attrs:{variant:e.item.isDefault?"success":"secondary"}},[t._v(" "+t._s(e.item.isDefault?"Default":"No")+" ")])]}},{key:"cell(customerCode)",fn:function(e){return[r("strong",[t._v(t._s(e.item.customerCode))])]}},{key:"cell(contact)",fn:function(e){return[e.item.phone||e.item.email?r("div",[e.item.phone?r("div",{staticClass:"small"},[r("feather-icon",{staticClass:"mr-1",attrs:{icon:"PhoneIcon",size:"12"}}),t._v(" "+t._s(e.item.phone)+" ")],1):t._e(),e.item.email?r("div",{staticClass:"small"},[r("feather-icon",{staticClass:"mr-1",attrs:{icon:"MailIcon",size:"12"}}),t._v(" "+t._s(e.item.email)+" ")],1):t._e()]):r("span",{staticClass:"text-muted small"},[t._v("-")])]}},{key:"cell(address)",fn:function(e){return[e.item.address||e.item.city||e.item.country?r("div",{staticClass:"small"},[e.item.address?r("div",[t._v(t._s(e.item.address))]):t._e(),e.item.city||e.item.country?r("div",[t._v(" "+t._s([e.item.city,e.item.country].filter(Boolean).join(", "))+" ")]):t._e()]):r("span",{staticClass:"text-muted small"},[t._v("-")])]}},{key:"cell(actions)",fn:function(e){return[r("div",{staticClass:"d-flex justify-content-end"},[r("b-button",{attrs:{variant:"outline-primary",size:"sm",disabled:e.item.isDefault},on:{click:function(r){return t.setAsDefaultCustomer(e.item)}}},[r("feather-icon",{attrs:{icon:"StarIcon",size:"14"}}),t._v(" Set as Default ")],1)],1)]}}])}),r("div",{staticClass:"mt-3"},[r("b-row",{attrs:{"align-v":"center"}},[r("b-col",{staticClass:"mb-2 mb-md-0",attrs:{cols:"12",md:"6"}},[r("div",{staticClass:"d-flex align-items-center"},[r("label",{staticClass:"mr-2 mb-0",attrs:{for:"customers-per-page"}},[t._v("Items per page:")]),r("b-form-select",{staticStyle:{width:"auto"},attrs:{id:"customers-per-page",options:t.perPageOptions,size:"sm"},model:{value:t.perPage,callback:function(e){t.perPage=e},expression:"perPage"}})],1)]),r("b-col",{attrs:{cols:"12",md:"6"}},[r("div",{staticClass:"text-center text-md-right"},[r("small",{staticClass:"text-muted"},[t._v(" Showing "+t._s(t.startIndex)+" to "+t._s(t.endIndex)+" of "+t._s(t.totalRows)+" customers ")])])])],1),r("div",{staticClass:"d-flex justify-content-center mt-2"},[r("b-pagination",{attrs:{"total-rows":t.totalRows,"per-page":t.perPage,align:"center"},model:{value:t.currentPage,callback:function(e){t.currentPage=e},expression:"currentPage"}})],1)],1)],1),r("b-modal",{attrs:{title:t.editingCustomer?"Edit Customer":"Add New Customer",size:"lg","ok-disabled":!t.canSaveCustomer},on:{ok:t.saveCustomer,cancel:t.resetCustomerForm},model:{value:t.showAddCustomerModal,callback:function(e){t.showAddCustomerModal=e},expression:"showAddCustomerModal"}},[r("b-form",[r("b-row",[t.editingCustomer?r("b-col",{attrs:{md:"6"}},[r("b-form-group",{attrs:{label:"Customer Code","label-for":"customerCode"}},[r("b-form-input",{attrs:{id:"customerCode",disabled:"",placeholder:"Auto-generated",readonly:""},model:{value:t.customerForm.customerCode,callback:function(e){t.$set(t.customerForm,"customerCode",e)},expression:"customerForm.customerCode"}}),r("small",{staticClass:"form-text text-muted"},[t._v(" Customer code is auto-generated and cannot be changed ")])],1)],1):r("b-col",{attrs:{md:"6"}},[r("b-form-group",{attrs:{label:"Customer Code","label-for":"customerCode"}},[r("b-form-input",{attrs:{id:"customerCode",value:"Auto-generated on save",disabled:"",placeholder:"Will be auto-generated",readonly:""}}),r("small",{staticClass:"form-text text-muted"},[t._v(" Customer code will be auto-generated when you save ")])],1)],1),r("b-col",{attrs:{md:"6"}},[r("b-form-group",{attrs:{label:"Name","label-for":"name"}},[r("b-form-input",{attrs:{id:"name",required:"",placeholder:"Customer Name",state:!!(t.customerForm.name&&t.customerForm.name.trim().length>0)&&null},model:{value:t.customerForm.name,callback:function(e){t.$set(t.customerForm,"name",e)},expression:"customerForm.name"}}),r("b-form-invalid-feedback",[t._v(" Name is required ")])],1)],1)],1),r("b-row",[r("b-col",{attrs:{md:"6"}},[r("b-form-group",{attrs:{label:"Email","label-for":"email"}},[r("b-form-input",{attrs:{id:"email",type:"email",placeholder:"customer@example.com"},model:{value:t.customerForm.email,callback:function(e){t.$set(t.customerForm,"email",e)},expression:"customerForm.email"}})],1)],1),r("b-col",{attrs:{md:"6"}},[r("b-form-group",{attrs:{label:"Phone","label-for":"phone"}},[r("b-form-input",{attrs:{id:"phone",required:"",placeholder:"+216 98 123 456",state:!!(t.customerForm.phone&&t.customerForm.phone.trim().length>0)&&null},model:{value:t.customerForm.phone,callback:function(e){t.$set(t.customerForm,"phone",e)},expression:"customerForm.phone"}}),r("b-form-invalid-feedback",[t._v(" Phone is required ")])],1)],1)],1),r("b-form-group",{attrs:{label:"Address","label-for":"address"}},[r("b-form-input",{attrs:{id:"address",placeholder:"Street address"},model:{value:t.customerForm.address,callback:function(e){t.$set(t.customerForm,"address",e)},expression:"customerForm.address"}})],1),r("b-row",[r("b-col",{attrs:{md:"6"}},[r("b-form-group",{attrs:{label:"City","label-for":"city"}},[r("b-form-input",{attrs:{id:"city",placeholder:"City"},model:{value:t.customerForm.city,callback:function(e){t.$set(t.customerForm,"city",e)},expression:"customerForm.city"}})],1)],1),r("b-col",{attrs:{md:"6"}},[r("b-form-group",{attrs:{label:"Country","label-for":"country"}},[r("b-form-input",{attrs:{id:"country",placeholder:"Country"},model:{value:t.customerForm.country,callback:function(e){t.$set(t.customerForm,"country",e)},expression:"customerForm.country"}})],1)],1)],1),r("b-row",[r("b-col",{attrs:{md:"6"}},[r("b-form-group",{attrs:{label:"Tax ID","label-for":"taxId"}},[r("b-form-input",{attrs:{id:"taxId",placeholder:"12345678-A"},model:{value:t.customerForm.taxId,callback:function(e){t.$set(t.customerForm,"taxId",e)},expression:"customerForm.taxId"}})],1)],1),r("b-col",{attrs:{md:"6"}},[r("b-form-group",{attrs:{label:"Credit Limit","label-for":"creditLimit"}},[r("b-input-group",{attrs:{prepend:"$"}},[r("b-form-input",{attrs:{id:"creditLimit",type:"number",step:"0.01",min:"0",placeholder:"0.00"},model:{value:t.customerForm.creditLimit,callback:function(e){t.$set(t.customerForm,"creditLimit",t._n(e))},expression:"customerForm.creditLimit"}})],1)],1)],1)],1),r("b-form-group",{attrs:{label:"Notes","label-for":"notes"}},[r("b-form-textarea",{attrs:{id:"notes",rows:"3",placeholder:"Additional notes..."},model:{value:t.customerForm.notes,callback:function(e){t.$set(t.customerForm,"notes",e)},expression:"customerForm.notes"}})],1),t.editingCustomer?r("b-form-group",[r("b-form-checkbox",{model:{value:t.customerForm.active,callback:function(e){t.$set(t.customerForm,"active",e)},expression:"customerForm.active"}},[t._v(" Active ")])],1):t._e()],1)],1),r("b-modal",{attrs:{title:"Delete Customer","ok-variant":"danger"},on:{ok:t.deleteCustomer},model:{value:t.showDeleteModal,callback:function(e){t.showDeleteModal=e},expression:"showDeleteModal"}},[r("p",[t._v(" Are you sure you want to delete customer "),r("strong",[t._v(t._s(t.customerToDelete&&t.customerToDelete.name?t.customerToDelete.name:""))]),t._v(" ("+t._s(t.customerToDelete&&t.customerToDelete.customerCode?t.customerToDelete.customerCode:"")+")? ")]),r("p",{staticClass:"text-danger"},[t._v("This action cannot be undone.")])])],1)},o=[],a=r("5530"),n=r("c7eb"),i=r("1da1"),c=(r("99af"),r("4de4"),r("caad"),r("fb6a"),r("b0c0"),r("b680"),r("d3b7"),r("25f0"),r("2532"),r("498a"),r("223c")),l=r("8b71"),u={name:"CustomerManagement",data:function(){return{customers:[],loading:!1,searchTerm:"",statusFilter:"all",statusFilterOptions:[{value:"all",text:"All"},{value:"active",text:"Active Only"},{value:"inactive",text:"Inactive Only"}],showDefaultOnly:!1,currentPage:1,perPage:10,perPageOptions:[{value:10,text:"10"},{value:20,text:"20"},{value:50,text:"50"},{value:100,text:"100"}],showAddCustomerModal:!1,showDeleteModal:!1,editingCustomer:null,customerToDelete:null,paymentMethods:[],pendingTicketsCount:0,customerForm:{name:"",email:"",phone:"",address:"",city:"",country:"",taxId:"",creditLimit:null,notes:"",active:!0},customerFields:[{key:"customerCode",label:"Code",sortable:!0},{key:"name",label:"Name",sortable:!0},{key:"contact",label:"Contact"},{key:"address",label:"Address"},{key:"active",label:"Status",sortable:!0},{key:"isDefault",label:"Default",sortable:!0},{key:"actions",label:"Actions",sortable:!1,thClass:"text-right",tdClass:"text-right"}]}},computed:{isPosUser:function(){var t=Object(l["b"])();return t&&"POS_USER"===t.role},filteredCustomers:function(){var t=this.customers;"active"===this.statusFilter?t=t.filter((function(t){return!0===t.active})):"inactive"===this.statusFilter&&(t=t.filter((function(t){return!1===t.active}))),this.showDefaultOnly&&(t=t.filter((function(t){return!0===t.isDefault})));var e=this.searchTerm.trim().toLowerCase();return e&&(t=t.filter((function(t){return[t.customerCode,t.name,t.email,t.phone,t.city,t.country,t.taxId].some((function(t){return t&&t.toString().toLowerCase().includes(e)}))}))),t},totalRows:function(){return this.filteredCustomers.length},paginatedCustomers:function(){var t=(this.currentPage-1)*this.perPage;return this.filteredCustomers.slice(t,t+this.perPage)},startIndex:function(){return 0===this.totalRows?0:(this.currentPage-1)*this.perPage+1},endIndex:function(){return Math.min(this.currentPage*this.perPage,this.totalRows)},canSaveCustomer:function(){return this.customerForm.name&&this.customerForm.name.trim().length>0&&this.customerForm.phone&&this.customerForm.phone.trim().length>0},paymentMethodOptions:function(){return this.paymentMethods.filter((function(t){return!1!==t.active}))}},watch:{searchTerm:function(){this.currentPage=1},statusFilter:function(){this.currentPage=1},showDefaultOnly:function(){this.currentPage=1},perPage:function(){this.currentPage=1},filteredCustomers:function(t){var e=Math.max(1,Math.ceil(t.length/this.perPage));this.currentPage>e&&(this.currentPage=e)}},mounted:function(){this.loadCustomers(),this.isPosUser&&(this.loadPaymentMethods(),this.loadPendingTicketsCount())},methods:{loadCustomers:function(){var t=this;return Object(i["a"])(Object(n["a"])().mark((function e(){var r;return Object(n["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.loading=!0,e.prev=1,e.next=4,t.$http.get("/customer");case 4:r=e.sent,t.customers=r.data,t.totalRows=r.data.length,e.next=13;break;case 9:e.prev=9,e.t0=e["catch"](1),console.error("Error loading customers:",e.t0),t.$toast({component:c["default"],props:{title:"Error",icon:"AlertCircleIcon",text:"Failed to load customers",variant:"danger"}});case 13:return e.prev=13,t.loading=!1,e.finish(13);case 16:case"end":return e.stop()}}),e,null,[[1,9,13,16]])})))()},openAddCustomerModal:function(){this.resetCustomerForm(),this.showAddCustomerModal=!0},editCustomer:function(t){this.editingCustomer=t,this.customerForm={customerCode:t.customerCode||"",name:t.name||"",email:t.email||"",phone:t.phone||"",address:t.address||"",city:t.city||"",country:t.country||"",taxId:t.taxId||"",creditLimit:t.creditLimit||null,notes:t.notes||"",active:!1!==t.active},this.showAddCustomerModal=!0},saveCustomer:function(){var t=this;return Object(i["a"])(Object(n["a"])().mark((function e(){var r,s,o;return Object(n["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.canSaveCustomer){e.next=3;break}return t.$toast({component:c["default"],props:{title:"Validation Error",icon:"AlertCircleIcon",text:"Please fill in required fields (Name and Phone)",variant:"warning"}}),e.abrupt("return");case 3:if(e.prev=3,r=Object(a["a"])({},t.customerForm),t.editingCustomer||delete r.customerCode,!t.editingCustomer){e.next=12;break}return e.next=9,t.$http.put("/customer/".concat(t.editingCustomer.id),r);case 9:s=e.sent,e.next=15;break;case 12:return e.next=14,t.$http.post("/customer",r);case 14:s=e.sent;case 15:if(200!==s.status&&201!==s.status){e.next=21;break}return t.$toast({component:c["default"],props:{title:"Success",icon:"CheckCircleIcon",text:"Customer ".concat(t.editingCustomer?"updated":"created"," successfully"),variant:"success"}}),t.resetCustomerForm(),t.showAddCustomerModal=!1,e.next=21,t.loadCustomers();case 21:e.next=29;break;case 23:e.prev=23,e.t0=e["catch"](3),console.error("Error saving customer:",e.t0),o="Failed to ".concat(t.editingCustomer?"update":"create"," customer. Please try again."),e.t0.response&&e.t0.response.data&&(o=e.t0.response.data||o),t.$toast({component:c["default"],props:{title:"Error",icon:"XIcon",text:o,variant:"danger"}});case 29:case"end":return e.stop()}}),e,null,[[3,23]])})))()},isPassengerCustomer:function(t){return t&&"PASSENGER"===t.customerCode},confirmDeleteCustomer:function(t){this.isPassengerCustomer(t)?this.$toast({component:c["default"],props:{title:"Cannot Delete",icon:"AlertCircleIcon",text:"The passenger customer cannot be deleted as it is required by the system.",variant:"warning"}}):(this.customerToDelete=t,this.showDeleteModal=!0)},deleteCustomer:function(){var t=this;return Object(i["a"])(Object(n["a"])().mark((function e(){var r,s;return Object(n["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.customerToDelete){e.next=2;break}return e.abrupt("return");case 2:if(!t.isPassengerCustomer(t.customerToDelete)){e.next=7;break}return t.$toast({component:c["default"],props:{title:"Cannot Delete",icon:"AlertCircleIcon",text:"The passenger customer cannot be deleted as it is required by the system.",variant:"warning"}}),t.showDeleteModal=!1,t.customerToDelete=null,e.abrupt("return");case 7:return e.prev=7,e.next=10,t.$http.delete("/customer/".concat(t.customerToDelete.id));case 10:if(r=e.sent,204!==r.status&&200!==r.status){e.next=17;break}return t.$toast({component:c["default"],props:{title:"Success",icon:"CheckCircleIcon",text:"Customer deleted successfully",variant:"success"}}),t.showDeleteModal=!1,t.customerToDelete=null,e.next=17,t.loadCustomers();case 17:e.next=25;break;case 19:e.prev=19,e.t0=e["catch"](7),console.error("Error deleting customer:",e.t0),s="Failed to delete customer. Please try again.",e.t0.response&&e.t0.response.data&&(s=e.t0.response.data||s),t.$toast({component:c["default"],props:{title:"Error",icon:"XIcon",text:s,variant:"danger"}});case 25:case"end":return e.stop()}}),e,null,[[7,19]])})))()},resetCustomerForm:function(){this.editingCustomer=null,this.customerForm={name:"",email:"",phone:"",address:"",city:"",country:"",taxId:"",creditLimit:null,notes:"",active:!0}},clearSearch:function(){this.searchTerm=""},resetFilters:function(){this.searchTerm="",this.statusFilter="all"},goBack:function(){var t=this.$route.query.returnTo;t?this.$router.push({name:t}):window.history.length>1?this.$router.go(-1):this.$router.push({name:"pos-item-selection"})},loadPendingTicketsCount:function(){var t=this;return Object(i["a"])(Object(n["a"])().mark((function e(){var r;return Object(n["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.$http.get("/sales-header/pending-sales");case 3:r=e.sent,r.data&&(t.pendingTicketsCount=r.data.length||0),e.next=11;break;case 7:e.prev=7,e.t0=e["catch"](0),console.error("Error loading pending tickets count:",e.t0),t.pendingTicketsCount=0;case 11:case"end":return e.stop()}}),e,null,[[0,7]])})))()},loadPaymentMethods:function(){var t=this;this.$http.get("/payment-method").then((function(e){t.paymentMethods=e.data.filter((function(t){return!1!==t.active}))})).catch((function(e){console.error("Error loading payment methods:",e),t.paymentMethods=[{id:1,name:"Client EspÃ¨ce",type:"CLIENT_ESPECES",active:!0},{id:2,name:"Return Voucher",type:"RETURN_VOUCHER",active:!0}]}))},formatPrice:function(t){return t||0===t?parseFloat(t).toFixed(2):"0.00"},setAsDefaultCustomer:function(t){var e=this;return Object(i["a"])(Object(n["a"])().mark((function r(){var s,o,a,i;return Object(n["a"])().wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,e.$swal({title:"Set as Default Customer?",text:'Are you sure you want to set "'.concat(t.name,'" (').concat(t.customerCode,") as the default customer?"),icon:"question",showCancelButton:!0,confirmButtonText:"Yes, set as default",cancelButtonText:"Cancel",customClass:{confirmButton:"btn btn-primary",cancelButton:"btn btn-outline-secondary ml-1"},buttonsStyling:!1});case 3:if(s=r.sent,o=s.value,o){r.next=7;break}return r.abrupt("return");case 7:return e.loading=!0,r.next=10,e.$http.put("/customer/".concat(t.id,"/set-default"),{});case 10:if(a=r.sent,200!==a.status){r.next=15;break}return e.$toast({component:c["default"],props:{title:"Success",icon:"CheckCircleIcon",text:"Default customer updated successfully",variant:"success"}}),r.next=15,e.loadCustomers();case 15:r.next=23;break;case 17:r.prev=17,r.t0=r["catch"](0),console.error("Error setting default customer:",r.t0),i="Failed to set default customer",r.t0.response&&r.t0.response.data&&(i=r.t0.response.data||i),e.$toast({component:c["default"],props:{title:"Error",icon:"XIcon",text:i,variant:"danger"}});case 23:return r.prev=23,e.loading=!1,r.finish(23);case 26:case"end":return r.stop()}}),r,null,[[0,17,23,26]])})))()}}},m=u,d=(r("7af3"),r("2877")),f=Object(d["a"])(m,s,o,!1,null,"5f5f6c38",null);e["default"]=f.exports},b680:function(t,e,r){"use strict";var s=r("23e7"),o=r("a691"),a=r("408a"),n=r("1148"),i=r("d039"),c=1..toFixed,l=Math.floor,u=function(t,e,r){return 0===e?r:e%2===1?u(t,e-1,r*t):u(t*t,e/2,r)},m=function(t){var e=0,r=t;while(r>=4096)e+=12,r/=4096;while(r>=2)e+=1,r/=2;return e},d=c&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!i((function(){c.call({})}));s({target:"Number",proto:!0,forced:d},{toFixed:function(t){var e,r,s,i,c=a(this),d=o(t),f=[0,0,0,0,0,0],p="",b="0",h=function(t,e){var r=-1,s=e;while(++r<6)s+=t*f[r],f[r]=s%1e7,s=l(s/1e7)},v=function(t){var e=6,r=0;while(--e>=0)r+=f[e],f[e]=l(r/t),r=r%t*1e7},C=function(){var t=6,e="";while(--t>=0)if(""!==e||0===t||0!==f[t]){var r=String(f[t]);e=""===e?r:e+n.call("0",7-r.length)+r}return e};if(d<0||d>20)throw RangeError("Incorrect fraction digits");if(c!=c)return"NaN";if(c<=-1e21||c>=1e21)return String(c);if(c<0&&(p="-",c=-c),c>1e-21)if(e=m(c*u(2,69,1))-69,r=e<0?c*u(2,-e,1):c/u(2,e,1),r*=4503599627370496,e=52-e,e>0){h(0,r),s=d;while(s>=7)h(1e7,0),s-=7;h(u(10,s,1),0),s=e-1;while(s>=23)v(1<<23),s-=23;v(1<<s),h(1,1),v(2),b=C()}else h(0,r),h(1<<-e,0),b=C()+n.call("0",d);return d>0?(i=b.length,b=p+(i<=d?"0."+n.call("0",d-i)+b:b.slice(0,i-d)+"."+b.slice(i-d))):b=p+b,b}})}}]);
//# sourceMappingURL=chunk-d2595d6e.1b025783.js.map