(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-15e290d2"],{"088b":function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("svg",{attrs:{viewBox:"0 0 139 95",version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",height:"24"}},[a("defs",[a("linearGradient",{attrs:{id:"linearGradient-1",x1:"100%",y1:"10.5120544%",x2:"50%",y2:"89.4879456%"}},[a("stop",{attrs:{"stop-color":"#000000",offset:"0%"}}),a("stop",{attrs:{"stop-color":"#FFFFFF",offset:"100%"}})],1),a("linearGradient",{attrs:{id:"linearGradient-2",x1:"64.0437835%",y1:"46.3276743%",x2:"37.373316%",y2:"100%"}},[a("stop",{attrs:{"stop-color":"#EEEEEE","stop-opacity":"0",offset:"0%"}}),a("stop",{attrs:{"stop-color":"#FFFFFF",offset:"100%"}})],1)],1),a("g",{attrs:{id:"Page-1",stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd"}},[a("g",{attrs:{id:"Artboard",transform:"translate(-400.000000, -178.000000)"}},[a("g",{attrs:{id:"Group",transform:"translate(400.000000, 178.000000)"}},[a("path",{staticClass:"text-primary",staticStyle:{fill:"currentColor"},attrs:{id:"Path",d:"M-5.68434189e-14,2.84217094e-14 L39.1816085,2.84217094e-14 L69.3453773,32.2519224 L101.428699,2.84217094e-14 L138.784583,2.84217094e-14 L138.784199,29.8015838 C137.958931,37.3510206 135.784352,42.5567762 132.260463,45.4188507 C128.736573,48.2809251 112.33867,64.5239941 83.0667527,94.1480575 L56.2750821,94.1480575 L6.71554594,44.4188507 C2.46876683,39.9813776 0.345377275,35.1089553 0.345377275,29.8015838 C0.345377275,24.4942122 0.230251516,14.560351 -5.68434189e-14,2.84217094e-14 Z"}}),a("path",{attrs:{id:"Path1",d:"M69.3453773,32.2519224 L101.428699,1.42108547e-14 L138.784583,1.42108547e-14 L138.784199,29.8015838 C137.958931,37.3510206 135.784352,42.5567762 132.260463,45.4188507 C128.736573,48.2809251 112.33867,64.5239941 83.0667527,94.1480575 L56.2750821,94.1480575 L32.8435758,70.5039241 L69.3453773,32.2519224 Z",fill:"url(#linearGradient-1)",opacity:"0.2"}}),a("polygon",{attrs:{id:"Path-2",fill:"#000000",opacity:"0.049999997",points:"69.3922914 32.4202615 32.8435758 70.5039241 54.0490008 16.1851325"}}),a("polygon",{attrs:{id:"Path-21",fill:"#000000",opacity:"0.099999994",points:"69.3922914 32.4202615 32.8435758 70.5039241 58.3683556 20.7402338"}}),a("polygon",{attrs:{id:"Path-3",fill:"url(#linearGradient-2)",opacity:"0.099999994",points:"101.428699 0 83.0667527 94.1480575 130.378721 47.0740288"}})])])])])},i=[],o=a("2877"),n={},r=Object(o["a"])(n,s,i,!1,null,null,null);e["a"]=r.exports},"216b":function(t,e,a){},"223c":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"toastification"},[a("div",{staticClass:"d-flex align-items-start"},[a("b-avatar",{staticClass:"mr-75 flex-shrink-0",attrs:{variant:t.variant,size:"1.8rem"}},[a("feather-icon",{attrs:{icon:t.icon,size:"15"}})],1),a("div",{staticClass:"d-flex flex-grow-1"},[a("div",[t.title?a("h5",{staticClass:"mb-0 font-weight-bolder toastification-title",class:"text-"+t.variant,domProps:{textContent:t._s(t.title)}}):t._e(),t.text?a("small",{staticClass:"d-inline-block text-body",domProps:{textContent:t._s(t.text)}}):t._e()]),a("span",{staticClass:"cursor-pointer toastification-close-icon ml-auto ",on:{click:function(e){return t.$emit("close-toast")}}},[t.hideClose?t._e():a("feather-icon",{staticClass:"text-body",attrs:{icon:"XIcon"}})],1)])],1)])},i=[],o=a("e8a3"),n={components:{BAvatar:o["a"]},props:{variant:{type:String,default:"primary"},icon:{type:String,default:null},title:{type:String,default:null},text:{type:String,default:null},hideClose:{type:Boolean,default:!1}}},r=n,l=(a("2edd"),a("2877")),c=Object(l["a"])(r,s,i,!1,null,"55dd3057",null);e["default"]=c.exports},"2edd":function(t,e,a){"use strict";a("216b")},"483d":function(t,e,a){"use strict";a("fd71")},"5aa9":function(t,e,a){t.exports=a.p+"img/login-v2.99da7e4e.svg"},a55b:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"auth-wrapper auth-v2"},[a("b-row",{staticClass:"auth-inner m-0"},[a("b-link",{staticClass:"brand-logo"},[a("vuexy-logo"),a("h2",{staticClass:"brand-text text-primary ml-1"},[t._v(" POS System ")])],1),a("b-col",{staticClass:"d-none d-lg-flex align-items-center p-5",attrs:{lg:"8"}},[a("div",{staticClass:"w-100 d-lg-flex align-items-center justify-content-center px-5"},[a("b-img",{attrs:{fluid:"",src:t.imgUrl,alt:"Login V2"}})],1)]),a("b-col",{staticClass:"d-flex align-items-center auth-bg px-2 p-lg-5",attrs:{lg:"4"}},[a("b-overlay",{attrs:{show:t.showLoading,rounded:"sm"}},[a("b-col",{staticClass:"px-xl-2 mx-auto",attrs:{sm:"8",md:"6",lg:"12"}},[a("b-card-title",{staticClass:"font-weight-bold mb-1",attrs:{"title-tag":"h2"}},[t._v(" Welcome to POS!  ")]),a("b-card-text",{staticClass:"mb-2"},[t._v(" Please sign-in to your account ")]),a("b-form",{staticClass:"auth-login-form mt-2",on:{submit:function(t){t.preventDefault()}}},[a("b-form-group",{attrs:{label:"Username","label-for":"login-username"}},[a("b-form-input",{attrs:{id:"login-username",name:"login-username",placeholder:"Enter username"},model:{value:t.username,callback:function(e){t.username=e},expression:"username"}})],1),a("b-form-group",[a("label",{attrs:{for:"login-password"}},[t._v("Password")]),a("b-input-group",{staticClass:"input-group-merge"},[a("b-form-input",{staticClass:"form-control-merge",attrs:{id:"login-password",type:t.passwordFieldType,name:"login-password",placeholder:"路路路路路路路路路路路路"},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}}),a("b-input-group-append",{attrs:{"is-text":""}},[a("feather-icon",{staticClass:"cursor-pointer",attrs:{icon:t.passwordToggleIcon},on:{click:t.togglePasswordVisibility}})],1)],1)],1),a("b-button",{attrs:{type:"submit",variant:"primary",block:""},on:{click:t.validationForm}},[t._v(" Sign in ")])],1)],1)],1)],1)],1)],1)},i=[],o=a("088b"),n={data:function(){return{passwordFieldType:"password"}},methods:{togglePasswordVisibility:function(){this.passwordFieldType="password"===this.passwordFieldType?"text":"password"}}},r=a("4360"),l=a("223c"),c=a("7100"),d=a("8b71"),u=a("d680"),p={components:{VuexyLogo:o["a"]},mixins:[n],data:function(){return{showLoading:!1,password:"",username:"",sideImg:a("5aa9")}},computed:{passwordToggleIcon:function(){return"password"===this.passwordFieldType?"EyeIcon":"EyeOffIcon"},imgUrl:function(){return"dark"===r["default"].state.appConfig.layout.skin?(this.sideImg=a("ff0f"),this.sideImg):this.sideImg}},methods:{validationForm:function(){var t=this;this.showLoading=!0,c["a"].login({username:this.username,password:this.password}).then((function(e){if(t.showLoading=!1,t.$toast.clear(),200==e.status&&200==e.data.status){c["a"].setToken(e.data.token);var a=[{action:"read",subject:"Auth"}];"ADMIN"===e.data.role&&a.push({action:"read",subject:"admin-users"},{action:"read",subject:"admin-sessions"},{action:"read",subject:"admin-sessions-history"},{action:"read",subject:"tickets-history"},{action:"read",subject:"admin-item-barcodes"},{action:"read",subject:"admin-item-families"},{action:"read",subject:"admin-item-subfamilies"},{action:"read",subject:"admin-customers"},{action:"read",subject:"admin-locations"},{action:"read",subject:"admin-payment-methods"},{action:"read",subject:"admin-general-setup"},{action:"read",subject:"admin-returns"},{action:"read",subject:"admin-erp-jobs"},{action:"read",subject:"admin-erp-communications"},{action:"write",subject:"admin-users"},{action:"delete",subject:"admin-users"},{action:"write",subject:"admin-customers"},{action:"delete",subject:"admin-customers"},{action:"write",subject:"admin-payment-methods"}),"RESPONSIBLE"===e.data.role&&a.push({action:"read",subject:"responsible-sessions"},{action:"read",subject:"admin-sessions-history"},{action:"read",subject:"tickets-history"},{action:"read",subject:"admin-item-barcodes"},{action:"read",subject:"admin-customers"},{action:"read",subject:"admin-returns"},{action:"write",subject:"responsible-sessions"},{action:"write",subject:"admin-customers"},{action:"delete",subject:"admin-customers"}),c["a"].setUserData({role:e.data.role,fullName:e.data.fullName,username:t.username,abilities:a}),u["a"].update(a),"POS_USER"===e.data.role&&t.$store.dispatch("pos/resetSessionCheck");var s=Object(d["a"])(e.data.role);t.$router.push(s)}else t.$toast({component:l["default"],props:{title:"Authentication Failed",icon:"XIcon",text:"Invalid username or password. Please check your credentials.",variant:"danger"}},{timeout:5e3})})).catch((function(e){t.showLoading=!1,t.$toast.clear();var a="Invalid username or password. Please check your credentials.";e.response&&e.response.data&&(a=e.response.data.msg||a),t.$toast({component:l["default"],props:{title:"Authentication Failed",icon:"XIcon",text:a,variant:"danger"}},{timeout:5e3})}))}}},m=p,f=(a("483d"),a("2877")),b=Object(f["a"])(m,s,i,!1,null,null,null);e["default"]=b.exports},fd71:function(t,e,a){},ff0f:function(t,e,a){t.exports=a.p+"img/login-v2-dark.684bd68d.svg"}}]);
//# sourceMappingURL=chunk-15e290d2.269059db.js.map