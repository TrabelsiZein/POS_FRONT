(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-29250da6"],{"216b":function(t,e,a){},"223c":function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"toastification"},[a("div",{staticClass:"d-flex align-items-start"},[a("b-avatar",{staticClass:"mr-75 flex-shrink-0",attrs:{variant:t.variant,size:"1.8rem"}},[a("feather-icon",{attrs:{icon:t.icon,size:"15"}})],1),a("div",{staticClass:"d-flex flex-grow-1"},[a("div",[t.title?a("h5",{staticClass:"mb-0 font-weight-bolder toastification-title",class:"text-"+t.variant,domProps:{textContent:t._s(t.title)}}):t._e(),t.text?a("small",{staticClass:"d-inline-block text-body",domProps:{textContent:t._s(t.text)}}):t._e()]),a("span",{staticClass:"cursor-pointer toastification-close-icon ml-auto ",on:{click:function(e){return t.$emit("close-toast")}}},[t.hideClose?t._e():a("feather-icon",{staticClass:"text-body",attrs:{icon:"XIcon"}})],1)])],1)])},n=[],i=a("e8a3"),o={components:{BAvatar:i["a"]},props:{variant:{type:String,default:"primary"},icon:{type:String,default:null},title:{type:String,default:null},text:{type:String,default:null},hideClose:{type:Boolean,default:!1}}},s=o,c=(a("2edd"),a("2877")),d=Object(c["a"])(s,r,n,!1,null,"55dd3057",null);e["default"]=d.exports},"2edd":function(t,e,a){"use strict";a("216b")},"40cd":function(t,e,a){"use strict";a("fd98")},"4e82":function(t,e,a){"use strict";var r=a("23e7"),n=a("1c0b"),i=a("7b0b"),o=a("d039"),s=a("a640"),c=[],d=c.sort,l=o((function(){c.sort(void 0)})),m=o((function(){c.sort(null)})),u=s("sort"),p=l||!m||!u;r({target:"Array",proto:!0,forced:p},{sort:function(t){return void 0===t?d.call(i(this)):d.call(i(this),n(t))}})},5319:function(t,e,a){"use strict";var r=a("d784"),n=a("825a"),i=a("7b0b"),o=a("50c4"),s=a("a691"),c=a("1d80"),d=a("8aa5"),l=a("14c3"),m=Math.max,u=Math.min,p=Math.floor,h=/\$([$&'`]|\d\d?|<[^>]*>)/g,f=/\$([$&'`]|\d\d?)/g,v=function(t){return void 0===t?t:String(t)};r("replace",2,(function(t,e,a,r){var y=r.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,b=r.REPLACE_KEEPS_$0,g=y?"$":"$0";return[function(a,r){var n=c(this),i=void 0==a?void 0:a[t];return void 0!==i?i.call(a,n,r):e.call(String(n),a,r)},function(t,r){if(!y&&b||"string"===typeof r&&-1===r.indexOf(g)){var i=a(e,t,this,r);if(i.done)return i.value}var c=n(t),p=String(this),h="function"===typeof r;h||(r=String(r));var f=c.global;if(f){var C=c.unicode;c.lastIndex=0}var P=[];while(1){var M=l(c,p);if(null===M)break;if(P.push(M),!f)break;var k=String(M[0]);""===k&&(c.lastIndex=d(p,o(c.lastIndex),C))}for(var w="",_=0,E=0;E<P.length;E++){M=P[E];for(var F=String(M[0]),O=m(u(s(M.index),p.length),0),S=[],T=1;T<M.length;T++)S.push(v(M[T]));var $=M.groups;if(h){var I=[F].concat(S,O,p);void 0!==$&&I.push($);var A=String(r.apply(void 0,I))}else A=x(F,p,O,S,$,r);O>=_&&(w+=p.slice(_,O)+A,_=O+F.length)}return w+p.slice(_)}];function x(t,a,r,n,o,s){var c=r+t.length,d=n.length,l=f;return void 0!==o&&(o=i(o),l=h),e.call(s,l,(function(e,i){var s;switch(i.charAt(0)){case"$":return"$";case"&":return t;case"`":return a.slice(0,r);case"'":return a.slice(c);case"<":s=o[i.slice(1,-1)];break;default:var l=+i;if(0===l)return e;if(l>d){var m=p(l/10);return 0===m?e:m<=d?void 0===n[m-1]?i.charAt(1):n[m-1]+i.charAt(1):e}s=n[l-1]}return void 0===s?"":s}))}}))},"53b2":function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"payment-methods-management-container"},[a("div",{staticClass:"page-header"},[a("h2",{staticClass:"mb-0"},[t._v("Payment Methods")]),a("b-button",{attrs:{variant:"outline-primary"},on:{click:t.loadPaymentMethods}},[a("feather-icon",{attrs:{icon:"RefreshCwIcon",size:"16"}}),t._v(" Refresh ")],1)],1),a("b-card",{staticClass:"mb-3"},[a("b-row",[a("b-col",{attrs:{cols:"12",md:"6"}},[a("b-form-group",{attrs:{label:"Search","label-for":"search-input"}},[a("b-input-group",[a("b-form-input",{attrs:{id:"search-input",placeholder:"Search by code, name, type, or description..."},model:{value:t.searchTerm,callback:function(e){t.searchTerm=e},expression:"searchTerm"}}),a("b-input-group-append",[a("b-button",{attrs:{variant:"outline-secondary",disabled:!t.searchTerm},on:{click:t.clearSearch}},[a("feather-icon",{attrs:{icon:"XIcon",size:"14"}})],1)],1)],1)],1)],1),a("b-col",{staticClass:"d-flex align-items-end justify-content-md-end",attrs:{cols:"12",md:"6"}},[a("small",{staticClass:"text-muted"},[t._v(" Showing "+t._s(t.totalRows)+" "+t._s(1===t.totalRows?"payment method":"payment methods")+" ")])])],1)],1),a("b-card",[a("b-table",{attrs:{items:t.paginatedPaymentMethods,fields:t.paymentMethodFields,striped:"",hover:"",responsive:"",busy:t.loading,"show-empty":""},scopedSlots:t._u([{key:"table-busy",fn:function(){return[a("div",{staticClass:"text-center text-danger my-2"},[a("b-spinner",{staticClass:"align-middle"}),a("strong",[t._v(" Loading...")])],1)]},proxy:!0},{key:"empty",fn:function(){return[a("div",{staticClass:"text-center py-4"},[a("feather-icon",{staticClass:"text-muted mb-2",attrs:{icon:"CreditCardIcon",size:"48"}}),a("p",{staticClass:"text-muted mb-0"},[t._v("No payment methods found.")])],1)]},proxy:!0},{key:"cell(code)",fn:function(e){return[a("strong",[t._v(t._s(e.item.code))])]}},{key:"cell(name)",fn:function(e){return[t._v(" "+t._s(e.item.name)+" ")]}},{key:"cell(type)",fn:function(e){return[a("b-badge",{attrs:{variant:"info"}},[t._v(" "+t._s(t.formatPaymentMethodType(e.item.type))+" ")])]}},{key:"cell(description)",fn:function(e){return[e.item.description?a("span",{staticClass:"small"},[t._v(t._s(e.item.description))]):a("span",{staticClass:"text-muted small"},[t._v("-")])]}},{key:"cell(displayOrder)",fn:function(e){return[a("strong",[t._v(t._s(e.item.displayOrder||0))])]}},{key:"cell(active)",fn:function(e){return[a("b-badge",{attrs:{variant:e.item.active?"success":"secondary"}},[t._v(" "+t._s(e.item.active?"Active":"Inactive")+" ")])]}},{key:"cell(actions)",fn:function(e){return[a("div",{staticClass:"text-right"},[a("b-button",{attrs:{variant:"outline-primary",size:"sm"},on:{click:function(a){return t.openEditModal(e.item)}}},[a("feather-icon",{attrs:{icon:"EditIcon",size:"14"}})],1)],1)]}}])}),a("div",{staticClass:"mt-3"},[a("b-row",{attrs:{"align-v":"center"}},[a("b-col",{staticClass:"mb-2 mb-md-0",attrs:{cols:"12",md:"6"}},[a("div",{staticClass:"d-flex align-items-center"},[a("label",{staticClass:"mr-2 mb-0",attrs:{for:"per-page-select"}},[t._v("Items per page:")]),a("b-form-select",{staticStyle:{width:"auto"},attrs:{id:"per-page-select",options:t.perPageOptions,size:"sm"},model:{value:t.perPage,callback:function(e){t.perPage=e},expression:"perPage"}})],1)]),a("b-col",{attrs:{cols:"12",md:"6"}},[a("div",{staticClass:"text-center text-md-right"},[a("small",{staticClass:"text-muted"},[t._v(" Showing "+t._s(t.startIndex)+" to "+t._s(t.endIndex)+" of "+t._s(t.totalRows)+" payment methods ")])])])],1),a("div",{staticClass:"d-flex justify-content-center mt-2"},[a("b-pagination",{attrs:{"total-rows":t.totalRows,"per-page":t.perPage,align:"center"},model:{value:t.currentPage,callback:function(e){t.currentPage=e},expression:"currentPage"}})],1)],1)],1),a("b-modal",{attrs:{title:"Edit Payment Method","ok-disabled":!t.canSavePaymentMethod},on:{ok:t.savePaymentMethod,hidden:t.resetEditForm},model:{value:t.showEditModal,callback:function(e){t.showEditModal=e},expression:"showEditModal"}},[t.paymentMethodToEdit?a("div",[a("b-form-group",{attrs:{label:"Code","label-for":"payment-method-code"}},[a("b-form-input",{attrs:{id:"payment-method-code",required:""},model:{value:t.editForm.code,callback:function(e){t.$set(t.editForm,"code",e)},expression:"editForm.code"}})],1),a("b-form-group",{attrs:{label:"Name","label-for":"payment-method-name"}},[a("b-form-input",{attrs:{id:"payment-method-name",required:""},model:{value:t.editForm.name,callback:function(e){t.$set(t.editForm,"name",e)},expression:"editForm.name"}})],1),a("b-form-group",{attrs:{label:"Type"}},[a("b-form-input",{attrs:{value:t.formatPaymentMethodType(t.paymentMethodToEdit.type),disabled:""}})],1),a("b-form-group",{attrs:{label:"Description","label-for":"payment-method-description"}},[a("b-form-textarea",{attrs:{id:"payment-method-description",rows:"3",placeholder:"Optional description"},model:{value:t.editForm.description,callback:function(e){t.$set(t.editForm,"description",e)},expression:"editForm.description"}})],1),a("b-form-group",{attrs:{label:"Display Order","label-for":"payment-method-display-order"}},[a("b-form-input",{attrs:{id:"payment-method-display-order",type:"number",min:"0",required:""},model:{value:t.editForm.displayOrder,callback:function(e){t.$set(t.editForm,"displayOrder",e)},expression:"editForm.displayOrder"}}),a("small",{staticClass:"text-muted"},[t._v("Lower numbers appear first in the payment methods list")])],1),a("b-form-group",[a("b-form-checkbox",{attrs:{id:"payment-method-active",switch:""},model:{value:t.editForm.active,callback:function(e){t.$set(t.editForm,"active",e)},expression:"editForm.active"}},[a("strong",[t._v("Active")]),a("small",{staticClass:"text-muted d-block"},[t._v("Inactive payment methods will not appear in the POS payment selection")])])],1)],1):a("div",[a("p",{staticClass:"text-muted mb-0"},[t._v("Select a payment method to edit.")])])])],1)},n=[],i=a("5530"),o=a("c7eb"),s=a("1da1"),c=(a("a4d3"),a("e01a"),a("4de4"),a("caad"),a("fb6a"),a("4e82"),a("b0c0"),a("d3b7"),a("ac1f"),a("2532"),a("5319"),a("498a"),a("223c")),d={name:"PaymentMethodsManagement",data:function(){return{paymentMethods:[],loading:!1,searchTerm:"",currentPage:1,perPage:10,perPageOptions:[{value:10,text:"10"},{value:20,text:"20"},{value:50,text:"50"},{value:100,text:"100"}],paymentMethodFields:[{key:"code",label:"Code",sortable:!0},{key:"name",label:"Name",sortable:!0},{key:"type",label:"Type",sortable:!0},{key:"description",label:"Description",sortable:!1},{key:"displayOrder",label:"Order",sortable:!0},{key:"active",label:"Status",sortable:!0},{key:"actions",label:"Actions",sortable:!1,thClass:"text-right",tdClass:"text-right"}],showEditModal:!1,paymentMethodToEdit:null,editForm:{code:"",name:"",description:"",displayOrder:0,active:!0}}},computed:{filteredPaymentMethods:function(){var t=this.paymentMethods;if(this.searchTerm){var e=this.searchTerm.toLowerCase();t=t.filter((function(t){return t.code&&t.code.toLowerCase().includes(e)||t.name&&t.name.toLowerCase().includes(e)||t.type&&t.type.toLowerCase().includes(e)||t.description&&t.description.toLowerCase().includes(e)}))}return t.sort((function(t,e){var a=t.displayOrder||0,r=e.displayOrder||0;return a!==r?a-r:(t.name||"").localeCompare(e.name||"")}))},totalRows:function(){return this.filteredPaymentMethods.length},paginatedPaymentMethods:function(){var t=(this.currentPage-1)*this.perPage;return this.filteredPaymentMethods.slice(t,t+this.perPage)},startIndex:function(){return 0===this.totalRows?0:(this.currentPage-1)*this.perPage+1},endIndex:function(){return Math.min(this.currentPage*this.perPage,this.totalRows)},canSavePaymentMethod:function(){return!!this.paymentMethodToEdit&&this.editForm.code&&this.editForm.name&&null!==this.editForm.displayOrder&&void 0!==this.editForm.displayOrder}},watch:{searchTerm:function(){this.currentPage=1},perPage:function(){this.currentPage=1},filteredPaymentMethods:function(t){var e=Math.max(1,Math.ceil(t.length/this.perPage));this.currentPage>e&&(this.currentPage=e)}},mounted:function(){this.loadPaymentMethods()},methods:{loadPaymentMethods:function(){var t=this;return Object(s["a"])(Object(o["a"])().mark((function e(){var a;return Object(o["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.loading=!0,e.prev=1,e.next=4,t.$http.get("/payment-method");case 4:a=e.sent,t.paymentMethods=Array.isArray(a.data)?a.data:[],e.next=12;break;case 8:e.prev=8,e.t0=e["catch"](1),console.error("Error loading payment methods:",e.t0),t.$toast({component:c["default"],props:{title:"Error",icon:"AlertCircleIcon",text:"Failed to load payment methods",variant:"danger"}});case 12:return e.prev=12,t.loading=!1,e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[1,8,12,15]])})))()},clearSearch:function(){this.searchTerm=""},formatPaymentMethodType:function(t){return t?t.replace(/_/g," ").replace(/\b\w/g,(function(t){return t.toUpperCase()})):"-"},openEditModal:function(t){t&&(this.paymentMethodToEdit=t,this.editForm={code:t.code||"",name:t.name||"",description:t.description||"",displayOrder:t.displayOrder||0,active:void 0===t.active||t.active},this.showEditModal=!0)},savePaymentMethod:function(){var t=this;return Object(s["a"])(Object(o["a"])().mark((function e(){var a,r,n;return Object(o["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.paymentMethodToEdit){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,a=Object(i["a"])(Object(i["a"])({},t.paymentMethodToEdit),{},{code:t.editForm.code.trim(),name:t.editForm.name.trim(),description:t.editForm.description?t.editForm.description.trim():null,displayOrder:parseInt(t.editForm.displayOrder)||0,active:void 0===t.editForm.active||t.editForm.active}),e.next=6,t.$http.put("/payment-method/".concat(t.paymentMethodToEdit.id),a);case 6:if(r=e.sent,200!==r.status){e.next=13;break}return t.$toast({component:c["default"],props:{title:"Success",icon:"CheckCircleIcon",text:"Payment method updated successfully",variant:"success"}}),t.showEditModal=!1,t.resetEditForm(),e.next=13,t.loadPaymentMethods();case 13:e.next=21;break;case 15:e.prev=15,e.t0=e["catch"](2),console.error("Error updating payment method:",e.t0),n="Failed to update payment method",e.t0.response&&e.t0.response.data&&(n=e.t0.response.data||n),t.$toast({component:c["default"],props:{title:"Error",icon:"XIcon",text:n,variant:"danger"}});case 21:case"end":return e.stop()}}),e,null,[[2,15]])})))()},resetEditForm:function(){this.paymentMethodToEdit=null,this.editForm={code:"",name:"",description:"",displayOrder:0,active:!0}}}},l=d,m=(a("40cd"),a("2877")),u=Object(m["a"])(l,r,n,!1,null,"00f83090",null);e["default"]=u.exports},fd98:function(t,e,a){}}]);
//# sourceMappingURL=chunk-29250da6.2821010d.js.map