(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2c6de018"],{"216b":function(t,e,n){},"223c":function(t,e,n){"use strict";n.r(e);var s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"toastification"},[n("div",{staticClass:"d-flex align-items-start"},[n("b-avatar",{staticClass:"mr-75 flex-shrink-0",attrs:{variant:t.variant,size:"1.8rem"}},[n("feather-icon",{attrs:{icon:t.icon,size:"15"}})],1),n("div",{staticClass:"d-flex flex-grow-1"},[n("div",[t.title?n("h5",{staticClass:"mb-0 font-weight-bolder toastification-title",class:"text-"+t.variant,domProps:{textContent:t._s(t.title)}}):t._e(),t.text?n("small",{staticClass:"d-inline-block text-body",domProps:{textContent:t._s(t.text)}}):t._e()]),n("span",{staticClass:"cursor-pointer toastification-close-icon ml-auto ",on:{click:function(e){return t.$emit("close-toast")}}},[t.hideClose?t._e():n("feather-icon",{staticClass:"text-body",attrs:{icon:"XIcon"}})],1)])],1)])},a=[],i=n("e8a3"),o={components:{BAvatar:i["a"]},props:{variant:{type:String,default:"primary"},icon:{type:String,default:null},title:{type:String,default:null},text:{type:String,default:null},hideClose:{type:Boolean,default:!1}}},r=o,c=(n("2edd"),n("2877")),l=Object(c["a"])(r,s,a,!1,null,"55dd3057",null);e["default"]=l.exports},"2edd":function(t,e,n){"use strict";n("216b")},b672:function(t,e,n){},c896:function(t,e,n){"use strict";n("b672")},e76f:function(t,e,n){"use strict";n.r(e);var s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"open-session-container"},[n("b-container",[n("b-row",{staticClass:"justify-content-center"},[n("b-col",{attrs:{cols:"12",md:"8",lg:"6"}},[n("b-card",{staticClass:"mt-5"},[n("div",{staticClass:"text-center mb-4"},[n("feather-icon",{staticClass:"text-primary",attrs:{icon:"CreditCardIcon",size:"60"}}),n("h2",{staticClass:"mt-3"},[t._v("Open Cashier Session")]),n("p",{staticClass:"text-muted"},[t._v("Enter the opening cash amount to start your session")])],1),n("b-form",{on:{submit:function(e){return e.preventDefault(),t.openSession(e)}}},[n("b-form-group",{attrs:{label:"Opening Cash Amount","label-for":"opening-cash"}},[n("b-input-group",{attrs:{prepend:"$"}},[n("b-form-input",{attrs:{id:"opening-cash",type:"number",step:"0.01",min:"0",placeholder:"0.00",required:"",state:t.validationState},model:{value:t.openingCash,callback:function(e){t.openingCash=t._n(e)},expression:"openingCash"}})],1),t.isValid?t._e():n("b-form-invalid-feedback",[t._v(" Please enter a valid amount (greater than 0) ")])],1),n("b-form-group",[n("b-form-text",[t._v(" This amount represents the cash you start with in your drawer ")])],1),n("div",{staticClass:"d-flex flex-column flex-sm-row justify-content-between mt-4 button-group"},[n("b-button",{staticClass:"mb-2 mb-sm-0",attrs:{variant:"outline-secondary"},on:{click:t.logout}},[t._v(" Cancel & Logout ")]),n("b-button",{attrs:{type:"submit",variant:"primary",size:"lg",disabled:!t.isValid||t.loading}},[t.loading?n("span",[t._v("Opening...")]):n("span",[t._v("Open Session")])])],1)],1)],1)],1)],1)],1)],1)},a=[],i=n("c7eb"),o=n("1da1"),r=n("7100"),c=n("223c"),l={name:"OpenSession",data:function(){return{openingCash:null,loading:!1}},computed:{isValid:function(){return null!==this.openingCash&&this.openingCash>=0&&!isNaN(this.openingCash)},validationState:function(){return null===this.openingCash||""===this.openingCash?null:this.isValid}},methods:{openSession:function(){var t=this;return Object(o["a"])(Object(i["a"])().mark((function e(){var n,s;return Object(i["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.isValid){e.next=2;break}return e.abrupt("return");case 2:return t.loading=!0,e.prev=3,e.next=6,t.$http.post("/cashier-session/open",{openingCash:t.openingCash});case 6:n=e.sent,200===n.status&&(t.$store.dispatch("pos/setCurrentSession",n.data),t.$toast({component:c["default"],props:{title:"Success",icon:"CheckCircleIcon",text:"Session opened successfully!",variant:"success"}}),t.$router.push({name:"pos-item-selection"})),e.next=16;break;case 10:e.prev=10,e.t0=e["catch"](3),console.error("Error opening session:",e.t0),s="Failed to open session. Please try again.",e.t0.response&&e.t0.response.data&&(s=e.t0.response.data||s),t.$toast({component:c["default"],props:{title:"Error",icon:"XIcon",text:s,variant:"danger"}});case 16:return e.prev=16,t.loading=!1,e.finish(16);case 19:case"end":return e.stop()}}),e,null,[[3,10,16,19]])})))()},logout:function(){r["a"].logout(),this.$router.push({name:"login"})}}},u=l,p=(n("c896"),n("2877")),d=Object(p["a"])(u,s,a,!1,null,"7884dc3d",null);e["default"]=d.exports}}]);
//# sourceMappingURL=chunk-2c6de018.a2385163.js.map