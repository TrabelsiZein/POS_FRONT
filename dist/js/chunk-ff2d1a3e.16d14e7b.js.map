{"version":3,"sources":["webpack:///./node_modules/core-js/internals/same-value.js","webpack:///./src/views/admin/ReturnsManagement.vue?e386","webpack:///src/views/admin/ReturnsManagement.vue","webpack:///./src/views/admin/ReturnsManagement.vue?038f","webpack:///./src/views/admin/ReturnsManagement.vue?3d5e","webpack:///./node_modules/core-js/modules/es.array.sort.js","webpack:///./node_modules/core-js/modules/es.string.search.js","webpack:///./src/views/admin/ReturnsManagement.vue?c9af"],"names":["module","exports","Object","is","x","y","render","_vm","this","_h","$createElement","_c","_self","staticClass","_v","attrs","on","loadReturns","toggleFilters","$event","type","indexOf","_k","keyCode","key","_s","totalRows","filtersExpanded","model","value","callback","$$v","expression","onFilterChange","filters","$set","search","clearSearch","returnTypeOptions","voucherStatusOptions","syncStatusOptions","returns","returnFields","loading","sortBy","sortDesc","viewReturnDetails","scopedSlots","_u","fn","proxy","row","item","returnNumber","formatDate","returnDate","returnType","formatPrice","totalReturnAmount","originalSalesHeader","salesNumber","returnVoucher","voucherNumber","status","getRemainingAmount","_e","getVoucherStatusVariant","getSyncStatusVariant","synchronizationStatus","getSyncStatusIcon","formatSyncStatus","erpNo","staticStyle","perPageOptions","onPerPageChange","perPage","startIndex","endIndex","onPageChange","currentPage","showDetailsModal","selectedReturn","salesDate","notes","getSyncedLinesCount","returnLines","length","voucherAmount","usedAmount","voucherDate","class","isVoucherExpired","expiryDate","customerName","returnLineFields","name","itemCode","quantity","unitPrice","lineTotalIncludingVat","lineTotal","isSynched","synched","printVoucher","staticRenderFns","data","today","Date","todayStr","toISOString","split","text","dateFrom","dateTo","voucherStatus","syncStatus","label","sortable","computed","Math","min","mounted","methods","_this","_asyncToGenerator","_regeneratorRuntime","mark","_callee","response","allReturns","start","end","wrap","_context","prev","next","$http","get","sent","applyFilters","sort","a","b","aVal","bVal","slice","t0","console","error","$toast","component","ToastificationContent","props","title","icon","variant","finish","stop","_this2","filtered","toLowerCase","filter","ret","_ret$originalSalesHea","_ret$returnVoucher","returnNum","ticketNum","voucherNum","includes","retDate","moment","format","page","resetFilters","returnItem","_this3","_callee2","_context2","concat","id","_objectSpread","returnHeader","_this4","_callee3","_returnData$originalS","_returnData$originalS2","returnData","voucherData","Vue","ReceiptComponent","instance","barcodeValue","svgElement","printWindow","_context3","abrupt","totalAmount","subtotal","taxAmount","discountAmount","paidAmount","changeAmount","createdByUser","fullName","username","cashierSession","customer","salesLines","map","line","paymentHeaders","paymentMethod","paymentReference","isVoucher","voucherInfo","originalTicket","$root","constructor","$options","_base","extend","ReceiptTemplate","parent","propsData","saleData","isDuplicate","$mount","$nextTick","Promise","resolve","setTimeout","$el","querySelector","JsBarcode","width","height","displayValue","margin","background","lineColor","window","open","document","write","outerHTML","close","focus","print","$destroy","voucher","max","isAfter","price","parseFloat","toFixed","dateString","word","charAt","join","lines","_this5","Array","isArray","synchedValue","$","aFunction","toObject","fails","arrayMethodIsStrict","test","nativeSort","FAILS_ON_UNDEFINED","undefined","FAILS_ON_NULL","STRICT_METHOD","FORCED","target","proto","forced","comparefn","call","fixRegExpWellKnownSymbolLogic","anObject","requireObjectCoercible","sameValue","regExpExec","SEARCH","nativeSearch","maybeCallNative","regexp","O","searcher","RegExp","String","res","done","rx","S","previousLastIndex","lastIndex","result","index"],"mappings":"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","file":"js/chunk-ff2d1a3e.16d14e7b.js","sourcesContent":["// `SameValue` abstract operation\n// https://tc39.github.io/ecma262/#sec-samevalue\nmodule.exports = Object.is || function is(x, y) {\n  // eslint-disable-next-line no-self-compare\n  return x === y ? x !== 0 || 1 / x === 1 / y : x != x && y != y;\n};\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"returns-management-container\"},[_c('div',{staticClass:\"page-header\"},[_c('h2',{staticClass:\"mb-0\"},[_vm._v(\"Returns Management\")]),_c('b-button',{attrs:{\"variant\":\"outline-primary\"},on:{\"click\":_vm.loadReturns}},[_c('feather-icon',{attrs:{\"icon\":\"RefreshCwIcon\",\"size\":\"16\"}}),_vm._v(\" Refresh \")],1)],1),_c('b-card',{staticClass:\"mb-2\"},[_c('div',{attrs:{\"role\":\"button\",\"tabindex\":\"0\"},on:{\"click\":_vm.toggleFilters,\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.toggleFilters($event)}}},[_c('div',{staticClass:\"d-flex align-items-center justify-content-between\"},[_c('div',{staticClass:\"d-flex align-items-center\"},[_c('feather-icon',{staticClass:\"mr-2 text-primary\",attrs:{\"icon\":\"FilterIcon\",\"size\":\"18\"}}),_c('h6',{staticClass:\"mb-0 text-primary font-weight-bold\"},[_vm._v(\" Filters \"),_c('span',{staticClass:\"text-muted font-weight-normal ml-2\"},[_vm._v(\"(Total: \"+_vm._s(_vm.totalRows)+\" \"+_vm._s(_vm.totalRows === 1 ? 'return' : 'returns')+\")\")])])],1),_c('feather-icon',{staticClass:\"text-primary\",attrs:{\"icon\":_vm.filtersExpanded ? 'ChevronUpIcon' : 'ChevronDownIcon',\"size\":\"20\"}})],1)]),_c('b-collapse',{attrs:{\"id\":\"filters-collapse\"},model:{value:(_vm.filtersExpanded),callback:function ($$v) {_vm.filtersExpanded=$$v},expression:\"filtersExpanded\"}},[_c('div',{staticClass:\"pt-2\"},[_c('b-row',[_c('b-col',{staticClass:\"mb-2\",attrs:{\"cols\":\"12\",\"sm\":\"6\",\"md\":\"6\",\"lg\":\"6\"}},[_c('b-form-group',{staticClass:\"mb-0\",attrs:{\"label\":\"Search\",\"label-for\":\"search-input\"}},[_c('b-input-group',[_c('b-input-group-prepend',[_c('b-input-group-text',{staticClass:\"bg-white\"},[_c('feather-icon',{attrs:{\"icon\":\"SearchIcon\",\"size\":\"16\"}})],1)],1),_c('b-form-input',{attrs:{\"id\":\"search-input\",\"placeholder\":\"Search by return number, ticket number, voucher number...\"},on:{\"input\":_vm.onFilterChange},model:{value:(_vm.filters.search),callback:function ($$v) {_vm.$set(_vm.filters, \"search\", $$v)},expression:\"filters.search\"}}),_c('b-input-group-append',[_c('b-button',{attrs:{\"variant\":\"outline-secondary\",\"disabled\":!_vm.filters.search},on:{\"click\":_vm.clearSearch}},[_c('feather-icon',{attrs:{\"icon\":\"XIcon\",\"size\":\"14\"}})],1)],1)],1)],1)],1),_c('b-col',{staticClass:\"mb-2\",attrs:{\"cols\":\"12\",\"sm\":\"6\",\"md\":\"3\",\"lg\":\"3\"}},[_c('b-form-group',{staticClass:\"mb-0\",attrs:{\"label\":\"Date From\",\"label-for\":\"date-from\"}},[_c('b-input-group',[_c('b-input-group-prepend',[_c('b-input-group-text',{staticClass:\"bg-white\"},[_c('feather-icon',{attrs:{\"icon\":\"CalendarIcon\",\"size\":\"16\"}})],1)],1),_c('b-form-input',{attrs:{\"id\":\"date-from\",\"type\":\"date\"},on:{\"input\":_vm.onFilterChange},model:{value:(_vm.filters.dateFrom),callback:function ($$v) {_vm.$set(_vm.filters, \"dateFrom\", $$v)},expression:\"filters.dateFrom\"}})],1)],1)],1),_c('b-col',{staticClass:\"mb-2\",attrs:{\"cols\":\"12\",\"sm\":\"6\",\"md\":\"3\",\"lg\":\"3\"}},[_c('b-form-group',{staticClass:\"mb-0\",attrs:{\"label\":\"Date To\",\"label-for\":\"date-to\"}},[_c('b-input-group',[_c('b-input-group-prepend',[_c('b-input-group-text',{staticClass:\"bg-white\"},[_c('feather-icon',{attrs:{\"icon\":\"CalendarIcon\",\"size\":\"16\"}})],1)],1),_c('b-form-input',{attrs:{\"id\":\"date-to\",\"type\":\"date\"},on:{\"input\":_vm.onFilterChange},model:{value:(_vm.filters.dateTo),callback:function ($$v) {_vm.$set(_vm.filters, \"dateTo\", $$v)},expression:\"filters.dateTo\"}})],1)],1)],1)],1),_c('b-row',[_c('b-col',{staticClass:\"mb-2\",attrs:{\"cols\":\"12\",\"sm\":\"6\",\"md\":\"3\",\"lg\":\"3\"}},[_c('b-form-group',{staticClass:\"mb-0\",attrs:{\"label\":\"Return Type\",\"label-for\":\"return-type-filter\"}},[_c('b-input-group',[_c('b-input-group-prepend',[_c('b-input-group-text',{staticClass:\"bg-white\"},[_c('feather-icon',{attrs:{\"icon\":\"TagIcon\",\"size\":\"16\"}})],1)],1),_c('b-form-select',{attrs:{\"id\":\"return-type-filter\",\"options\":_vm.returnTypeOptions},on:{\"input\":_vm.onFilterChange},model:{value:(_vm.filters.returnType),callback:function ($$v) {_vm.$set(_vm.filters, \"returnType\", $$v)},expression:\"filters.returnType\"}})],1)],1)],1),_c('b-col',{staticClass:\"mb-2\",attrs:{\"cols\":\"12\",\"sm\":\"6\",\"md\":\"3\",\"lg\":\"3\"}},[_c('b-form-group',{staticClass:\"mb-0\",attrs:{\"label\":\"Voucher Status\",\"label-for\":\"voucher-status-filter\"}},[_c('b-input-group',[_c('b-input-group-prepend',[_c('b-input-group-text',{staticClass:\"bg-white\"},[_c('feather-icon',{attrs:{\"icon\":\"CreditCardIcon\",\"size\":\"16\"}})],1)],1),_c('b-form-select',{attrs:{\"id\":\"voucher-status-filter\",\"options\":_vm.voucherStatusOptions},on:{\"input\":_vm.onFilterChange},model:{value:(_vm.filters.voucherStatus),callback:function ($$v) {_vm.$set(_vm.filters, \"voucherStatus\", $$v)},expression:\"filters.voucherStatus\"}})],1)],1)],1),_c('b-col',{staticClass:\"mb-2\",attrs:{\"cols\":\"12\",\"sm\":\"6\",\"md\":\"3\",\"lg\":\"3\"}},[_c('b-form-group',{staticClass:\"mb-0\",attrs:{\"label\":\"Sync Status\",\"label-for\":\"sync-status-filter\"}},[_c('b-input-group',[_c('b-input-group-prepend',[_c('b-input-group-text',{staticClass:\"bg-white\"},[_c('feather-icon',{attrs:{\"icon\":\"CloudIcon\",\"size\":\"16\"}})],1)],1),_c('b-form-select',{attrs:{\"id\":\"sync-status-filter\",\"options\":_vm.syncStatusOptions},on:{\"input\":_vm.onFilterChange},model:{value:(_vm.filters.syncStatus),callback:function ($$v) {_vm.$set(_vm.filters, \"syncStatus\", $$v)},expression:\"filters.syncStatus\"}})],1)],1)],1)],1)],1)])],1),_c('b-card',[_c('b-table',{staticClass:\"cursor-pointer\",attrs:{\"items\":_vm.returns,\"fields\":_vm.returnFields,\"striped\":\"\",\"hover\":\"\",\"responsive\":\"\",\"busy\":_vm.loading,\"sort-by\":_vm.sortBy,\"sort-desc\":_vm.sortDesc,\"show-empty\":\"\"},on:{\"row-clicked\":_vm.viewReturnDetails},scopedSlots:_vm._u([{key:\"table-busy\",fn:function(){return [_c('div',{staticClass:\"text-center text-danger my-2\"},[_c('b-spinner',{staticClass:\"align-middle\"}),_c('strong',[_vm._v(\" Loading...\")])],1)]},proxy:true},{key:\"empty\",fn:function(){return [_c('div',{staticClass:\"text-center py-4\"},[_c('p',{staticClass:\"text-muted\"},[_vm._v(\"No returns found\")])])]},proxy:true},{key:\"cell(returnNumber)\",fn:function(row){return [_c('strong',[_vm._v(_vm._s(row.item.returnNumber))])]}},{key:\"cell(returnDate)\",fn:function(row){return [_vm._v(\" \"+_vm._s(_vm.formatDate(row.item.returnDate))+\" \")]}},{key:\"cell(returnType)\",fn:function(row){return [_c('b-badge',{attrs:{\"variant\":row.item.returnType === 'SIMPLE_RETURN' ? 'danger' : 'info'}},[_vm._v(\" \"+_vm._s(row.item.returnType === 'SIMPLE_RETURN' ? 'Simple Return' : 'Return Voucher')+\" \")])]}},{key:\"cell(totalReturnAmount)\",fn:function(row){return [_c('strong',[_vm._v(_vm._s(_vm.formatPrice(row.item.totalReturnAmount))+\" TND\")])]}},{key:\"cell(originalTicket)\",fn:function(row){return [(row.item.originalSalesHeader)?_c('span',[_vm._v(\" \"+_vm._s(row.item.originalSalesHeader.salesNumber)+\" \")]):_c('span',{staticClass:\"text-muted\"},[_vm._v(\"N/A\")])]}},{key:\"cell(voucherInfo)\",fn:function(row){return [(row.item.returnVoucher)?_c('div',[_c('div',[_c('strong',[_vm._v(_vm._s(row.item.returnVoucher.voucherNumber))])]),_c('div',{staticClass:\"small text-muted\"},[(row.item.returnVoucher.status === 'PENDING')?_c('span',[_vm._v(\" Remaining: \"+_vm._s(_vm.formatPrice(_vm.getRemainingAmount(row.item.returnVoucher)))+\" TND \")]):_vm._e(),_c('b-badge',{staticClass:\"mt-1\",attrs:{\"variant\":_vm.getVoucherStatusVariant(row.item.returnVoucher.status)}},[_vm._v(\" \"+_vm._s(row.item.returnVoucher.status)+\" \")])],1)]):_c('span',{staticClass:\"text-muted\"},[_vm._v(\"-\")])]}},{key:\"cell(synchronizationStatus)\",fn:function(row){return [_c('div',{staticClass:\"sync-status-cell\"},[_c('b-badge',{staticClass:\"sync-badge\",attrs:{\"variant\":_vm.getSyncStatusVariant(row.item.synchronizationStatus)}},[_c('feather-icon',{staticClass:\"mr-1\",attrs:{\"icon\":_vm.getSyncStatusIcon(row.item.synchronizationStatus),\"size\":\"12\"}}),_vm._v(\" \"+_vm._s(_vm.formatSyncStatus(row.item.synchronizationStatus))+\" \")],1),(row.item.erpNo)?_c('small',{staticClass:\"text-muted d-block mt-1\"},[_vm._v(\" ERP: \"+_vm._s(row.item.erpNo)+\" \")]):_vm._e()],1)]}}])}),_c('div',{staticClass:\"mt-3\"},[_c('b-row',{attrs:{\"align-v\":\"center\"}},[_c('b-col',{staticClass:\"mb-2 mb-md-0\",attrs:{\"cols\":\"12\",\"md\":\"6\"}},[_c('div',{staticClass:\"d-flex align-items-center\"},[_c('label',{staticClass:\"mr-2 mb-0\",attrs:{\"for\":\"per-page-select\"}},[_vm._v(\"Items per page:\")]),_c('b-form-select',{staticStyle:{\"width\":\"auto\"},attrs:{\"id\":\"per-page-select\",\"options\":_vm.perPageOptions,\"size\":\"sm\"},on:{\"change\":_vm.onPerPageChange},model:{value:(_vm.perPage),callback:function ($$v) {_vm.perPage=$$v},expression:\"perPage\"}})],1)]),_c('b-col',{attrs:{\"cols\":\"12\",\"md\":\"6\"}},[_c('div',{staticClass:\"text-center text-md-right\"},[_c('small',{staticClass:\"text-muted\"},[_vm._v(\" Showing \"+_vm._s(_vm.startIndex)+\" to \"+_vm._s(_vm.endIndex)+\" of \"+_vm._s(_vm.totalRows)+\" returns \")])])])],1),_c('div',{staticClass:\"d-flex justify-content-center mt-2\"},[_c('b-pagination',{attrs:{\"total-rows\":_vm.totalRows,\"per-page\":_vm.perPage,\"align\":\"center\"},on:{\"change\":_vm.onPageChange},model:{value:(_vm.currentPage),callback:function ($$v) {_vm.currentPage=$$v},expression:\"currentPage\"}})],1)],1)],1),_c('b-modal',{attrs:{\"id\":\"return-details-modal\",\"title\":\"Return Details\",\"size\":\"xl\",\"hide-footer\":\"\",\"scrollable\":\"\"},model:{value:(_vm.showDetailsModal),callback:function ($$v) {_vm.showDetailsModal=$$v},expression:\"showDetailsModal\"}},[(_vm.selectedReturn)?_c('div',[_c('b-card',{staticClass:\"mb-3\"},[_c('h5',{staticClass:\"mb-3\"},[_vm._v(\"Return Information\")]),_c('b-row',[_c('b-col',{attrs:{\"cols\":\"12\",\"md\":\"6\"}},[_c('div',{staticClass:\"detail-row\"},[_c('span',{staticClass:\"detail-label\"},[_vm._v(\"Return Number:\")]),_c('span',{staticClass:\"detail-value\"},[_c('strong',[_vm._v(_vm._s(_vm.selectedReturn.returnNumber))])])]),_c('div',{staticClass:\"detail-row\"},[_c('span',{staticClass:\"detail-label\"},[_vm._v(\"Return Date:\")]),_c('span',{staticClass:\"detail-value\"},[_vm._v(_vm._s(_vm.formatDate(_vm.selectedReturn.returnDate)))])]),_c('div',{staticClass:\"detail-row\"},[_c('span',{staticClass:\"detail-label\"},[_vm._v(\"Return Type:\")]),_c('span',{staticClass:\"detail-value\"},[_c('b-badge',{attrs:{\"variant\":_vm.selectedReturn.returnType === 'SIMPLE_RETURN' ? 'danger' : 'info'}},[_vm._v(\" \"+_vm._s(_vm.selectedReturn.returnType === 'SIMPLE_RETURN' ? 'Simple Return' : 'Return Voucher')+\" \")])],1)]),_c('div',{staticClass:\"detail-row\"},[_c('span',{staticClass:\"detail-label\"},[_vm._v(\"Total Amount:\")]),_c('span',{staticClass:\"detail-value\"},[_c('strong',[_vm._v(_vm._s(_vm.formatPrice(_vm.selectedReturn.totalReturnAmount))+\" TND\")])])])]),_c('b-col',{attrs:{\"cols\":\"12\",\"md\":\"6\"}},[(_vm.selectedReturn.originalSalesHeader)?_c('div',{staticClass:\"detail-row\"},[_c('span',{staticClass:\"detail-label\"},[_vm._v(\"Original Ticket:\")]),_c('span',{staticClass:\"detail-value\"},[_c('strong',[_vm._v(_vm._s(_vm.selectedReturn.originalSalesHeader.salesNumber))]),_c('br'),_c('small',{staticClass:\"text-muted\"},[_vm._v(_vm._s(_vm.formatDate(_vm.selectedReturn.originalSalesHeader.salesDate)))])])]):_vm._e(),(_vm.selectedReturn.notes)?_c('div',{staticClass:\"detail-row\"},[_c('span',{staticClass:\"detail-label\"},[_vm._v(\"Notes:\")]),_c('span',{staticClass:\"detail-value\"},[_vm._v(_vm._s(_vm.selectedReturn.notes))])]):_vm._e()])],1)],1),_c('b-card',{staticClass:\"mb-3 sync-info-card\"},[_c('div',{staticClass:\"d-flex align-items-center mb-3\"},[_c('feather-icon',{staticClass:\"mr-2 text-primary\",attrs:{\"icon\":\"CloudIcon\",\"size\":\"20\"}}),_c('h5',{staticClass:\"mb-0\"},[_vm._v(\"ERP Synchronization\")])],1),_c('b-row',[_c('b-col',{attrs:{\"md\":\"6\"}},[_c('div',{staticClass:\"sync-detail-item\"},[_c('label',{staticClass:\"sync-label\"},[_vm._v(\"Synchronization Status\")]),_c('div',{staticClass:\"sync-value\"},[_c('b-badge',{staticClass:\"sync-badge-large\",attrs:{\"variant\":_vm.getSyncStatusVariant(_vm.selectedReturn.synchronizationStatus)}},[_c('feather-icon',{staticClass:\"mr-1\",attrs:{\"icon\":_vm.getSyncStatusIcon(_vm.selectedReturn.synchronizationStatus),\"size\":\"14\"}}),_vm._v(\" \"+_vm._s(_vm.formatSyncStatus(_vm.selectedReturn.synchronizationStatus))+\" \")],1)],1)])]),_c('b-col',{attrs:{\"md\":\"6\"}},[_c('div',{staticClass:\"sync-detail-item\"},[_c('label',{staticClass:\"sync-label\"},[_vm._v(\"ERP Document Number\")]),_c('div',{staticClass:\"sync-value\"},[(_vm.selectedReturn.erpNo)?_c('code',{staticClass:\"erp-number\"},[_vm._v(_vm._s(_vm.selectedReturn.erpNo))]):_c('span',{staticClass:\"text-muted\"},[_vm._v(\"Not synchronized\")])])])])],1),(_vm.selectedReturn.returnLines)?_c('div',{staticClass:\"mt-3\"},[_c('div',{staticClass:\"sync-summary\"},[_c('small',{staticClass:\"text-muted\"},[_vm._v(\" Lines synchronized: \"),_c('strong',[_vm._v(_vm._s(_vm.getSyncedLinesCount(_vm.selectedReturn.returnLines))+\" / \"+_vm._s(_vm.selectedReturn.returnLines.length))])])])]):_vm._e()],1),(_vm.selectedReturn.returnVoucher)?_c('b-card',{staticClass:\"mb-3\"},[_c('h5',{staticClass:\"mb-3\"},[_vm._v(\"Voucher Information\")]),_c('b-row',[_c('b-col',{attrs:{\"cols\":\"12\",\"md\":\"6\"}},[_c('div',{staticClass:\"detail-row\"},[_c('span',{staticClass:\"detail-label\"},[_vm._v(\"Voucher Number:\")]),_c('span',{staticClass:\"detail-value\"},[_c('strong',[_vm._v(_vm._s(_vm.selectedReturn.returnVoucher.voucherNumber))])])]),_c('div',{staticClass:\"detail-row\"},[_c('span',{staticClass:\"detail-label\"},[_vm._v(\"Voucher Amount:\")]),_c('span',{staticClass:\"detail-value\"},[_c('strong',[_vm._v(_vm._s(_vm.formatPrice(_vm.selectedReturn.returnVoucher.voucherAmount))+\" TND\")])])]),_c('div',{staticClass:\"detail-row\"},[_c('span',{staticClass:\"detail-label\"},[_vm._v(\"Used Amount:\")]),_c('span',{staticClass:\"detail-value\"},[_vm._v(_vm._s(_vm.formatPrice(_vm.selectedReturn.returnVoucher.usedAmount || 0))+\" TND\")])]),_c('div',{staticClass:\"detail-row\"},[_c('span',{staticClass:\"detail-label\"},[_vm._v(\"Remaining Amount:\")]),_c('span',{staticClass:\"detail-value\"},[_c('strong',{staticClass:\"text-success\"},[_vm._v(_vm._s(_vm.formatPrice(_vm.getRemainingAmount(_vm.selectedReturn.returnVoucher)))+\" TND\")])])])]),_c('b-col',{attrs:{\"cols\":\"12\",\"md\":\"6\"}},[_c('div',{staticClass:\"detail-row\"},[_c('span',{staticClass:\"detail-label\"},[_vm._v(\"Issue Date:\")]),_c('span',{staticClass:\"detail-value\"},[_vm._v(_vm._s(_vm.formatDate(_vm.selectedReturn.returnVoucher.voucherDate)))])]),_c('div',{staticClass:\"detail-row\"},[_c('span',{staticClass:\"detail-label\"},[_vm._v(\"Expiry Date:\")]),_c('span',{staticClass:\"detail-value\"},[_c('span',{class:{ 'text-danger': _vm.isVoucherExpired(_vm.selectedReturn.returnVoucher) }},[_vm._v(\" \"+_vm._s(_vm.formatDate(_vm.selectedReturn.returnVoucher.expiryDate))+\" \")])])]),_c('div',{staticClass:\"detail-row\"},[_c('span',{staticClass:\"detail-label\"},[_vm._v(\"Status:\")]),_c('span',{staticClass:\"detail-value\"},[_c('b-badge',{attrs:{\"variant\":_vm.getVoucherStatusVariant(_vm.selectedReturn.returnVoucher.status)}},[_vm._v(\" \"+_vm._s(_vm.selectedReturn.returnVoucher.status)+\" \")])],1)]),(_vm.selectedReturn.returnVoucher.customerName)?_c('div',{staticClass:\"detail-row\"},[_c('span',{staticClass:\"detail-label\"},[_vm._v(\"Customer:\")]),_c('span',{staticClass:\"detail-value\"},[_vm._v(_vm._s(_vm.selectedReturn.returnVoucher.customerName))])]):_vm._e()])],1)],1):_vm._e(),_c('b-card',[_c('h5',{staticClass:\"mb-3\"},[_vm._v(\"Returned Items\")]),_c('b-table',{attrs:{\"items\":_vm.selectedReturn.returnLines || [],\"fields\":_vm.returnLineFields,\"small\":\"\",\"striped\":\"\",\"responsive\":\"\"},scopedSlots:_vm._u([{key:\"cell(item)\",fn:function(row){return [_c('div',[_c('strong',[_vm._v(_vm._s(row.item.item ? row.item.item.name : 'N/A'))]),(row.item.item && row.item.item.itemCode)?_c('div',{staticClass:\"small text-muted\"},[_vm._v(\" Code: \"+_vm._s(row.item.item.itemCode)+\" \")]):_vm._e()])]}},{key:\"cell(quantity)\",fn:function(row){return [_vm._v(\" \"+_vm._s(row.item.quantity)+\" \")]}},{key:\"cell(unitPrice)\",fn:function(row){return [_vm._v(\" \"+_vm._s(_vm.formatPrice(row.item.unitPrice))+\" TND \")]}},{key:\"cell(lineTotal)\",fn:function(row){return [_c('strong',[_vm._v(_vm._s(_vm.formatPrice(row.item.lineTotalIncludingVat || row.item.lineTotal))+\" TND\")])]}},{key:\"cell(synched)\",fn:function(row){return [_c('b-badge',{staticClass:\"sync-indicator\",attrs:{\"variant\":_vm.isSynched(row.item.synched) ? 'success' : 'secondary'}},[_c('feather-icon',{staticClass:\"mr-1\",attrs:{\"icon\":_vm.isSynched(row.item.synched) ? 'CheckIcon' : 'XIcon',\"size\":\"12\"}}),_vm._v(\" \"+_vm._s(_vm.isSynched(row.item.synched) ? 'Synced' : 'Not Synced')+\" \")],1)]}}],null,false,1390383645)})],1),_c('div',{staticClass:\"text-right mt-3\"},[(_vm.selectedReturn.returnType === 'RETURN_VOUCHER' && _vm.selectedReturn.returnVoucher)?_c('b-button',{staticClass:\"mr-2\",attrs:{\"variant\":\"success\"},on:{\"click\":function($event){return _vm.printVoucher(_vm.selectedReturn)}}},[_c('feather-icon',{staticClass:\"mr-1\",attrs:{\"icon\":\"PrinterIcon\",\"size\":\"16\"}}),_vm._v(\" Print Voucher \")],1):_vm._e(),_c('b-button',{attrs:{\"variant\":\"secondary\"},on:{\"click\":function($event){_vm.showDetailsModal = false}}},[_vm._v(\" Close \")])],1)],1):_vm._e()])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"returns-management-container\">\r\n    <div class=\"page-header\">\r\n      <h2 class=\"mb-0\">Returns Management</h2>\r\n      <b-button variant=\"outline-primary\" @click=\"loadReturns\">\r\n        <feather-icon icon=\"RefreshCwIcon\" size=\"16\" />\r\n        Refresh\r\n      </b-button>\r\n    </div>\r\n\r\n    <!-- Filters and Search -->\r\n    <b-card class=\"mb-2\">\r\n      <div @click=\"toggleFilters\" role=\"button\" tabindex=\"0\" @keyup.enter=\"toggleFilters\">\r\n        <div class=\"d-flex align-items-center justify-content-between\">\r\n          <div class=\"d-flex align-items-center\">\r\n            <feather-icon icon=\"FilterIcon\" size=\"18\" class=\"mr-2 text-primary\" />\r\n            <h6 class=\"mb-0 text-primary font-weight-bold\">\r\n              Filters\r\n              <span class=\"text-muted font-weight-normal ml-2\">(Total: {{ totalRows }} {{ totalRows === 1 ? 'return' :\r\n                'returns' }})</span>\r\n            </h6>\r\n          </div>\r\n          <feather-icon :icon=\"filtersExpanded ? 'ChevronUpIcon' : 'ChevronDownIcon'\" size=\"20\" class=\"text-primary\" />\r\n        </div>\r\n      </div>\r\n      <b-collapse v-model=\"filtersExpanded\" id=\"filters-collapse\">\r\n        <div class=\"pt-2\">\r\n          <!-- First Row: Search and Date Filters -->\r\n          <b-row>\r\n            <b-col cols=\"12\" sm=\"6\" md=\"6\" lg=\"6\" class=\"mb-2\">\r\n              <b-form-group label=\"Search\" label-for=\"search-input\" class=\"mb-0\">\r\n                <b-input-group>\r\n                  <b-input-group-prepend>\r\n                    <b-input-group-text class=\"bg-white\">\r\n                      <feather-icon icon=\"SearchIcon\" size=\"16\" />\r\n                    </b-input-group-text>\r\n                  </b-input-group-prepend>\r\n                  <b-form-input id=\"search-input\" v-model=\"filters.search\"\r\n                    placeholder=\"Search by return number, ticket number, voucher number...\" @input=\"onFilterChange\" />\r\n                  <b-input-group-append>\r\n                    <b-button variant=\"outline-secondary\" @click=\"clearSearch\" :disabled=\"!filters.search\">\r\n                      <feather-icon icon=\"XIcon\" size=\"14\" />\r\n                    </b-button>\r\n                  </b-input-group-append>\r\n                </b-input-group>\r\n              </b-form-group>\r\n            </b-col>\r\n            <b-col cols=\"12\" sm=\"6\" md=\"3\" lg=\"3\" class=\"mb-2\">\r\n              <b-form-group label=\"Date From\" label-for=\"date-from\" class=\"mb-0\">\r\n                <b-input-group>\r\n                  <b-input-group-prepend>\r\n                    <b-input-group-text class=\"bg-white\">\r\n                      <feather-icon icon=\"CalendarIcon\" size=\"16\" />\r\n                    </b-input-group-text>\r\n                  </b-input-group-prepend>\r\n                  <b-form-input id=\"date-from\" v-model=\"filters.dateFrom\" type=\"date\" @input=\"onFilterChange\" />\r\n                </b-input-group>\r\n              </b-form-group>\r\n            </b-col>\r\n            <b-col cols=\"12\" sm=\"6\" md=\"3\" lg=\"3\" class=\"mb-2\">\r\n              <b-form-group label=\"Date To\" label-for=\"date-to\" class=\"mb-0\">\r\n                <b-input-group>\r\n                  <b-input-group-prepend>\r\n                    <b-input-group-text class=\"bg-white\">\r\n                      <feather-icon icon=\"CalendarIcon\" size=\"16\" />\r\n                    </b-input-group-text>\r\n                  </b-input-group-prepend>\r\n                  <b-form-input id=\"date-to\" v-model=\"filters.dateTo\" type=\"date\" @input=\"onFilterChange\" />\r\n                </b-input-group>\r\n              </b-form-group>\r\n            </b-col>\r\n          </b-row>\r\n          <!-- Second Row: Status Filters -->\r\n          <b-row>\r\n            <b-col cols=\"12\" sm=\"6\" md=\"3\" lg=\"3\" class=\"mb-2\">\r\n              <b-form-group label=\"Return Type\" label-for=\"return-type-filter\" class=\"mb-0\">\r\n                <b-input-group>\r\n                  <b-input-group-prepend>\r\n                    <b-input-group-text class=\"bg-white\">\r\n                      <feather-icon icon=\"TagIcon\" size=\"16\" />\r\n                    </b-input-group-text>\r\n                  </b-input-group-prepend>\r\n                  <b-form-select id=\"return-type-filter\" v-model=\"filters.returnType\" :options=\"returnTypeOptions\"\r\n                    @input=\"onFilterChange\" />\r\n                </b-input-group>\r\n              </b-form-group>\r\n            </b-col>\r\n            <b-col cols=\"12\" sm=\"6\" md=\"3\" lg=\"3\" class=\"mb-2\">\r\n              <b-form-group label=\"Voucher Status\" label-for=\"voucher-status-filter\" class=\"mb-0\">\r\n                <b-input-group>\r\n                  <b-input-group-prepend>\r\n                    <b-input-group-text class=\"bg-white\">\r\n                      <feather-icon icon=\"CreditCardIcon\" size=\"16\" />\r\n                    </b-input-group-text>\r\n                  </b-input-group-prepend>\r\n                  <b-form-select id=\"voucher-status-filter\" v-model=\"filters.voucherStatus\"\r\n                    :options=\"voucherStatusOptions\" @input=\"onFilterChange\" />\r\n                </b-input-group>\r\n              </b-form-group>\r\n            </b-col>\r\n            <b-col cols=\"12\" sm=\"6\" md=\"3\" lg=\"3\" class=\"mb-2\">\r\n              <b-form-group label=\"Sync Status\" label-for=\"sync-status-filter\" class=\"mb-0\">\r\n                <b-input-group>\r\n                  <b-input-group-prepend>\r\n                    <b-input-group-text class=\"bg-white\">\r\n                      <feather-icon icon=\"CloudIcon\" size=\"16\" />\r\n                    </b-input-group-text>\r\n                  </b-input-group-prepend>\r\n                  <b-form-select id=\"sync-status-filter\" v-model=\"filters.syncStatus\" :options=\"syncStatusOptions\"\r\n                    @input=\"onFilterChange\" />\r\n                </b-input-group>\r\n              </b-form-group>\r\n            </b-col>\r\n          </b-row>\r\n        </div>\r\n      </b-collapse>\r\n    </b-card>\r\n\r\n    <!-- Returns Table -->\r\n    <b-card>\r\n      <b-table :items=\"returns\" :fields=\"returnFields\" striped hover responsive :busy=\"loading\" :sort-by=\"sortBy\"\r\n        :sort-desc=\"sortDesc\" @row-clicked=\"viewReturnDetails\" class=\"cursor-pointer\" show-empty>\r\n        <template #table-busy>\r\n          <div class=\"text-center text-danger my-2\">\r\n            <b-spinner class=\"align-middle\"></b-spinner>\r\n            <strong> Loading...</strong>\r\n          </div>\r\n        </template>\r\n\r\n        <template #empty>\r\n          <div class=\"text-center py-4\">\r\n            <p class=\"text-muted\">No returns found</p>\r\n          </div>\r\n        </template>\r\n\r\n        <template #cell(returnNumber)=\"row\">\r\n          <strong>{{ row.item.returnNumber }}</strong>\r\n        </template>\r\n\r\n        <template #cell(returnDate)=\"row\">\r\n          {{ formatDate(row.item.returnDate) }}\r\n        </template>\r\n\r\n        <template #cell(returnType)=\"row\">\r\n          <b-badge :variant=\"row.item.returnType === 'SIMPLE_RETURN' ? 'danger' : 'info'\">\r\n            {{ row.item.returnType === 'SIMPLE_RETURN' ? 'Simple Return' : 'Return Voucher' }}\r\n          </b-badge>\r\n        </template>\r\n\r\n        <template #cell(totalReturnAmount)=\"row\">\r\n          <strong>{{ formatPrice(row.item.totalReturnAmount) }} TND</strong>\r\n        </template>\r\n\r\n        <template #cell(originalTicket)=\"row\">\r\n          <span v-if=\"row.item.originalSalesHeader\">\r\n            {{ row.item.originalSalesHeader.salesNumber }}\r\n          </span>\r\n          <span v-else class=\"text-muted\">N/A</span>\r\n        </template>\r\n\r\n        <template #cell(voucherInfo)=\"row\">\r\n          <div v-if=\"row.item.returnVoucher\">\r\n            <div><strong>{{ row.item.returnVoucher.voucherNumber }}</strong></div>\r\n            <div class=\"small text-muted\">\r\n              <span v-if=\"row.item.returnVoucher.status === 'PENDING'\">\r\n                Remaining: {{ formatPrice(getRemainingAmount(row.item.returnVoucher)) }} TND\r\n              </span>\r\n              <b-badge :variant=\"getVoucherStatusVariant(row.item.returnVoucher.status)\" class=\"mt-1\">\r\n                {{ row.item.returnVoucher.status }}\r\n              </b-badge>\r\n            </div>\r\n          </div>\r\n          <span v-else class=\"text-muted\">-</span>\r\n        </template>\r\n\r\n        <template #cell(synchronizationStatus)=\"row\">\r\n          <div class=\"sync-status-cell\">\r\n            <b-badge :variant=\"getSyncStatusVariant(row.item.synchronizationStatus)\" class=\"sync-badge\">\r\n              <feather-icon :icon=\"getSyncStatusIcon(row.item.synchronizationStatus)\" size=\"12\" class=\"mr-1\" />\r\n              {{ formatSyncStatus(row.item.synchronizationStatus) }}\r\n            </b-badge>\r\n            <small v-if=\"row.item.erpNo\" class=\"text-muted d-block mt-1\">\r\n              ERP: {{ row.item.erpNo }}\r\n            </small>\r\n          </div>\r\n        </template>\r\n\r\n      </b-table>\r\n\r\n      <!-- Pagination -->\r\n      <div class=\"mt-3\">\r\n        <b-row align-v=\"center\">\r\n          <b-col cols=\"12\" md=\"6\" class=\"mb-2 mb-md-0\">\r\n            <div class=\"d-flex align-items-center\">\r\n              <label for=\"per-page-select\" class=\"mr-2 mb-0\">Items per page:</label>\r\n              <b-form-select id=\"per-page-select\" v-model=\"perPage\" :options=\"perPageOptions\" size=\"sm\"\r\n                style=\"width: auto;\" @change=\"onPerPageChange\" />\r\n            </div>\r\n          </b-col>\r\n          <b-col cols=\"12\" md=\"6\">\r\n            <div class=\"text-center text-md-right\">\r\n              <small class=\"text-muted\">\r\n                Showing {{ startIndex }} to {{ endIndex }} of {{ totalRows }} returns\r\n              </small>\r\n            </div>\r\n          </b-col>\r\n        </b-row>\r\n        <div class=\"d-flex justify-content-center mt-2\">\r\n          <b-pagination v-model=\"currentPage\" :total-rows=\"totalRows\" :per-page=\"perPage\" align=\"center\"\r\n            @change=\"onPageChange\" />\r\n        </div>\r\n      </div>\r\n    </b-card>\r\n\r\n    <!-- Return Details Modal -->\r\n    <b-modal id=\"return-details-modal\" v-model=\"showDetailsModal\" title=\"Return Details\" size=\"xl\" hide-footer\r\n      scrollable>\r\n      <div v-if=\"selectedReturn\">\r\n        <!-- Return Header Info -->\r\n        <b-card class=\"mb-3\">\r\n          <h5 class=\"mb-3\">Return Information</h5>\r\n          <b-row>\r\n            <b-col cols=\"12\" md=\"6\">\r\n              <div class=\"detail-row\">\r\n                <span class=\"detail-label\">Return Number:</span>\r\n                <span class=\"detail-value\"><strong>{{ selectedReturn.returnNumber }}</strong></span>\r\n              </div>\r\n              <div class=\"detail-row\">\r\n                <span class=\"detail-label\">Return Date:</span>\r\n                <span class=\"detail-value\">{{ formatDate(selectedReturn.returnDate) }}</span>\r\n              </div>\r\n              <div class=\"detail-row\">\r\n                <span class=\"detail-label\">Return Type:</span>\r\n                <span class=\"detail-value\">\r\n                  <b-badge :variant=\"selectedReturn.returnType === 'SIMPLE_RETURN' ? 'danger' : 'info'\">\r\n                    {{ selectedReturn.returnType === 'SIMPLE_RETURN' ? 'Simple Return' : 'Return Voucher' }}\r\n                  </b-badge>\r\n                </span>\r\n              </div>\r\n              <div class=\"detail-row\">\r\n                <span class=\"detail-label\">Total Amount:</span>\r\n                <span class=\"detail-value\"><strong>{{ formatPrice(selectedReturn.totalReturnAmount) }}\r\n                    TND</strong></span>\r\n              </div>\r\n            </b-col>\r\n            <b-col cols=\"12\" md=\"6\">\r\n              <div class=\"detail-row\" v-if=\"selectedReturn.originalSalesHeader\">\r\n                <span class=\"detail-label\">Original Ticket:</span>\r\n                <span class=\"detail-value\">\r\n                  <strong>{{ selectedReturn.originalSalesHeader.salesNumber }}</strong>\r\n                  <br>\r\n                  <small class=\"text-muted\">{{ formatDate(selectedReturn.originalSalesHeader.salesDate) }}</small>\r\n                </span>\r\n              </div>\r\n              <div class=\"detail-row\" v-if=\"selectedReturn.notes\">\r\n                <span class=\"detail-label\">Notes:</span>\r\n                <span class=\"detail-value\">{{ selectedReturn.notes }}</span>\r\n              </div>\r\n            </b-col>\r\n          </b-row>\r\n        </b-card>\r\n\r\n        <!-- Synchronization Information -->\r\n        <b-card class=\"mb-3 sync-info-card\">\r\n          <div class=\"d-flex align-items-center mb-3\">\r\n            <feather-icon icon=\"CloudIcon\" size=\"20\" class=\"mr-2 text-primary\" />\r\n            <h5 class=\"mb-0\">ERP Synchronization</h5>\r\n          </div>\r\n          <b-row>\r\n            <b-col md=\"6\">\r\n              <div class=\"sync-detail-item\">\r\n                <label class=\"sync-label\">Synchronization Status</label>\r\n                <div class=\"sync-value\">\r\n                  <b-badge :variant=\"getSyncStatusVariant(selectedReturn.synchronizationStatus)\"\r\n                    class=\"sync-badge-large\">\r\n                    <feather-icon :icon=\"getSyncStatusIcon(selectedReturn.synchronizationStatus)\" size=\"14\"\r\n                      class=\"mr-1\" />\r\n                    {{ formatSyncStatus(selectedReturn.synchronizationStatus) }}\r\n                  </b-badge>\r\n                </div>\r\n              </div>\r\n            </b-col>\r\n            <b-col md=\"6\">\r\n              <div class=\"sync-detail-item\">\r\n                <label class=\"sync-label\">ERP Document Number</label>\r\n                <div class=\"sync-value\">\r\n                  <code v-if=\"selectedReturn.erpNo\" class=\"erp-number\">{{ selectedReturn.erpNo }}</code>\r\n                  <span v-else class=\"text-muted\">Not synchronized</span>\r\n                </div>\r\n              </div>\r\n            </b-col>\r\n          </b-row>\r\n          <div v-if=\"selectedReturn.returnLines\" class=\"mt-3\">\r\n            <div class=\"sync-summary\">\r\n              <small class=\"text-muted\">\r\n                Lines synchronized:\r\n                <strong>{{ getSyncedLinesCount(selectedReturn.returnLines) }} / {{ selectedReturn.returnLines.length\r\n                  }}</strong>\r\n              </small>\r\n            </div>\r\n          </div>\r\n        </b-card>\r\n\r\n        <!-- Voucher Information (if applicable) -->\r\n        <b-card v-if=\"selectedReturn.returnVoucher\" class=\"mb-3\">\r\n          <h5 class=\"mb-3\">Voucher Information</h5>\r\n          <b-row>\r\n            <b-col cols=\"12\" md=\"6\">\r\n              <div class=\"detail-row\">\r\n                <span class=\"detail-label\">Voucher Number:</span>\r\n                <span class=\"detail-value\"><strong>{{ selectedReturn.returnVoucher.voucherNumber }}</strong></span>\r\n              </div>\r\n              <div class=\"detail-row\">\r\n                <span class=\"detail-label\">Voucher Amount:</span>\r\n                <span class=\"detail-value\"><strong>{{ formatPrice(selectedReturn.returnVoucher.voucherAmount) }}\r\n                    TND</strong></span>\r\n              </div>\r\n              <div class=\"detail-row\">\r\n                <span class=\"detail-label\">Used Amount:</span>\r\n                <span class=\"detail-value\">{{ formatPrice(selectedReturn.returnVoucher.usedAmount || 0) }} TND</span>\r\n              </div>\r\n              <div class=\"detail-row\">\r\n                <span class=\"detail-label\">Remaining Amount:</span>\r\n                <span class=\"detail-value\">\r\n                  <strong class=\"text-success\">{{ formatPrice(getRemainingAmount(selectedReturn.returnVoucher)) }}\r\n                    TND</strong>\r\n                </span>\r\n              </div>\r\n            </b-col>\r\n            <b-col cols=\"12\" md=\"6\">\r\n              <div class=\"detail-row\">\r\n                <span class=\"detail-label\">Issue Date:</span>\r\n                <span class=\"detail-value\">{{ formatDate(selectedReturn.returnVoucher.voucherDate) }}</span>\r\n              </div>\r\n              <div class=\"detail-row\">\r\n                <span class=\"detail-label\">Expiry Date:</span>\r\n                <span class=\"detail-value\">\r\n                  <span :class=\"{ 'text-danger': isVoucherExpired(selectedReturn.returnVoucher) }\">\r\n                    {{ formatDate(selectedReturn.returnVoucher.expiryDate) }}\r\n                  </span>\r\n                </span>\r\n              </div>\r\n              <div class=\"detail-row\">\r\n                <span class=\"detail-label\">Status:</span>\r\n                <span class=\"detail-value\">\r\n                  <b-badge :variant=\"getVoucherStatusVariant(selectedReturn.returnVoucher.status)\">\r\n                    {{ selectedReturn.returnVoucher.status }}\r\n                  </b-badge>\r\n                </span>\r\n              </div>\r\n              <div class=\"detail-row\" v-if=\"selectedReturn.returnVoucher.customerName\">\r\n                <span class=\"detail-label\">Customer:</span>\r\n                <span class=\"detail-value\">{{ selectedReturn.returnVoucher.customerName }}</span>\r\n              </div>\r\n            </b-col>\r\n          </b-row>\r\n        </b-card>\r\n\r\n        <!-- Return Lines -->\r\n        <b-card>\r\n          <h5 class=\"mb-3\">Returned Items</h5>\r\n          <b-table :items=\"selectedReturn.returnLines || []\" :fields=\"returnLineFields\" small striped responsive>\r\n            <template #cell(item)=\"row\">\r\n              <div>\r\n                <strong>{{ row.item.item ? row.item.item.name : 'N/A' }}</strong>\r\n                <div v-if=\"row.item.item && row.item.item.itemCode\" class=\"small text-muted\">\r\n                  Code: {{ row.item.item.itemCode }}\r\n                </div>\r\n              </div>\r\n            </template>\r\n\r\n            <template #cell(quantity)=\"row\">\r\n              {{ row.item.quantity }}\r\n            </template>\r\n\r\n            <template #cell(unitPrice)=\"row\">\r\n              {{ formatPrice(row.item.unitPrice) }} TND\r\n            </template>\r\n\r\n            <template #cell(lineTotal)=\"row\">\r\n              <strong>{{ formatPrice(row.item.lineTotalIncludingVat || row.item.lineTotal) }} TND</strong>\r\n            </template>\r\n\r\n            <template #cell(synched)=\"row\">\r\n              <b-badge :variant=\"isSynched(row.item.synched) ? 'success' : 'secondary'\" class=\"sync-indicator\">\r\n                <feather-icon :icon=\"isSynched(row.item.synched) ? 'CheckIcon' : 'XIcon'\" size=\"12\" class=\"mr-1\" />\r\n                {{ isSynched(row.item.synched) ? 'Synced' : 'Not Synced' }}\r\n              </b-badge>\r\n            </template>\r\n          </b-table>\r\n        </b-card>\r\n\r\n        <!-- Actions -->\r\n        <div class=\"text-right mt-3\">\r\n          <b-button v-if=\"selectedReturn.returnType === 'RETURN_VOUCHER' && selectedReturn.returnVoucher\"\r\n            variant=\"success\" @click=\"printVoucher(selectedReturn)\" class=\"mr-2\">\r\n            <feather-icon icon=\"PrinterIcon\" size=\"16\" class=\"mr-1\" />\r\n            Print Voucher\r\n          </b-button>\r\n          <b-button variant=\"secondary\" @click=\"showDetailsModal = false\">\r\n            Close\r\n          </b-button>\r\n        </div>\r\n      </div>\r\n    </b-modal>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport ToastificationContent from '@core/components/toastification/ToastificationContent.vue'\r\nimport ReceiptTemplate from '@/components/ReceiptTemplate.vue'\r\nimport JsBarcode from 'jsbarcode'\r\nimport moment from 'moment'\r\n\r\nexport default {\r\n  name: 'ReturnsManagement',\r\n  data() {\r\n    // Get today's date for default filter\r\n    const today = new Date()\r\n    const todayStr = today.toISOString().split('T')[0]\r\n\r\n    return {\r\n      returns: [],\r\n      loading: false,\r\n      selectedReturn: null,\r\n      showDetailsModal: false,\r\n      sortBy: 'returnDate',\r\n      sortDesc: true,\r\n      currentPage: 1,\r\n      perPage: 10,\r\n      perPageOptions: [\r\n        { value: 10, text: '10' },\r\n        { value: 20, text: '20' },\r\n        { value: 50, text: '50' },\r\n        { value: 100, text: '100' }\r\n      ],\r\n      totalRows: 0,\r\n      filters: {\r\n        search: '',\r\n        dateFrom: todayStr,\r\n        dateTo: todayStr,\r\n        returnType: null,\r\n        voucherStatus: null,\r\n        syncStatus: 'all'\r\n      },\r\n      filtersExpanded: false,\r\n      returnFields: [\r\n        { key: 'returnNumber', label: 'Return #', sortable: true },\r\n        { key: 'returnDate', label: 'Date', sortable: true },\r\n        { key: 'returnType', label: 'Type', sortable: true },\r\n        { key: 'totalReturnAmount', label: 'Amount', sortable: true },\r\n        { key: 'originalTicket', label: 'Original Ticket', sortable: false },\r\n        { key: 'voucherInfo', label: 'Voucher Info', sortable: false },\r\n        { key: 'synchronizationStatus', label: 'Sync Status', sortable: true }\r\n      ],\r\n      returnLineFields: [\r\n        { key: 'item', label: 'Item' },\r\n        { key: 'quantity', label: 'Qty' },\r\n        { key: 'unitPrice', label: 'Unit Price' },\r\n        { key: 'lineTotal', label: 'Total TTC' },\r\n        { key: 'synched', label: 'Synced', class: 'text-center' }\r\n      ],\r\n      returnTypeOptions: [\r\n        { value: null, text: 'All Types' },\r\n        { value: 'SIMPLE_RETURN', text: 'Simple Return' },\r\n        { value: 'RETURN_VOUCHER', text: 'Return Voucher' }\r\n      ],\r\n      voucherStatusOptions: [\r\n        { value: null, text: 'All Statuses' },\r\n        { value: 'PENDING', text: 'Pending' },\r\n        { value: 'USED', text: 'Used' },\r\n        { value: 'EXPIRED', text: 'Expired' }\r\n      ],\r\n      syncStatusOptions: [\r\n        { value: 'all', text: 'All' },\r\n        { value: 'NOT_SYNCHED', text: 'Not Synced' },\r\n        { value: 'PARTIALLY_SYNCHED', text: 'Partially Synced' },\r\n        { value: 'TOTALLY_SYNCHED', text: 'Totally Synced' }\r\n      ]\r\n    }\r\n  },\r\n  computed: {\r\n    startIndex() {\r\n      return this.totalRows === 0 ? 0 : ((this.currentPage - 1) * this.perPage) + 1\r\n    },\r\n    endIndex() {\r\n      return Math.min(this.currentPage * this.perPage, this.totalRows)\r\n    }\r\n  },\r\n  mounted() {\r\n    this.loadReturns()\r\n  },\r\n  methods: {\r\n    async loadReturns() {\r\n      this.loading = true\r\n      try {\r\n        const response = await this.$http.get('/return-header')\r\n        let allReturns = response.data || []\r\n\r\n        // Apply filters\r\n        allReturns = this.applyFilters(allReturns)\r\n\r\n        // Sort\r\n        allReturns.sort((a, b) => {\r\n          const aVal = a[this.sortBy]\r\n          const bVal = b[this.sortBy]\r\n          if (this.sortDesc) {\r\n            return aVal > bVal ? -1 : aVal < bVal ? 1 : 0\r\n          } else {\r\n            return aVal < bVal ? -1 : aVal > bVal ? 1 : 0\r\n          }\r\n        })\r\n\r\n        this.totalRows = allReturns.length\r\n\r\n        // Paginate\r\n        const start = (this.currentPage - 1) * this.perPage\r\n        const end = start + this.perPage\r\n        this.returns = allReturns.slice(start, end)\r\n      } catch (error) {\r\n        console.error('Error loading returns:', error)\r\n        this.$toast({\r\n          component: ToastificationContent,\r\n          props: {\r\n            title: 'Error',\r\n            icon: 'XIcon',\r\n            text: 'Failed to load returns',\r\n            variant: 'danger'\r\n          }\r\n        })\r\n      } finally {\r\n        this.loading = false\r\n      }\r\n    },\r\n    applyFilters(returns) {\r\n      let filtered = returns\r\n\r\n      // Search filter\r\n      if (this.filters.search) {\r\n        const search = this.filters.search.toLowerCase()\r\n        filtered = filtered.filter(ret => {\r\n          const returnNum = (ret.returnNumber || '').toLowerCase()\r\n          const ticketNum = (ret.originalSalesHeader?.salesNumber || '').toLowerCase()\r\n          const voucherNum = (ret.returnVoucher?.voucherNumber || '').toLowerCase()\r\n          return returnNum.includes(search) || ticketNum.includes(search) || voucherNum.includes(search)\r\n        })\r\n      }\r\n\r\n      // Date filters\r\n      if (this.filters.dateFrom) {\r\n        filtered = filtered.filter(ret => {\r\n          const retDate = moment(ret.returnDate).format('YYYY-MM-DD')\r\n          return retDate >= this.filters.dateFrom\r\n        })\r\n      }\r\n\r\n      if (this.filters.dateTo) {\r\n        filtered = filtered.filter(ret => {\r\n          const retDate = moment(ret.returnDate).format('YYYY-MM-DD')\r\n          return retDate <= this.filters.dateTo\r\n        })\r\n      }\r\n\r\n      // Return type filter\r\n      if (this.filters.returnType) {\r\n        filtered = filtered.filter(ret => ret.returnType === this.filters.returnType)\r\n      }\r\n\r\n      // Voucher status filter\r\n      if (this.filters.voucherStatus) {\r\n        filtered = filtered.filter(ret => {\r\n          return ret.returnVoucher && ret.returnVoucher.status === this.filters.voucherStatus\r\n        })\r\n      }\r\n\r\n      // Sync status filter\r\n      if (this.filters.syncStatus && this.filters.syncStatus !== 'all') {\r\n        filtered = filtered.filter(ret => {\r\n          return ret.synchronizationStatus === this.filters.syncStatus\r\n        })\r\n      }\r\n\r\n      return filtered\r\n    },\r\n    onFilterChange() {\r\n      this.currentPage = 1\r\n      this.loadReturns()\r\n    },\r\n    onPageChange(page) {\r\n      this.currentPage = page\r\n      this.loadReturns()\r\n    },\r\n    onPerPageChange() {\r\n      // Reset to first page when changing items per page\r\n      this.currentPage = 1\r\n      this.loadReturns()\r\n    },\r\n    clearSearch() {\r\n      this.filters.search = ''\r\n      this.onFilterChange()\r\n    },\r\n    toggleFilters() {\r\n      this.filtersExpanded = !this.filtersExpanded\r\n    },\r\n    resetFilters() {\r\n      // Get today's date for reset\r\n      const today = new Date()\r\n      const todayStr = today.toISOString().split('T')[0]\r\n\r\n      this.filters = {\r\n        search: '',\r\n        dateFrom: todayStr,\r\n        dateTo: todayStr,\r\n        returnType: null,\r\n        voucherStatus: null,\r\n        syncStatus: 'all'\r\n      }\r\n      this.currentPage = 1\r\n      this.loadReturns()\r\n    },\r\n    async viewReturnDetails(returnItem) {\r\n      try {\r\n        const response = await this.$http.get(`/return-header/${returnItem.id}/details`)\r\n\r\n        // Merge API response with list item data to preserve sync status and ERP number\r\n        this.selectedReturn = {\r\n          ...response.data.returnHeader,\r\n          // Preserve synchronization fields from list item (they might not be in details response)\r\n          synchronizationStatus: response.data.returnHeader.synchronizationStatus || returnItem.synchronizationStatus,\r\n          erpNo: response.data.returnHeader.erpNo || returnItem.erpNo\r\n        }\r\n        this.selectedReturn.returnLines = response.data.returnLines\r\n        this.showDetailsModal = true\r\n      } catch (error) {\r\n        console.error('Error loading return details:', error)\r\n        this.$toast({\r\n          component: ToastificationContent,\r\n          props: {\r\n            title: 'Error',\r\n            icon: 'XIcon',\r\n            text: 'Failed to load return details',\r\n            variant: 'danger'\r\n          }\r\n        })\r\n      }\r\n    },\r\n    async printVoucher(returnItem) {\r\n      if (!returnItem.returnVoucher) {\r\n        this.$toast({\r\n          component: ToastificationContent,\r\n          props: {\r\n            title: 'Error',\r\n            icon: 'XIcon',\r\n            text: 'No voucher found for this return',\r\n            variant: 'warning'\r\n          }\r\n        })\r\n        return\r\n      }\r\n\r\n      // Load full return details if not already loaded\r\n      let returnData = returnItem\r\n      if (!returnData.returnLines) {\r\n        try {\r\n          const response = await this.$http.get(`/return-header/${returnItem.id}/details`)\r\n          returnData = {\r\n            ...response.data.returnHeader,\r\n            returnLines: response.data.returnLines\r\n          }\r\n        } catch (error) {\r\n          console.error('Error loading return details for printing:', error)\r\n          this.$toast({\r\n            component: ToastificationContent,\r\n            props: {\r\n              title: 'Error',\r\n              icon: 'XIcon',\r\n              text: 'Failed to load return details for printing',\r\n              variant: 'danger'\r\n            }\r\n          })\r\n          return\r\n        }\r\n      }\r\n\r\n      // Prepare voucher data in the same format as sale data for ReceiptTemplate\r\n      const returnLines = returnData.returnLines || []\r\n      const voucherData = {\r\n        salesNumber: returnData.returnVoucher.voucherNumber,\r\n        salesDate: returnData.returnVoucher.voucherDate,\r\n        totalAmount: returnData.returnVoucher.voucherAmount,\r\n        subtotal: returnData.returnVoucher.voucherAmount,\r\n        taxAmount: 0,\r\n        discountAmount: 0,\r\n        paidAmount: returnData.returnVoucher.voucherAmount,\r\n        changeAmount: 0,\r\n        notes: `Return Voucher - Original Ticket: ${returnData.originalSalesHeader?.salesNumber || 'N/A'}`,\r\n        createdByUser: {\r\n          fullName: 'System',\r\n          username: 'System'\r\n        },\r\n        cashierSession: null,\r\n        customer: returnData.returnVoucher.customerName ? {\r\n          name: returnData.returnVoucher.customerName\r\n        } : null,\r\n        salesLines: returnLines.map(line => ({\r\n          item: {\r\n            name: line.item ? line.item.name : 'Unknown Item',\r\n            itemCode: line.item ? line.item.itemCode : null\r\n          },\r\n          quantity: line.quantity,\r\n          unitPrice: line.unitPrice,\r\n          lineTotal: line.lineTotal\r\n        })),\r\n        paymentHeaders: [{\r\n          paymentMethod: {\r\n            name: 'Return Voucher'\r\n          },\r\n          totalAmount: returnData.returnVoucher.voucherAmount,\r\n          paymentReference: returnData.returnVoucher.voucherNumber\r\n        }]\r\n      }\r\n\r\n      // Add voucher-specific information\r\n      voucherData.isVoucher = true\r\n      voucherData.voucherInfo = {\r\n        voucherNumber: returnData.returnVoucher.voucherNumber,\r\n        expiryDate: returnData.returnVoucher.expiryDate,\r\n        originalTicket: returnData.originalSalesHeader?.salesNumber || 'N/A',\r\n        returnNumber: returnData.returnNumber\r\n      }\r\n\r\n      // Use Vue to create component instance\r\n      const Vue = this.$root.constructor || this.$options._base\r\n      const ReceiptComponent = Vue.extend(ReceiptTemplate)\r\n\r\n      // Create component instance\r\n      const instance = new ReceiptComponent({\r\n        parent: this,\r\n        propsData: {\r\n          saleData: voucherData,\r\n          isVoucher: true,\r\n          isDuplicate: true // Show duplicate badge for reprints\r\n        }\r\n      })\r\n\r\n      // Mount the component\r\n      instance.$mount()\r\n\r\n      // Wait for component to mount and generate barcode\r\n      await this.$nextTick()\r\n      await new Promise(resolve => setTimeout(resolve, 200))\r\n\r\n      // Generate barcode in the component if voucher_number exists\r\n      const barcodeValue = returnData.returnVoucher.voucherNumber || null\r\n      if (barcodeValue && instance.$el) {\r\n        try {\r\n          const svgElement = instance.$el.querySelector('.barcode-svg')\r\n          if (svgElement) {\r\n            JsBarcode(svgElement, barcodeValue, {\r\n              format: 'CODE128',\r\n              width: 1.5,\r\n              height: 40,\r\n              displayValue: false,\r\n              margin: 5,\r\n              background: '#ffffff',\r\n              lineColor: '#000000'\r\n            })\r\n          }\r\n        } catch (error) {\r\n          console.error('Error generating barcode:', error)\r\n        }\r\n      }\r\n\r\n      // Create a new window for printing\r\n      const printWindow = window.open('', '_blank')\r\n      if (!printWindow) {\r\n        this.$toast({\r\n          component: ToastificationContent,\r\n          props: {\r\n            title: 'Print Error',\r\n            icon: 'XIcon',\r\n            text: 'Please allow popups to print vouchers',\r\n            variant: 'warning'\r\n          }\r\n        })\r\n        return\r\n      }\r\n\r\n      // Write receipt HTML to new window\r\n      printWindow.document.write(`\r\n        <!DOCTYPE html>\r\n        <html>\r\n        <head>\r\n          <title>Return Voucher - ${returnData.returnVoucher.voucherNumber} - DUPLICATE</title>\r\n          <style>\r\n            @page {\r\n              size: 80mm auto;\r\n              margin: 0;\r\n            }\r\n            body {\r\n              margin: 0;\r\n              padding: 10mm;\r\n              font-family: 'Courier New', monospace;\r\n              font-size: 12px;\r\n              line-height: 1.4;\r\n              background: white;\r\n              color: black;\r\n            }\r\n            .receipt-template {\r\n              width: 100%;\r\n              max-width: 80mm;\r\n            }\r\n            .receipt-header { margin-bottom: 15px; }\r\n            .receipt-header h2 { font-size: 16px; margin: 5px 0; font-weight: bold; text-align: center; }\r\n            .receipt-header h3 { font-size: 14px; margin: 5px 0; font-weight: bold; text-align: center; }\r\n            .receipt-divider { margin: 8px 0; text-align: center; }\r\n            .receipt-info, .receipt-items, .receipt-totals, .receipt-payments { margin-bottom: 10px; }\r\n            .receipt-row { display: flex; justify-content: space-between; margin-bottom: 4px; font-size: 12px; }\r\n            .receipt-row.total { font-weight: bold; font-size: 14px; margin-top: 8px; }\r\n            .receipt-row .label { text-align: left; }\r\n            .receipt-row .value { text-align: right; font-weight: bold; }\r\n            .item-name { flex: 2; text-align: left; }\r\n            .item-qty { flex: 0.5; text-align: center; }\r\n            .item-total { flex: 1; text-align: right; }\r\n            .item-code { font-size: 10px; color: #666; margin-left: 10px; margin-bottom: 6px; }\r\n            .receipt-section-header { font-weight: bold; text-align: center; margin: 8px 0; }\r\n            .receipt-footer { margin-top: 20px; text-align: center; font-size: 11px; }\r\n            .receipt-item { margin-bottom: 8px; }\r\n            .payment-entry { margin-bottom: 8px; }\r\n            .voucher-badge {\r\n              background: #007bff;\r\n              color: white;\r\n              font-weight: bold;\r\n              text-align: center;\r\n              padding: 8px;\r\n              margin: 10px 0;\r\n              font-size: 14px;\r\n              border: 2px solid #000;\r\n            }\r\n            .duplicate-badge {\r\n              background: #ff0000 !important;\r\n              color: white !important;\r\n              font-weight: bold !important;\r\n              text-align: center !important;\r\n              padding: 10px !important;\r\n              margin: 10px 0 !important;\r\n              font-size: 18px !important;\r\n              border: 3px solid #000 !important;\r\n              letter-spacing: 2px !important;\r\n            }\r\n            .receipt-barcode { margin: 15px 0; text-align: center; }\r\n            .barcode-container { display: flex; justify-content: center; align-items: center; margin: 10px 0; }\r\n            .barcode-svg { max-width: 100%; height: auto; }\r\n            .barcode-text { font-size: 11px; font-weight: bold; margin-top: 5px; letter-spacing: 1px; text-align: center; }\r\n          </style>\r\n        </head>\r\n        <body>\r\n          ${instance.$el.outerHTML}\r\n        </body>\r\n        </html>\r\n      `)\r\n\r\n      printWindow.document.close()\r\n\r\n      // Wait for content to load and barcode to generate, then print\r\n      setTimeout(() => {\r\n        printWindow.focus()\r\n        printWindow.print()\r\n\r\n        // Close window after printing\r\n        setTimeout(() => {\r\n          printWindow.close()\r\n          if (instance && instance.$el) {\r\n            instance.$destroy()\r\n          }\r\n        }, 1000)\r\n      }, 500)\r\n    },\r\n    getRemainingAmount(voucher) {\r\n      if (!voucher) return 0\r\n      const voucherAmount = voucher.voucherAmount || 0\r\n      const usedAmount = voucher.usedAmount || 0\r\n      return Math.max(0, voucherAmount - usedAmount)\r\n    },\r\n    isVoucherExpired(voucher) {\r\n      if (!voucher || !voucher.expiryDate) return false\r\n      return moment().isAfter(moment(voucher.expiryDate))\r\n    },\r\n    getVoucherStatusVariant(status) {\r\n      switch (status) {\r\n        case 'PENDING':\r\n          return 'success'\r\n        case 'USED':\r\n          return 'info'\r\n        case 'EXPIRED':\r\n          return 'danger'\r\n        default:\r\n          return 'secondary'\r\n      }\r\n    },\r\n    formatPrice(price) {\r\n      if (!price && price !== 0) return '0.00'\r\n      return parseFloat(price).toFixed(2)\r\n    },\r\n    formatDate(dateString) {\r\n      if (!dateString) return ''\r\n      return moment(dateString).format('YYYY-MM-DD HH:mm')\r\n    },\r\n    formatSyncStatus(status) {\r\n      if (!status) return 'Not Synced'\r\n      return status\r\n        .split('_')\r\n        .map(word => word.charAt(0) + word.slice(1).toLowerCase())\r\n        .join(' ')\r\n    },\r\n    getSyncStatusVariant(status) {\r\n      if (!status) return 'secondary'\r\n      switch (status) {\r\n        case 'TOTALLY_SYNCHED':\r\n          return 'success'\r\n        case 'PARTIALLY_SYNCHED':\r\n          return 'warning'\r\n        case 'NOT_SYNCHED':\r\n          return 'secondary'\r\n        default:\r\n          return 'secondary'\r\n      }\r\n    },\r\n    getSyncStatusIcon(status) {\r\n      if (!status) return 'XIcon'\r\n      switch (status) {\r\n        case 'TOTALLY_SYNCHED':\r\n          return 'CheckCircleIcon'\r\n        case 'PARTIALLY_SYNCHED':\r\n          return 'AlertCircleIcon'\r\n        case 'NOT_SYNCHED':\r\n          return 'XCircleIcon'\r\n        default:\r\n          return 'XCircleIcon'\r\n      }\r\n    },\r\n    getSyncedLinesCount(lines) {\r\n      if (!lines || !Array.isArray(lines)) return 0\r\n      return lines.filter(line => this.isSynched(line.synched)).length\r\n    },\r\n    isSynched(synchedValue) {\r\n      // Handle boolean true, string \"true\", or number 1\r\n      if (synchedValue === true || synchedValue === 'true' || synchedValue === 1) {\r\n        return true\r\n      }\r\n      // Handle boolean false, string \"false\", null, undefined, or 0\r\n      return false\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.returns-management-container {\r\n  padding: 20px;\r\n}\r\n\r\n.page-header {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  margin-bottom: 20px;\r\n}\r\n\r\n.table-header {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n}\r\n\r\n.cursor-pointer {\r\n  cursor: pointer;\r\n}\r\n\r\n.detail-row {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  margin-bottom: 10px;\r\n  padding-bottom: 8px;\r\n  border-bottom: 1px solid #eee;\r\n}\r\n\r\n.detail-label {\r\n  font-weight: 600;\r\n  color: #666;\r\n}\r\n\r\n.detail-value {\r\n  text-align: right;\r\n}\r\n\r\n.sync-status-cell {\r\n  min-width: 120px;\r\n}\r\n\r\n.sync-badge {\r\n  font-size: 11px;\r\n  padding: 4px 8px;\r\n  display: inline-flex;\r\n  align-items: center;\r\n}\r\n\r\n.sync-indicator {\r\n  font-size: 11px;\r\n  padding: 4px 8px;\r\n  display: inline-flex;\r\n  align-items: center;\r\n}\r\n\r\n.sync-info-card {\r\n  background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);\r\n  border: 1px solid #dee2e6;\r\n}\r\n\r\n.sync-detail-item {\r\n  margin-bottom: 15px;\r\n}\r\n\r\n.sync-label {\r\n  font-size: 12px;\r\n  color: #6c757d;\r\n  text-transform: uppercase;\r\n  letter-spacing: 0.5px;\r\n  font-weight: 600;\r\n  margin-bottom: 6px;\r\n  display: block;\r\n}\r\n\r\n.sync-value {\r\n  font-size: 14px;\r\n  color: #212529;\r\n}\r\n\r\n.sync-badge-large {\r\n  font-size: 13px;\r\n  padding: 6px 12px;\r\n  display: inline-flex;\r\n  align-items: center;\r\n}\r\n\r\n.erp-number {\r\n  background: #fff;\r\n  padding: 6px 10px;\r\n  border-radius: 4px;\r\n  border: 1px solid #dee2e6;\r\n  font-size: 13px;\r\n  color: #495057;\r\n  font-weight: 600;\r\n}\r\n\r\n.sync-summary {\r\n  padding-top: 12px;\r\n  border-top: 1px solid #dee2e6;\r\n}\r\n\r\n@media (max-width: 575.98px) {\r\n  .page-header {\r\n    flex-direction: column;\r\n    align-items: stretch;\r\n    gap: 15px;\r\n  }\r\n\r\n  .page-header .btn {\r\n    width: 100%;\r\n  }\r\n\r\n  .sync-status-cell {\r\n    min-width: auto;\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ReturnsManagement.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ReturnsManagement.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./ReturnsManagement.vue?vue&type=template&id=3832a11e&scoped=true\"\nimport script from \"./ReturnsManagement.vue?vue&type=script&lang=js\"\nexport * from \"./ReturnsManagement.vue?vue&type=script&lang=js\"\nimport style0 from \"./ReturnsManagement.vue?vue&type=style&index=0&id=3832a11e&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3832a11e\",\n  null\n  \n)\n\nexport default component.exports","'use strict';\nvar $ = require('../internals/export');\nvar aFunction = require('../internals/a-function');\nvar toObject = require('../internals/to-object');\nvar fails = require('../internals/fails');\nvar arrayMethodIsStrict = require('../internals/array-method-is-strict');\n\nvar test = [];\nvar nativeSort = test.sort;\n\n// IE8-\nvar FAILS_ON_UNDEFINED = fails(function () {\n  test.sort(undefined);\n});\n// V8 bug\nvar FAILS_ON_NULL = fails(function () {\n  test.sort(null);\n});\n// Old WebKit\nvar STRICT_METHOD = arrayMethodIsStrict('sort');\n\nvar FORCED = FAILS_ON_UNDEFINED || !FAILS_ON_NULL || !STRICT_METHOD;\n\n// `Array.prototype.sort` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.sort\n$({ target: 'Array', proto: true, forced: FORCED }, {\n  sort: function sort(comparefn) {\n    return comparefn === undefined\n      ? nativeSort.call(toObject(this))\n      : nativeSort.call(toObject(this), aFunction(comparefn));\n  }\n});\n","'use strict';\nvar fixRegExpWellKnownSymbolLogic = require('../internals/fix-regexp-well-known-symbol-logic');\nvar anObject = require('../internals/an-object');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\nvar sameValue = require('../internals/same-value');\nvar regExpExec = require('../internals/regexp-exec-abstract');\n\n// @@search logic\nfixRegExpWellKnownSymbolLogic('search', 1, function (SEARCH, nativeSearch, maybeCallNative) {\n  return [\n    // `String.prototype.search` method\n    // https://tc39.github.io/ecma262/#sec-string.prototype.search\n    function search(regexp) {\n      var O = requireObjectCoercible(this);\n      var searcher = regexp == undefined ? undefined : regexp[SEARCH];\n      return searcher !== undefined ? searcher.call(regexp, O) : new RegExp(regexp)[SEARCH](String(O));\n    },\n    // `RegExp.prototype[@@search]` method\n    // https://tc39.github.io/ecma262/#sec-regexp.prototype-@@search\n    function (regexp) {\n      var res = maybeCallNative(nativeSearch, regexp, this);\n      if (res.done) return res.value;\n\n      var rx = anObject(regexp);\n      var S = String(this);\n\n      var previousLastIndex = rx.lastIndex;\n      if (!sameValue(previousLastIndex, 0)) rx.lastIndex = 0;\n      var result = regExpExec(rx, S);\n      if (!sameValue(rx.lastIndex, previousLastIndex)) rx.lastIndex = previousLastIndex;\n      return result === null ? -1 : result.index;\n    }\n  ];\n});\n","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ReturnsManagement.vue?vue&type=style&index=0&id=3832a11e&prod&scoped=true&lang=css\""],"sourceRoot":""}